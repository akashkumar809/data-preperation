 
TM Forum 2019. All Rights Reserved. 
 
 
 
TM Forum Specification 
 
 
Recommendation Management API 
User Guide 
 
 
 
 
 
TMF680 
Team Approved Date: 03-Apr-2020 
 
Release Status: Production 
Approval Status: TM Forum Approved 
Version 4.0.1 
IPR Mode: RAND 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 2 of 38 
 
NOTICE 
Copyright © TM Forum 2020. All Rights Reserved. 
 
This document and translations of it may be copied and furnished to others, and derivative works that comment on 
or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in 
whole or in part, without restriction of any kind, provided that the above copyright notice and this section are 
included on all such copies and derivative works. However, this document itself may not be modified in any way, 
including by removing the copyright notice or references to TM FORUM, except as needed for the purpose of 
developing any document or deliverable produced by a TM FORUM Collaboration Project Team (in which case the 
rules applicable to copyrights, as set forth in the TM FORUM IPR Policy, must be followed) or as required to 
translate it into languages other than English. 
 
The limited permissions granted above are perpetual and will not be revoked by TM FORUM or its successors or 
assigns. 
 
This document and the information contained herein is provided on an "AS IS" basis and TM FORUM DISCLAIMS 
ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF 
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
 
TM FORUM invites any TM FORUM Member or any other party that believes it has patent claims that would 
necessarily be infringed by implementations of this TM Forum Standards Final Deliverable, to notify the TM FORUM 
Team Administrator and provide an indication of its willingness to grant patent licenses to such patent claims in a 
manner consistent with the IPR Mode of the TM FORUM Collaboration Project Team that produced this deliverable. 
 
The TM FORUM invites any party to contact the TM FORUM Team Administrator if it is aware of a claim of 
ownership of any patent claims that would necessarily be infringed by implementations of this TM FORUM 
Standards Final Deliverable by a patent holder that is not willing to provide a license to such patent claims in a 
manner consistent with the IPR Mode of the TM FORUM Collaboration Project Team that produced this TM FORUM 
Standards Final Deliverable. TM FORUM may include such claims on its website but disclaims any obligation to do 
so. 
 
TM FORUM takes no position regarding the validity or scope of any intellectual property or other rights that might 
be claimed to pertain to the implementation or use of the technology described in this TM FORUM Standards Final 
Deliverable or the extent to which any license under such rights might or might not be available; neither does it 
represent that it has made any effort to identify any such rights. Information on TM FORUM's procedures with 
respect to rights in any document or deliverable produced by a TM FORUM Collaboration Project Team can be 
found on the TM FORUM website. Copies of claims of rights made available for publication and any assurances of 
licenses to be made available, or the result of an attempt made to obtain a general license or permission for the 
use of such proprietary rights by implementers or users of this TM FORUM Standards Final Deliverable, can be 
obtained from the TM FORUM Team Administrator. TM FORUM makes no representation that any information or 
list of intellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential 
Claims. 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 3 of 38 
 
 
Direct inquiries to the TM Forum office: 
 
4 Century Drive, Suite 100 
Parsippany, NJ 07054, USA 
Tel No. +1 973 944 5100 
Fax No. +1 973 998 7196 
TM Forum Web Page: www.tmforum.org 
 
 
 
 
 
 
 
 
 
 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 4 of 38 
 
Table of Contents 
 
NOTICE ....................................................................................................................................................................... 2 
Table of Contents ..................................................................................................................................................... 4 
List of Tables ............................................................................................................................................................. 5 
Introduction .............................................................................................................................................................. 6 
SAMPLE USE CASES ......................................................................................................................................................... 7 
Support of polymorphism and extension patterns ........................................................................................................ 9 
RESOURCE MODEL ........................................................................................................................................................ 10 
Managed Entity and Task Resource Models ..................................................................................................... 10 
Query Product Recommendation resource .......................................................................................................... 10 
Notification Resource Models .............................................................................................................................. 24 
Query Product Recommendation Create Event .................................................................................................... 25 
Query Product Recommendation State Change Event ......................................................................................... 26 
API OPERATIONS ........................................................................................................................................................... 27 
Operations on Query Product Recommendation ..................................................................................................... 27 
List query product recommendations ................................................................................................................... 27 
Retrieve query product recommendation ............................................................................................................ 28 
Create query product recommendation ............................................................................................................... 30 
API NOTIFICATIONS....................................................................................................................................................... 35 
Register listener ........................................................................................................................................................ 35 
Unregister listener .................................................................................................................................................... 36 
Publish Event to listener ........................................................................................................................................... 36 
Acknowledgements ...................................................................................................................................................... 38 
Version History.......................................................................................................................................................... 38 
Release History ......................................................................................................................................................... 38 
Contributors to Document ........................................................................................................................................ 38 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 5 of 38 
 
List of Tables 
N/A 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 6 of 38 
 
Introduction 
The following document is the specification of the REST API for Recommendation Management. It includes the 
model definition as well as all available operations.  
Recommendation API manages the following data resources:  
- Recommendation is a type of automated (typically, conditional) system action to determine which products 
offerings to be presented as up-sells, cross-sells, and related products to each customer segment based on 
customer and session specific information. The design-time offers and product recommendations may come from 
Marketing and Catalog. The run-time evaluation and presentment will be executed with contextual/session 
information. Normally, it supports the recommendation of the offer which is proper for the customer, provides Up-
sell and cross-sell based on contextual and catalog rules.  
 
 
Recommendation API is used to recommend offering quickly based on the history and real-time context of 
customer. It is a real-time and personalized recommendation API. It is usually provided by e-commerce or BSS, CRM 
system in omni-channel.  
The typical example of recommendation is on the online e-commerce site. 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 7 of 38 
 
SAMPLE USE CASES 
Example 1: a recommendation can be based on a party and a channel. In this case, the user is logged on the 
website. A recommendation can be done, according to his actual product inventory. 
 
 
Example 2: a recommendation can be based on a shopping cart’s content. In this case, the recommendation is 
based on the contents of the shopping cart. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 8 of 38 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 9 of 38 
 
Support of polymorphism and extension patterns 
Support of polymorphic collections and types and schema based extension is provided by means of a list of generic 
meta-attributes that we describe below. Polymorphism in collections occurs when entities inherit from base 
entities, for instance a BillingAccount and SettlementAccount inheriting properties from the abstract Account 
entity. 
Generic support of polymorphism and pattern extensions is described in the TMF API Guidelines v3.0 Part 2 
document. 
The @type attribute provides a way to represent the actual class type of an entity. For example, within a list of 
Account instances some may be instances of BillingAccount where other could be instances of SettlementAccount. 
The @type gives this information. All resources and sub-resources of this API have a @type attributes that can be 
provided when this is useful. 
The @referredType can be used within reference entities (like for instance an AccountRef object) to explicitly 
denote the actual entity type of the referred class. Notice that in reference entities the @type, when used, denotes 
the class type of the reference itself, such as BillingAccountRef or SettlementAccountRef, and not the class type of 
the referred object. However, since reference classes are rarely sub-classed, @type is generally not useful in 
reference objects. 
The @schemaLocation property can be used in resources to allow specifying user-defined properties of an Entity or 
to specify the expected characteristics of an entity. 
The @baseType attribute gives a way to provide explicitly the base of class of a given resource that has been 
extended. 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 10 of 38 
 
RESOURCE MODEL 
Managed Entity and Task Resource Models 
Query Product Recommendation resource 
Recommendation API is used to recommend offering quickly based on the history and real-time context of 
customer. It is a real-time and personalized recommendation API. It is usually provided by e-commerce or BSS, CRM 
system in omni-channel. 
Resource model 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 11 of 38 
 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 12 of 38 
 
Lifecycle 
 
Field descriptions 
QueryProductRecommendation fields 
category 
A list of category references (CategoryRef [*]). The category for grouping 
recommendations. 
channel 
A list of channel references (ChannelRef [*]). The channel to which the resource 
reference to. e.g. channel for selling product offerings, channel for opening a 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 13 of 38 
 
trouble ticket etc.. 
description 
A string. 
href 
A string. Hypertext Reference of the queryProductRecommendation. 
id 
A string. Unique identifier of the queryProductRecommendation. 
instantSyncRecommendation A boolean. An indicator which when the value is "true" means that requester 
expects to get recommendation result in the response. 
name 
A string. Name of the queryProductRecommendation. 
place 
A related place ref or value (RelatedPlaceRefOrValue). The place which the 
queryProductRecommendation is related to. 
productOrder 
A list of product order references (ProductOrderRef [*]). ProductOrder 
(ProductOrder) .The product order which the recommendation is related with. 
productOrderItem 
A list of item references (ItemRef [*]). Describes a specific item contained in a 
parent element. 
recommendationItem 
A list of recommendation items (RecommendationItem [*]). Every item is a product 
offering and its rank. 
recommendationType 
A string. The type of the queryProductRecommendation. 
relatedParty 
A related party (RelatedParty). Related Entity reference. A related party defines 
party or party role linked to a specific entity. 
shoppingCart 
A list of shopping cart references (ShoppingCartRef [*]). ShoppingCart 
(ShoppingCartRef) . The shopping cart which the recommendation is related with. 
shoppingCartItem 
A list of item references (ItemRef [*]). Describes a specific item contained in a 
parent element. 
state 
A task state type (TaskStateType). State of the queryProductRecommendation 
defined in the state engine. 
validFor 
A time period. The period in which the queryProductRecommendation is valid. 
Characteristic sub-resource 
Describes a given characteristic of an object or entity through a name/value pair. 
characteristicRelationship A list of characteristic relationships (CharacteristicRelationship [*]). Another 
Characteristic that is related to the current Characteristic;. 
id 
A string. Unique identifier of the characteristic. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 14 of 38 
 
name 
A string. Name of the characteristic. 
value 
An any (Any). The value of the characteristic. 
valueType 
A string. Data type of the value of the characteristic. 
CharacteristicRelationship sub-resource 
Another Characteristic that is related to the current Characteristic. 
id 
A string. Unique identifier of the characteristic. 
relationshipType 
A string. The type of relationship. 
Money sub-resource 
A base / value business entity used to represent money. 
unit 
A string. Currency (ISO4217 norm uses 3 letters to define the currency). 
value 
A float. A positive floating point number. 
Price sub-resource 
Provides all amounts (tax included, duty free, tax rate), used currency and percentage to apply for Price Alteration. 
dutyFreeAmount 
A money (Money). All taxes excluded amount (expressed in the given currency). 
percentage 
A float. Percentage to apply for ProdOfferPriceAlteration. 
taxIncludedAmount 
A money (Money). All taxes included amount (expressed in the given currency). 
taxRate 
A float. Tax rate. 
PriceAlteration sub-resource 
Is an amount, usually of money, that modifies the price charged for an order item. 
applicationDuration 
An integer. Duration during which the alteration applies on the order item price (for 
instance 2 months free of charge for the recurring charge). 
description 
A string. A narrative that explains in detail the semantics of this order item price 
alteration. 
name 
A string. Name of the order item price alteration. 
price 
A price (Price). Provides all amounts (tax included, duty free, tax rate), used currency 
and percentage to apply for Price Alteration. 
priceType 
A string. A category that describes the price such as recurring, one time and usage. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 15 of 38 
 
priority 
An integer. Priority level for applying this alteration among all the defined alterations 
on the order item price. 
productOfferingPrice 
A product offering price reference (ProductOfferingPriceRef). ProductPriceOffering 
reference. An amount, usually of money, that is asked for or allowed when a 
ProductOffering is bought, rented, or leased. 
recurringChargePeriod 
A string. Could be month, week... 
unitOfMeasure 
A string. Could be minutes, GB... 
ProductPrice sub-resource 
An amount, usually of money, that represents the actual price paid by a Customer for a purchase, a rent or a lease 
of a Product. The price is valid for a defined period of time. 
billingAccount 
A billing account reference (BillingAccountRef). A BillingAccount is a detailed 
description of a bill structure. 
description 
A string. A narrative that explains in detail the semantics of this product price. 
name 
A string. A short descriptive name such as "Subscription price". 
price 
A price (Price). Provides all amounts (tax included, duty free, tax rate), used currency 
and percentage to apply for Price Alteration. 
priceType 
A string. A category that describes the price, such as recurring, discount, allowance, 
penalty, and so forth. 
productOfferingPrice 
A product offering price reference (ProductOfferingPriceRef). ProductPriceOffering 
reference. An amount, usually of money, that is asked for or allowed when a 
ProductOffering is bought, rented, or leased. 
productPriceAlteration A list of price alterations (PriceAlteration [*]). Is an amount, usually of money, that 
modifies the price charged for an order item. 
recurringChargePeriod 
A string. Could be month, week... 
unitOfMeasure 
A string. Could be minutes, GB... 
ProductRefOrValue sub-resource 
A product to be created defined by value or existing defined by reference. The polymorphic attributes @type, 
@schemaLocation & @referredType are related to the product entity and not the RelatedProductRefOrValue class 
itself. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the product. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 16 of 38 
 
id 
A string. Unique identifier of the product. 
name 
A string. Name of the product. It could be the same as the name of the product 
offering. 
description 
A string. Is the description of the product. It could be copied from the description of 
the Product Offering. 
isBundle 
A boolean. If true, the product is a ProductBundle which is an instantiation of a 
BundledProductOffering. If false, the product is a ProductComponent which is an 
instantiation of a SimpleProductOffering. 
isCustomerVisible 
A boolean. If true, the product is visible by the customer. 
orderDate 
A date time (DateTime). Is the date when the product was ordered. 
productSerialNumber 
A string. Is the serial number for the product. This is typically applicable to tangible 
products e.g. Broadband Router. 
startDate 
A date time (DateTime). Is the date from which the product starts. 
terminationDate 
A date time (DateTime). Is the date when the product was terminated. 
agreement 
A list of agreement item references (AgreementItemRef [*]). Agreement reference. 
An agreement represents a contract or arrangement, either written or verbal and 
sometimes enforceable by law, such as a service level agreement or a customer price 
agreement. An agreement involves a number of other business entities, such as 
products, services, and resources and/or their specifications. 
billingAccount 
A billing account reference (BillingAccountRef). A BillingAccount is a detailed 
description of a bill structure. 
place 
A list of related place ref or values (RelatedPlaceRefOrValue [*]). Related Entity 
reference. A related place defines a place described by reference or by value linked to 
a specific entity. The polymorphic attributes @type, @schemaLocation & 
@referredType are related to the place entity and not the RelatedPlaceRefOrValue 
class itself. 
product 
A list of product ref or values (ProductRefOrValue [*]). A product to be created 
defined by value or existing defined by reference. The polymorphic attributes @type, 
@schemaLocation & @referredType are related to the product entity and not the 
RelatedProductRefOrValue class itself. 
productCharacteristic 
A list of characteristics (Characteristic [*]). Describes a given characteristic of an 
object or entity through a name/value pair. 
productOffering 
A product offering reference (ProductOfferingRef). A product offering represents 
entities that are orderable from the provider of the catalog, this resource includes 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 17 of 38 
 
pricing information. 
productOrderItem 
A list of related product order items (RelatedProductOrderItem [*]). 
RelatedProductOrderItem (ProductOrder item) .The product order item which 
triggered product creation/change/termination. 
productPrice 
A list of product prices (ProductPrice [*]). An amount, usually of money, that 
represents the actual price paid by a Customer for a purchase, a rent or a lease of a 
Product. The price is valid for a defined period of time. 
productRelationship 
A list of product relationships (ProductRelationship [*]). Linked products to the one 
instantiate, such as [bundled] if the product is a bundle and you want to describe the 
bundled products inside this bundle; [reliesOn] if the product needs another already 
owned product to rely on (e.g. an option on an already owned mobile access product) 
[targets] or [isTargeted] (depending on the way of expressing the link) for any other 
kind of links that may be useful. 
productSpecification 
A product specification reference (ProductSpecificationRef). A ProductSpecification is 
a detailed description of a tangible or intangible object made available externally in 
the form of a ProductOffering to customers or other parties playing a party role. 
productTerm 
A list of product terms (ProductTerm [*]). Description of a productTerm linked to this 
product. This represent a commitment with a duration. 
realizingResource 
A list of resource references (ResourceRef [*]). 
realizingService 
A list of service references (ServiceRef [*]). for when Service is used by other entities. 
relatedParty 
A list of related parties (RelatedParty [*]). Related Entity reference. A related party 
defines party or party role linked to a specific entity. 
status 
A product status type (ProductStatusType). Is the lifecycle status of the product. 
ProductRelationship sub-resource 
Linked products to the one instantiate, such as [bundled] if the product is a bundle and you want to describe the 
bundled products inside this bundle; [reliesOn] if the product needs another already owned product to rely on (e.g. 
an option on an already owned mobile access product) [targets] or [isTargeted] (depending on the way of 
expressing the link) for any other kind of links that may be useful. 
product 
A product ref or value (ProductRefOrValue). A product to be created defined by value 
or existing defined by reference. The polymorphic attributes @type, 
@schemaLocation & @referredType are related to the product entity and not the 
RelatedProductRefOrValue class itself. 
relationshipType 
A string. Type of the product relationship, such as [bundled] if the product is a bundle 
and you want to describe the bundled products inside this bundle; [reliesOn] if the 
product needs another already owned product to rely on (e.g. an option on an already 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 18 of 38 
 
owned mobile access product) [targets] or [isTargeted] (depending on the way of 
expressing the link) for any other kind of links that may be useful. 
ProductTerm sub-resource 
Description of a productTerm linked to this product. This represent a commitment with a duration. 
description 
A string. Description of the productTerm. 
duration 
A quantity (Quantity). Duration of the productTerm. 
name 
A string. Name of the productTerm. 
validFor 
A time period. productTerm validity period. 
Quantity sub-resource 
An amount in a given unit. 
amount 
A float. Numeric value in a given unit. 
units 
A string. Unit. 
RecommendationItem sub-resource 
A list of recommendation items. Every item is a product offering and its rank. 
id 
A string. Unique identifier of the product. 
priority 
An integer. The rank of the list of recommended offering. 
product 
A product ref or value (ProductRefOrValue). A recommended product. 
productOffering 
A product offering reference (ProductOfferingRef). A product offering represents 
entities that are orderable from the provider of the catalog, this resource includes 
pricing information. 
RelatedParty sub-resource 
Related Entity reference. A related party defines party or party role linked to a specific entity. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
role 
A string. Role played by the related party. 
RelatedPlaceRefOrValue sub-resource 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 19 of 38 
 
Related Entity reference. A related place defines a place described by reference or by value linked to a specific 
entity. The polymorphic attributes @type, @schemaLocation & @referredType are related to the place entity and 
not the RelatedPlaceRefOrValue class itself. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Unique reference of the place. 
id 
A string. Unique identifier of the place. 
name 
A string. A user-friendly name for the place, such as [Paris Store], [London Store], 
[Main Home]. 
role 
A string. 
RelatedProductOrderItem sub-resource 
RelatedProductOrderItem (ProductOrder item) .The product order item which triggered product 
creation/change/termination. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
orderItemAction 
A string. Action of the order item for this product. 
orderItemId 
A string. Identifier of the order item where the product was managed. 
productOrderHref 
A string. Reference of the related entity. 
productOrderId 
A string. Unique identifier of a related entity. 
role 
A string. role of the product order item for this product. 
TargetProductSchema sub-resource 
The reference object to the schema and type of target product which is described by product specification. 
@schemaLocation 
A string. This field provides a link to the schema describing the target product. 
@type 
A string. Class type of the target product. 
AgreementItemRef relationship 
Agreement reference. An agreement represents a contract or arrangement, either written or verbal and sometimes 
enforceable by law, such as a service level agreement or a customer price agreement. An agreement involves a 
number of other business entities, such as products, services, and resources and/or their specifications. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 20 of 38 
 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
agreementItemId 
A string. Identifier of the agreement. 
BillingAccountRef relationship 
BillingAccount reference. A BillingAccount is a detailed description of a bill structure. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the billing account. 
id 
A string. Unique identifier of the billing account. 
name 
A string. Name of the billing account. 
CategoryRef relationship 
The category for grouping recommendations. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
version 
A string. Category version. 
ChannelRef relationship 
The channel to which the resource reference to. e.g. channel for selling product offerings, channel for opening a 
trouble ticket etc. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the channel. 
ItemRef relationship 
Describes a specific item contained in a parent element. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 21 of 38 
 
entityHref 
A string. Hypertext Reference of the parent element. 
entityId 
A string. Unique identifier of the parent element. 
itemId 
A string. Unique identifier of the considered item. 
name 
A string. Name of the related entity. 
ProductOfferingPriceRef relationship 
ProductPriceOffering reference. An amount, usually of money, that is asked for or allowed when a ProductOffering 
is bought, rented, or leased. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
ProductOfferingRef relationship 
ProductOffering reference. A product offering represents entities that are orderable from the provider of the 
catalog, this resource includes pricing information. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
ProductOrderRef relationship 
ProductOrder (ProductOrder) .The product order which the recommendation is related with. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
ProductSpecificationRef relationship 
Product specification reference: A ProductSpecification is a detailed description of a tangible or intangible object 
made available externally in the form of a ProductOffering to customers or other parties playing a party role. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 22 of 38 
 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
targetProductSchema 
A target product schema (TargetProductSchema). A target product schema reference. 
The reference object to the schema and type of target product which is described by 
product specification. 
version 
A string. Version of the product specification. 
ResourceRef relationship 
 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. 
id 
A string. 
ServiceRef relationship 
Service reference, for when Service is used by other entities. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Reference of the related entity. 
id 
A string. Unique identifier of a related entity. 
name 
A string. Name of the related entity. 
ShoppingCartRef relationship 
ShoppingCart (ShoppingCartRef) . The shopping cart which the recommendation is related with. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
href 
A string. Hypertext Reference of the shopping cart. 
id 
A string. Unique identifier of shopping cart. 
Json representation sample 
We provide below the json representation of an example of a 'QueryProductRecommendation' resource object 
{ 
    "id": "1001", 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 23 of 38 
 
    "href": "http://serverlocation:port/recommendation/v1/queryProductRecommendation/1001", 
    "name": " recommendation of the latest TMFone", 
    "description": "Recommendation of the latest TMFone, for the customers with a high level of requirements", 
    "instantSyncRecommendation": "false", 
    "recommendationType": "offer", 
    "@type": "recommendation", 
    "@schemaLocation": "http://serverlocation:port/recommendation/schema/recommendation.schema.json", 
    "state": "done", 
    "validFor": { 
        "startDateTime": "2019-07-03 T04:00:00.0Z", 
        "endDateTime": "2019-07-05 T20:42:23.0Z" 
    }, 
    "channel": { 
        "id": "21", 
        "href": "http://serverlocation:port/recommendation/v1/channel/21", 
        "name": "mobile app channel" 
    }, 
      "shoppingCart": { 
        "id": "65484jyuty57655", 
        "href": "http://serverlocation:port/shoppingCart/v4/shoppingCart/65484jyuty57655" 
    }, 
     "relatedParty": { 
        "id": "34", 
        "href": "http: //serverlocation:port/partyManagement/v1/individual/34", 
        "name": "John Smith", 
        "role": "customer" 
    }, 
    "recommendationItem": [ 
        { 
            "id": "1", 
            "priority": 1, 
            "product": { 
                "productOffering": { 
                    "id": "6547", 
                    "href": "https://host:port/productOffering/v1/productOffering/6547", 
                    "name": "TMFone " 
                }, 
                "productCharacteristic": [ 
                    { 
                        "name": "capacity", 
                        "valueType": "string", 
                        "value": "128 Gb" 
                    } 
                ] 
            } 
        }, 
        { 
            "id": "2", 
            "priority": 2, 
            "product": { 
                "productOffering": { 
                    "id": "6542", 
                    "href": "https://host:port/productOffering/v1/productOffering/6542", 
                    "name": " TMFone Case" 
                }, 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 24 of 38 
 
                "productCharacteristic": [ 
                    { 
                        "name": "material", 
                        "valueType": "string", 
                        "value": "plastic" 
                    }, 
                    { 
                        "name": "material", 
                        "valueType": "string", 
                        "value": "leather" 
                    } 
                ] 
            } 
        } 
    ] 
} 
 
Notification Resource Models 
 
2 notifications are defined for this API 
Notifications related to QueryProductRecommendation: 
    - QueryProductRecommendationCreateEvent 
    - QueryProductRecommendationStateChangeEvent 
The notification structure for all notifications in this API follow the pattern depicted by the figure below. 
A notification event resource (depicted by "SpecificEvent" placeholder) is a sub class of a generic Event structure 
containing at least an id of the event occurrence (eventId), an event timestamp (eventTime), and the name of the 
resource (eventType).  
This notification structure owns an event payload structure ("SpecificEventPayload" placeholder) linked to the 
resource concerned by the notification using the resource name as access field ("resourceName" placeholder). 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 25 of 38 
 
 
Query Product Recommendation Create Event 
Notification QueryProductRecommendationCreateEvent case for resource QueryProductRecommendation 
Json representation sample 
We provide below the json representation of an example of a 'QueryProductRecommendationCreateEvent' 
notification event object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 26 of 38 
 
    "eventType":"QueryProductRecommendationCreateEvent", 
     "event": { 
        "queryProductRecommendation" :  
            {-- SEE QueryProductRecommendation RESOURCE SAMPLE --} 
    } 
} 
 
Query Product Recommendation State Change Event 
Notification QueryProductRecommendationStateChangeEvent case for resource QueryProductRecommendation 
Json representation sample 
We provide below the json representation of an example of a 'QueryProductRecommendationStateChangeEvent' 
notification event object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 
    "eventType":"QueryProductRecommendationStateChangeEvent", 
     "event": { 
        "queryProductRecommendation" :  
            {-- SEE QueryProductRecommendation RESOURCE SAMPLE --} 
    } 
} 
 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 27 of 38 
 
 API OPERATIONS 
Remember the following Uniform Contract: 
Operation on Entities 
Uniform API Operation 
Description 
Query Entities 
GET Resource 
GET must be used to retrieve 
a representation of a 
resource. 
 
Create Entity 
POST Resource 
POST must be used to create 
a new resource 
 
Filtering and attribute selection rules are described in the TMF REST Design Guidelines. 
Notifications are also described in a subsequent section. 
 
Operations on Query Product Recommendation 
List query product recommendations 
  GET /queryProductRecommendation?fields=...&{filtering} 
Description 
This operation list query product recommendation entities. 
Attribute selection is enabled for all first level attributes. 
Filtering may be available depending on the compliance level supported by an implementation. 
Usage Samples 
Here is an example of a request for retrieving a list of QueryProductRecommendation(s). The given criteria is the id 
of the customer. 
 
Request 
 
GET serverRoot/customer/v4/queryProductRecommendation?fields=id,href,name,description,state&relatedParty.id=34 
Accept: application/json 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 28 of 38 
 
 
 
Response 
 
200 
 
[ 
    { 
        "id": "1001", 
        "href": "http://serverlocation:port/recommendation/v1/queryProductRecommendation/1001", 
        "name": "Recommendation of the latest TMFone", 
        "description": "Recommendation of the latest TMFone, for the customers with a high level of requirements", 
        "state": "done" 
    }, 
    { 
        "id": "7325", 
        "href": "http://serverlocation:port/recommendation/v1/queryProductRecommendation/7325", 
        "name": "Recommendation related to the customer's current offer", 
        "description": "Recommendations related to the customer's current offer", 
        "state": "done" 
    } 
] 
 
Retrieve query product recommendation 
  GET /queryProductRecommendation/{id}?fields=...&{filtering} 
Description 
This operation retrieves a query product recommendation entity. 
Attribute selection is enabled for all first level attributes. 
Filtering on sub-resources may be available depending on the compliance level supported by an implementation. 
 
Usage Samples 
Here is an example of a request for QueryProductRecommendation. 
 
Request 
 
GET serverRoot/customer/v4/queryProductRecommendation/1001 
Accept: application/json 
 
 
 
Response 
 
200 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 29 of 38 
 
 
{ 
    "id": "1001", 
    "href": "http://serverlocation:port/recommendation/v1/queryProductRecommendation/1001", 
    "name": " recommendation of the latest TMFone", 
    "description": "Recommendation of the latest TMFone, for the customers with a high level of requirements", 
    "instantSyncRecommendation": "false", 
    "recommendationType": "offer", 
    "@type": "recommendation", 
    "@schemaLocation": "http://serverlocation:port/recommendation/schema/recommendation.schema.json", 
    "state": "done", 
    "validFor": { 
        "startDateTime": "2019-07-03 T04:00:00.0Z", 
        "endDateTime": "2019-07-05 T20:42:23.0Z" 
    }, 
    "channel": { 
        "id": "21", 
        "href": "http://serverlocation:port/recommendation/v1/channel/21", 
        "name": "mobile app channel" 
    }, 
      "shoppingCart": { 
        "id": "65484jyuty57655", 
        "href": "http://serverlocation:port/shoppingCart/v4/shoppingCart/65484jyuty57655" 
    }, 
    "relatedParty": { 
        "id": "34", 
        "href": "http: //serverlocation:port/partyManagement/v1/individual/34", 
        "name": "John Smith", 
        "role": "customer" 
    }, 
    "recommendationItem": [ 
        { 
            "id": "1", 
            "priority": 1, 
            "product": { 
                "productOffering": { 
                    "id": "6547", 
                    "href": "https://host:port/productOffering/v1/productOffering/6547", 
                    "name": "TMFone " 
                }, 
                "productCharacteristic": [ 
                    { 
                        "name": "capacity", 
                        "valueType": "string", 
                        "value": "128 Gb" 
                    } 
                ] 
            } 
        }, 
        { 
            "id": "2", 
            "priority": 2, 
            "product": { 
                "productOffering": { 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 30 of 38 
 
                    "id": "6542", 
                    "href": "https://host:port/productOffering/v1/productOffering/6542", 
                    "name": " TMFone Case" 
                }, 
                "productCharacteristic": [ 
                    { 
                        "name": "material", 
                        "valueType": "string", 
                        "value": "plastic" 
                    }, 
                    { 
                        "name": "material", 
                        "valueType": "string", 
                        "value": "leather" 
                    } 
                ] 
            } 
        } 
    ] 
} 
 
Create query product recommendation 
  POST /queryProductRecommendation 
Description 
This operation creates a query product recommendation entity. 
Mandatory and Non Mandatory Attributes 
The following tables provide the list of mandatory and non mandatory attributes when creating a 
QueryProductRecommendation, including any possible rule conditions and applicable default values. Notice that it 
is up to an implementer to add additional mandatory attributes. 
Mandatory Attributes 
Rule 
 
Non Mandatory Attributes 
Rule 
category 
 
channel 
 
description 
 
instantSyncRecommendation 
 
name 
 
place 
 
productOrder 
 
productOrderItem 
 
recommendationItem 
Must not be present in the request 
recommendationType 
 
relatedParty 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 31 of 38 
 
Non Mandatory Attributes 
Rule 
shoppingCart 
 
shoppingCartItem 
 
state 
 
validFor 
 
 
Usage Samples 
Here is an example of a request for a recommandation calculation, with instantSyncRecommendation set to false. A 
QueryProductRecommendation resource is created and the recommendationItem might be provided later. 
 
Request 
 
POST serverRoot/customer/v4/queryProductRecommendation 
Content-Type: application/json 
 
{ 
    "name": "Recommendation of the latest TMFone", 
    "description": "Recommendation of the latest TMFone, for the customers with a high level of requirements", 
    "instantSyncRecommendation": "false", 
    "@type": "queryProductRecommendation", 
    "validFor": { 
        "startDateTime": "2019-07-03 T04:00:00.0Z", 
        "endDateTime": "2019-07-05 T20:42:23.0Z" 
    }, 
    "channel": { 
        "id": "21", 
        "href": "http://serverlocation:port/recommendation/v4/channel/21", 
        "name": "mobile app channel" 
    }, 
    "shoppingCart": { 
        "id": "65484jyuty57655", 
        "href": "http://serverlocation:port/shoppingCart/v4/shoppingCart/65484jyuty57655" 
    }, 
    "relatedParty": { 
        "id": "34", 
        "href": "http: //serverlocation:port/partyManagement/v4/individual/34", 
        "name": "John Smith", 
        "role": "customer" 
    } 
} 
 
 
 
Response 
 
202 
 
{ 
    "id": "1001", 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 32 of 38 
 
    "href": "http://serverlocation:port/recommendation/v1/queryProductRecommendation/1001", 
    "name": "Recommendation of the latest TMFone", 
    "description": "Recommendation of the latest TMFone, for the customers with a high level of requirements", 
    "instantSyncRecommendation": "false", 
    "@type": "queryProductRecommendation", 
    "@schemaLocation": "http://serverlocation:port/recommendation/schema/recommendation.schema.json", 
    "state": "accepted", 
    "validFor": { 
        "startDateTime": "2019-07-03 T04:00:00.0Z", 
        "endDateTime": "2019-07-05 T20:42:23.0Z" 
    }, 
    "channel": { 
        "id": "21", 
        "href": "http://serverlocation:port/recommendation/v4/channel/21", 
        "name": "mobile app channel" 
    }, 
    "shoppingCart": { 
        "id": "65484jyuty57655", 
        "href": "http://serverlocation:port/shoppingCart/v4/shoppingCart/65484jyuty57655" 
    }, 
    "relatedParty": { 
        "id": "34", 
        "href": "http: //serverlocation:port/partyManagement/v1/individual/34", 
        "name": "John Smith", 
        "role": "customer" 
    } 
} 
 
 
Here is an example of a request for creating a recommendations calculation with instantSyncRecommendation set 
to true. The result is directly provided in response and no QueryProductRecommendation resource is created. 
 
Request 
 
POST serverRoot/customer/v4/queryProductRecommendation 
Content-Type: application/json 
 
{ 
    "name": "Recommendation of the latest TMFone", 
    "description": "Recommendation of the latest TMFone, for the customers with a high level of requirements", 
    "instantSyncRecommendation": "true", 
    "@type": "queryProductRecommendation", 
    "validFor": { 
        "startDateTime": "2019-07-03 T04:00:00.0Z", 
        "endDateTime": "2019-07-05 T20:42:23.0Z" 
    }, 
    "channel": { 
        "id": "21", 
        "href": "http://serverlocation:port/recommendation/v4/channel/21", 
        "name": "mobile app channel" 
    }, 
    "shoppingCart": { 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 33 of 38 
 
        "id": "65484jyuty57655", 
        "href": "http://serverlocation:port/shoppingCart/v4/shoppingCart/65484jyuty57655" 
    }, 
    "relatedParty": { 
        "id": "34", 
        "href": "http: //serverlocation:port/partyManagement/v4/individual/34", 
        "name": "John Smith", 
        "role": "customer" 
    } 
} 
 
 
 
Response 
 
200 
 
{ 
    "name": "Recommendation of the latest TMFone", 
    "description": "Recommendation of the latest TMFone, for the customers with a high level of requirements", 
    "instantSyncRecommendation": "true", 
    "@type": "queryProductRecommendation", 
    "@schemaLocation": "http://serverlocation:port/recommendation/schema/recommendation.schema.json", 
    "state": "done", 
    "validFor": { 
        "startDateTime": "2019-07-03 T04:00:00.0Z", 
        "endDateTime": "2019-07-05 T20:42:23.0Z" 
    }, 
    "recommendationType": "offer", 
    "channel": { 
        "id": "21", 
        "href": "http://serverlocation:port/recommendation/v4/channel/21", 
        "name": "mobile app channel" 
    }, 
    "shoppingCart": { 
        "id": "65484jyuty57655", 
        "href": "http://serverlocation:port/shoppingCart/v4/shoppingCart/65484jyuty57655" 
    }, 
    "relatedParty": { 
        "id": "34", 
        "href": "http://serverlocation:port/partyManagement/v4/individual/34", 
        "name": "John Smith", 
        "role": "customer" 
    }, 
    "recommendationItem": [ 
        { 
            "id": "1", 
            "priority": 1, 
            "product": { 
                "productOffering": { 
                    "id": "6547", 
                    "href": "https://host:port/productOffering/v4/productOffering/6547", 
                    "name": "TMFone " 
                }, 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 34 of 38 
 
                "productCharacteristic": [ 
                    { 
                        "name": "capacity", 
                        "valueType": "string", 
                        "value": "128 Gb" 
                    } 
                ] 
            } 
        }, 
        { 
            "id": "2", 
            "priority": 2, 
            "product": { 
                "productOffering": { 
                    "id": "6542", 
                    "href": "https://host:port/productOffering/v1/productOffering/6542", 
                    "name": " TMFone Case" 
                }, 
                "productCharacteristic": [ 
                    { 
                        "name": "material", 
                        "valueType": "string", 
                        "value": "plastic" 
                    }, 
                    { 
                        "name": "material", 
                        "valueType": "string", 
                        "value": "leather" 
                    } 
                ] 
            } 
        } 
    ] 
} 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 35 of 38 
 
API NOTIFICATIONS 
For every single of operation on the entities use the following templates and provide sample REST 
notification POST calls. 
It is assumed that the Pub/Sub uses the Register and UnRegister mechanisms described in the REST 
Guidelines reproduced below. 
Register listener 
  POST /hub 
Description 
Sets the communication endpoint address the service instance must use to deliver information about its health 
state, execution state, failures and metrics. Subsequent POST calls will be rejected by the service if it does not 
support multiple listeners. In this case DELETE /api/hub/{id} must be called before an endpoint can be created 
again. 
Behavior 
Returns HTTP/1.1 status code 204 if the request was successful. 
Returns HTTP/1.1 status code 409 if request is not successful. 
Usage Samples 
Here's an example of a request for registering a listener. 
 
 
Request 
 
POST /api/hub 
Accept: application/json 
 
{"callback": "http://in.listener.com"} 
 
 
Response 
 
201 
Content-Type: application/json 
Location: /api/hub/42 
 
{"id":"42","callback":"http://in.listener.com","query":null} 
 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 36 of 38 
 
Unregister listener 
  DELETE /hub/{id} 
Description 
Clears the communication endpoint address that was set by creating the Hub. 
Behavior 
Returns HTTP/1.1 status code 204 if the request was successful. 
Returns HTTP/1.1 status code 404 if the resource is not found. 
Usage Samples 
Here's an example of a request for un-registering a listener. 
 
Request 
 
DELETE /api/hub/42 
Accept: application/json 
 
 
Response 
 
204 
 
Publish Event to listener 
  POST /client/listener 
Description 
Clears the communication endpoint address that was set by creating the Hub. 
Provides to a registered listener the description of the event that was raised. The /client/listener url is the 
callback url passed when registering the listener. 
Behavior 
Returns HTTP/1.1 status code 201 if the service is able to set the configuration.  
Usage Samples 
Here's an example of a notification received by the listener. In this example “EVENT TYPE” should be replaced by 
one of the notification types supported by this API (see Notification resources Models section) and EVENT BODY 
refers to the data structure of the given notification type. 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 37 of 38 
 
 
Request 
 
POST /client/listener 
Accept: application/json 
 
{ 
    "event": {  
                EVENT BODY  
            }, 
    "eventType": "EVENT_TYPE" 
} 
 
 
Response 
 
201 
 
For detailed examples on the general TM Forum notification mechanism, see the TMF REST Design 
Guidelines. 
 
 
 


Recommendation Management API User Guide 
 
© TM Forum 2020. All Rights Reserved.                                                                                                                                Page 38 of 38 
 
Acknowledgements 
Version History 
Release Number 
Date  
Release led by: 
Description  
Release 1.0 
04/15/2017 
Pierre Gauthier 
TM Forum 
pgauthier@tmforum.org 
 
Mariano Belaunde Orange Labs 
First Release of the Document.  
Release 2.0 
11/06/2018 
Mariano Belaunde  
Orange Labs 
Alignment with Guidelines 3.0 
Version 4.0.0 
03-Apr-2020 
Pierre Gauthier -TM Forum 
pgauthier@tmforum.org 
 
Grégoire Laurent - Orange 
gregoire.laurent@orange.com 
 
Javed Syed - Oracle 
syed.javed@oracle.com 
Version 4.0 of the API REST 
Note: the version 4.0 is assigned 
to all the APIs delivered in the 
release 19.0 
Version 4.0.1 
25-May-2020 Adrienne Walcott 
Updated to reflect TM Forum 
Approved Status 
 
Release History 
Release Number 
Date  
Release led by: 
Description  
Pre-production 
03-Apr-2020 
Pierre Gauthier -TM Forum 
pgauthier@tmforum.org 
 
Grégoire Laurent - Orange 
gregoire.laurent@orange.com 
 
Javed Syed - Oracle 
syed.javed@oracle.com 
Version 4.0 of the API REST 
Note: the version 4.0 is assigned 
to all the APIs delivered in the 
release 19.0 
Production 
25-May-2020 Adrienne Walcott 
Updated to reflect TM Forum 
Approved Status 
 
Contributors to Document 
Ludovic Robert 
Orange 
 


