{"tmforumApiId": "TMF720", "id": "TMF720-chunk-1", "chunkIndex": 1, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 1/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved \n \n \n \n \nTM Forum Specification \n \n \nDigital Identity API User Guide \n \n \n \n \n \n \n \nTMF720 \nTeam Approved Date:  16-Dec-2021 \n \nRelease Status: Production \nApproval Status: TM Forum Approved \nVersion 4.0.0 \nIPR Mode: RAND \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 2 of 38\nNOTICE \nCopyright \u00a9 TM Forum 2022. All Rights Reserved. \n \nThis document and translations of it may be copied and furnished to others, and derivative works that \ncomment on or otherwise explain it or assist in its implementation may be prepared, copied, published, and \ndistributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and \nthis section are included on all such copies and derivative works. However, this document itself may not be \nmodified in any way, including by removing the copyright notice or references to TM FORUM, except as \nneeded for the purpose of developing any document or deliverable produced by a TM FORUM Collaboration \nProject Team (in which case the rules applicable to copyrights, as set forth in the TM FORUM IPR Policy, \nmust be followed) or as required to translate it into languages other than English. \n \nThe limited permissions granted above are perpetual and will not be revoked by TM FORUM or its \nsuccessors or assigns. \n \nThis document and the information contained herein is provided on an \"AS IS\" basis and TM FORUM \nDISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY \nWARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP \nRIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR \nPURPOSE. \n \nTM FORUM invites any TM FORUM Member or any other party that believes it has patent claims that \nwould necessarily be infringed by implementations of this TM Forum Standards Final Deliverable, to notify \nthe TM FORUM Team Administrator and provide an indication of its willingness to grant patent licenses to \nsuch patent claims in a manner consistent with the IPR Mode of the TM FORUM Collaboration Project \nTeam that produced this deliverable. \n \nThe TM FORUM invites any party to contact the TM FORUM Team Administrator if it is aware of a claim \nof ownership of any patent claims that would necessarily be infringed by implementations of this TM \nFORUM Standards Final Deliverable by a patent holder that is not willing to provide a license to such \npatent claims in a manner consistent with the IPR Mode of the TM FORUM Collaboration Project Team \nthat produced this TM FORUM Standards Final Deliverable. TM FORUM may include such claims on its \nwebsite but disclaims any obligation to do so. \n \nTM FORUM takes no position regarding the validity or scope of any intellectual property or other rights \nthat might be claimed to pertain to the implementation or use of the technology described in this TM \nFORUM Standards Final Deliverable or the extent to which any license under such rights might or might \nnot be available; neither does it represent that it has made any effort to identify any such rights. \nInformation on TM FORUM's procedures with respect to rights in any document or deliverable produced \nby a TM FORUM Collaboration Project Team can be found on the TM FORUM website. Copies of claims \nof rights made available for publication and any assurances of licenses to be made available, or the result \nof an attempt made to obtain a general license or permission for the use of such proprietary rights by \nimplementers or users of this TM FORUM Standards Final Deliverable, can be obtained from the TM \nFORUM Team Administrator. TM FORUM makes no representation that any information or list of \nintellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential \nClaims. \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 3 of 38\nDirect inquiries to the TM Forum office: \n \n4 Century Drive, Suite 100 \nParsippany, NJ 07054, USA \nTel No. +1 973 944 5100 \nFax No. +1 973 944 5110 \nTM Forum Web Page: www.tmforum.org"}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-2", "chunkIndex": 2, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 2/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 4 of 38\nTable of Contents \nNOTICE ..................................................................................................................................................... 2 \nTable of Contents ....................................................................................................................................... 4 \nList of Tables ............................................................................................................................................. 5 \nIntroduction ................................................................................................................................................ 6 \nSample Use Cases .................................................................................................................................... 7 \nSupport of polymorphism and extension patterns ....................................................................................... 8 \nRESOURCE MODEL ................................................................................................................................. 9 \nManaged Entity and Task Resource Models .......................................................................................... 9 \nDigital Identity resource ....................................................................................................................... 9 \nNotification Resource Models ............................................................................................................... 15 \nDigital Identity Create Event .............................................................................................................. 16 \nDigital Identity State Change Event ................................................................................................... 17 \nDigital Identity Delete Event ............................................................................................................... 17 \nDigital Identity Attribute Value Change Event .................................................................................... 18 \nAPI OPERATIONS ................................................................................................................................... 19 \nOperations on Digital Identity ................................................................................................................ 19 \nList digital identities ........................................................................................................................... 19 \nRetrieve digital identity....................................................................................................................... 20 \nCreate digital identity ......................................................................................................................... 23 \nPatch digital identity ........................................................................................................................... 27 \nDelete digital identity ......................................................................................................................... 34 \nAPI Notifications ................................................................................................................................ 35 \nRegister listener ................................................................................................................................... 35 \nUnregister listener ................................................................................................................................ 36 \nPublish Event to listener ....................................................................................................................... 36 \nAcknowledgements .................................................................................................................................. 38 \nDocument History ................................................................................................................................. 38 \nVersion History .................................................................................................................................. 38 \nRelease History ................................................................................................................................. 38 \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 5 of 38\nList of Tables \n \nN/A \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 6 of 38\nIntroduction \n \nThe following document is the specification of the REST API for Digital Identity management.  \nA digital identity enables identification / authentication of Party, PartyRole, or Resource in order to allow \nParty, PartyRole, or Resource (for an app) to retrieve permission. Ideally, the digital identity should be \ndefined at party level, but business UC could require having finer-grainer scope and require a digital identify \nfor one or a set of party role. For example, it can be used to have a digital identity carrying all professional \nparty role delegated by the employer and another one carrying all party role played personally. \nDigital Identity could be provided to an application to trigger interaction with other system (logistic system \ntriggering automatically order to supplier)   \nAt least one Credential is needed for an active digital identity. A Credential enables identification / \nauthentication.  In this API, credential specialization are provided but it could be extended by \nimplementation. One or many contact medium might be defined for each Credential to be used for reset. \nAvatar(s) might be represented by an Attachment such as a picture. \n \nFollowing diagram illustrates the Digital Identity in a global party domain: \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 7 of 38\nSample Use Cases \nThis section includes a set of main use cases that can be performed with this API. Additional use cases can \nbe generated using the operations and resources defined in this specification. \n\u2022 create a digital identity for an individual in order to identify this customer to browse owned \nproduct inventory. The party could provide a cool jpg as avatar and pick phone medium for contact \nmethod to retrieve password (when lost) \n \n \n\u2022 Change avatar jpg for an existing digital identity \n\u2022 Manage a digital identity for an application and link authorization to this identity \n\u2022 Retrieve inactive digital identity to remove them"}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-3", "chunkIndex": 3, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 3/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 8 of 38\nSupport of polymorphism and extension patterns \n \nSupport of polymorphic collections and types and schema based extension is provided by means of a list \nof generic meta-attributes that we describe below. Polymorphism in collections occurs when entities inherit \nfrom base entities, for instance a biometric credential and token credential inheriting properties from the \ncredential entity. \nGeneric support of polymorphism and pattern extensions is described in the TMF API Guidelines v3.0 Part \n2 document. \nThe @type attribute provides a way to represent the actual class type of an entity. For example, within a list \nof credential instances some may be instances of biometric credential where other could be instances of \nlogin/password credential, network credential or token credential. The @type gives this information. All \nresources and sub-resources of this API have a @type attributes that can be provided when this is useful. \nThe @referredType can be used within reference entities (like for instance in RelatedParty object) to \nexplicitly denote the actual entity type of the referred class. Notice that in reference entities the @type, when \nused, denotes the class type of the reference itself, such as RelatedParty, and not the class type of the \nreferred object (IndividualRef or OrganizationRef). However, since reference classes are rarely sub-classed, \n@type is generally not useful in reference objects. \nThe @schemaLocation property can be used in resources to allow specifying user-defined properties of an \nEntity or to specify the expected characteristics of an entity. \nThe @baseType attribute gives a way to provide explicitly the base of class of a given resource that has \nbeen extended. \n \nPresence of sub classes in the TMF720 swagger \nThe TMF720 swagger features: \n\u2022 \nEmailMedium and PhoneMedium as DigitalIdentityContactMedium specializations \n\u2022 \nBiometricCredential, TokenCredential, LoginPasswordCredential and NetworkCredential as \nCredential specializations \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 9 of 38\nRESOURCE MODEL \nManaged Entity and Task Resource Models \nDigital Identity resource \nDigitalIdentity is a class that allow to describe a digital identity for an individual or a resource or a specific \nparty role. One of these three MUST be provided. If an individual is provided, this identity will be for all \nher/his partyRole. To avoid confusion, it is recommended in this case to not provide partyRoleIdentified. \nResource model \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 10 of 38\nField descriptions \nDigitalIdentity fields \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nattachment \nA list of attachment ref or values (AttachmentRefOrValue [*]). List of \nattachment associated with this digital identity. Could be used to link a cute cat \nor moose picture to a digital identity for example. \ncontactMedium \nA list of digital identity contact mediums (DigitalIdentityContactMedium [*]). List \nof contact medium associated with the digital identity. \ncreationDate \nA date time (DateTime). Date and time of the Digital Identity creation \n(timestamp). \ncredential \nA list of credentials (Credential [*]). A list of credential/authentification method \nthat are used for this digital identity. \nindividualIdentified \nA party reference (PartyRef). Individual identified by this digital identity. In this \ncase the digitial identity is for all her/his role. It is recommended to not provide \npartyRoleIdentified if individualIdentified provided. \nlastUpdate \nA date time (DateTime). Date and time of the Digital Identity last update \n(timestamp). \nnickname \nA string. Nickname associated to this digital identity (like Juanito17 or the \nQuebecMoose etc...). \npartyRoleIdentified \nA list of related parties (RelatedParty [*]). Related Parties who are identified by \nthis digital identity. \nrelatedParty \nA list of related parties (RelatedParty [*]). Parties who have an interest in this \ndigital identity (like the organization in charge of providing identity). This is NOT \nthe party identified by this digital identity. \nresourceIdentified \nA resource reference (ResourceRef). Resource identified by this digital identity. \nIt is recommended to no provided individualIdentified or partyRoleIdentified if \nresourceIdentified provided. \nstatus \nA string. Used to indicate the current lifecycle status of this digital identity \n(unknown, active, suspended, archived). \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 11 of 38\nvalidFor \nA time period. The period for which this digital identity is valid. \nAttachmentRefOrValue sub-resource \nAn attachment by value or by reference. An attachment complements the description of an element, for \nexample through a document, a video, a picture. \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \ndescription \nA string. A narrative text describing the content of the attachment. \nhref \nAn uri (Uri). URI for this Attachment. \nid \nA string. Unique identifier for this particular attachment. \nurl \nAn uri (Uri). Remote reference to the content if web-addressable. \nname \nA string. The name of the attachment. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nattachmentType \nA string. Attachment type such as video, picture. \ncontent \nA base 6 4 (Base64). The actual contents of the attachment object, if \nembedded, encoded as base64. \nmimeType \nA string. Attachment mime type such as extension file for video, picture and \ndocument. \nsize \nA quantity (Quantity). The size of the attachment. \nvalidFor \nA time period. The period of time for which the attachment is valid. \nCredential sub-resource \nCredential is a class that allow to describe an authentication method. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \ncontactMedium \nA list of digital identity contact mediums (DigitalIdentityContactMedium [*]). List \nof contact medium associated with this credential/authentication method."}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-4", "chunkIndex": 4, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 4/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 12 of 38\nid \nA string. an identifier for a credential/authentication method for this digital \nidentity. \nstate \nA string. Used to indicate the current lifecycle state of this credential (like \nactive, inactive, expired). \ntrustLevel \nA string. A level of assurance associated with this credential - this could be \nused to limit/allow specific permission based on this trust level. \nvalidFor \nA time period. The period for which this digital identity is valid. \nDigitalIdentityContactMedium sub-resource \nIndicates the contact medium that could be used to contact the party. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \ncontactType \nA string. Type of the contact medium to qualify it like pro email / personal \nemail. This is not used to define the contact medium used. \nid \nA string. Identifier for this contact medium. \npreferred \nA boolean. If true, indicates that is the preferred contact medium. \nvalidFor \nA time period. The time period that the contact medium is valid for. \nQuantity sub-resource \nAn amount in a given unit. \namount \nA float. Numeric value in a given unit. \nunits \nA string. Unit. \nRelatedParty sub-resource \nRelated Entity reference. A related party defines party or party role linked to a specific entity. \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 13 of 38\n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nrole \nA string. Role played by the related party. \nPartyRef relationship \n \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nResourceRef relationship \n \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 14 of 38\nJson representation sample \nProvided below is the json representation of an example of a 'DigitalIdentity' resource object \n{ \n    \"id\": \"11\", \n    \"href\": \"https://host:port/digitalIdentityManagement:v4:digitalIdentity/11\", \n    \"creationDate\": \"2021-10-05T08:36:12.275Z\", \n    \"lastUpdate\": \"2021-10-05T08:36:12.275Z\", \n    \"nickname\": \"BigJuanito7\", \n    \"status\": \"active\", \n    \"attachment\": [ \n        { \n            \"attachmentType\": \"avatarPicture\", \n            \"description\": \"avatar\", \n            \"mimeType\": \"jpeg\", \n            \"name\": \"BigJuanito7Avatar\", \n            \"url\": \"http://host/Content/4aafacbd-11ff-4dc8-b445-305f2215715f\", \n            \"size\": { \n                \"amount\": 91, \n                \"units\": \"Ko\" \n            }, \n            \"validFor\": { \n                \"startDateTime\": \"1985-04-12T23:20:50.52Z\" \n            }, \n            \"@type\": \"Attachment\" \n        } \n    ], \n    \"contactMedium\": [ \n        { \n            \"id\": \"1\", \n            \"contactType\": \"Private\", \n            \"preferred\": true, \n            \"validFor\": { \n                \"endDateTime\": \"1985-04-12T23:20:50.52Z\" \n            }, \n            \"@type\": \"EmailMedium\", \n            \"emailAddress\": \"BigJuanito7@tmf.com\" \n        } \n    ], \n    \"credential\": [ \n        { \n            \"id\": \"1\", \n            \"state\": \"active\", \n            \"trustLevel\": \"high\", \n            \"contactMedium\": [ \n                { \n                    \"id\": \"2\", \n                    \"contactType\": \"Private\", \n                    \"preferred\": true, \n                    \"validFor\": { \n                        \"endDateTime\": \"1985-04-12T23:20:50.52Z\" \n                    }, \n                    \"@type\": \"PhoneMedium\", \n                    \"phoneNumber\": \"415798565\" \n                } \n            ], \n            \"validFor\": { \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 15 of 38\n                \"startDateTime\": \"1985-04-12T23:20:50.52Z\" \n            }, \n            \"@type\": \"Credential\" \n        } \n    ], \n    \"individualIdentified\": { \n        \"id\": \"78\", \n        \"href\": \"https://host:port/partyManagement/v4/individual/78\", \n        \"name\": \"Jean\", \n        \"@type\": \"PartyRef\", \n        \"@referredType\": \"Individual\" \n    }, \n    \"partyRoleIdentified\": [ \n        { \n            \"id\": \"78-89\", \n            \"href\": \"https://host:port/CustomerManagement/v4/customer/78-89\", \n            \"@type\": \"RelatedParty\", \n            \"@referredType\": \"Customer\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"25\", \n            \"href\": \"https://host:port/partyManagement/v4/organization/25\", \n            \"name\": \"TMF\", \n            \"role\": \"DigitalIdentityProvider\", \n            \"@type\": \"PartyRef\", \n            \"@referredType\": \"Organization\" \n        } \n    ], \n    \"validFor\": { \n        \"startDateTime\": \"1985-04-12T23:20:50.52Z\" \n    }, \n    \"@type\": \"DigitalIdentity\" \n} \n \nNotification Resource Models \n \n4 notifications are defined for this API \nNotifications related to DigitalIdentity: \n    - DigitalIdentityCreateEvent \n    - DigitalIdentityStateChangeEvent \n    - DigitalIdentityDeleteEvent \n    - DigitalIdentityAttributeValueChangeEvent \nThe notification structure for all notifications in this API follow the pattern depicted by the figure below. \nA notification event resource (depicted by \"SpecificEvent\" placeholder) is a sub class of a generic Event \nstructure containing at least an id of the event occurrence (eventId), an event timestamp (eventTime), and \nthe name of the resource (eventType)."}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-5", "chunkIndex": 5, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 5/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 16 of 38\nThis notification structure owns an event payload structure (\"SpecificEventPayload\" placeholder) linked to \nthe resource concerned by the notification using the resource name as access field (\"resourceName\" \nplaceholder). \n \nDigital Identity Create Event \nNotification DigitalIdentityCreateEvent case for resource DigitalIdentity \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 17 of 38\nJson representation sample \nProvided below is the json representation of an example of a 'DigitalIdentityCreateEvent' notification event \nobject \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"DigitalIdentityCreateEvent\", \n     \"event\": { \n        \"digitalIdentity\" :  \n            {-- SEE DigitalIdentity RESOURCE SAMPLE --} \n    } \n} \n \nDigital Identity State Change Event \nNotification DigitalIdentityStateChangeEvent case for resource DigitalIdentity \nJson representation sample \nProvided below is the json representation of an example of a 'DigitalIdentityStateChangeEvent' notification \nevent object \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"DigitalIdentityStateChangeEvent\", \n     \"event\": { \n        \"digitalIdentity\" :  \n            {-- SEE DigitalIdentity RESOURCE SAMPLE --} \n    } \n} \n \nDigital Identity Delete Event \nNotification DigitalIdentityDeleteEvent case for resource DigitalIdentity \nJson representation sample \nProvided below is the json representation of an example of a 'DigitalIdentityDeleteEvent' notification event \nobject \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"DigitalIdentityDeleteEvent\", \n     \"event\": { \n        \"digitalIdentity\" :  \n            {-- SEE DigitalIdentity RESOURCE SAMPLE --} \n    } \n} \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 18 of 38\nDigital Identity Attribute Value Change Event \nNotification DigitalIdentityAttributeValueChangeEvent case for resource DigitalIdentity \nJson representation sample \nProvided below is the json representation of an example of a 'DigitalIdentityAttributeValueChangeEvent' \nnotification event object \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"DigitalIdentityAttributeValueChangeEvent\", \n     \"event\": { \n        \"digitalIdentity\" :  \n            {-- SEE DigitalIdentity RESOURCE SAMPLE --} \n    } \n} \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 19 of 38\nAPI OPERATIONS \nOnly allowed operations are listed: \nOperation on Entities \nUniform API Operation \nDescription \nQuery Entities \nGET digitalIdentity \nGET must be used to retrieve \na representation of a \nresource. \n \nCreate Entity \nPOST digitalIdentity \n \nPOST must be used to \ncreate a new digitalIdentity \nresource \nIf resource is created code \n201 is send back. \nPartial Update of an Entity \nPATCH digitalIdentity \nPATCH must be used to \npartially update a resource \nRemove an Entity \nDELETE digitalIdentity \nDELETE must be used to \nremove a resource \n \nFiltering and attribute selection rules are described in the TMF630 REST Design Guidelines. \nNotifications are also described in a subsequent section. \n \nOperations on Digital Identity \nList digital identities \n  GET /digitalIdentity?fields=...&{filtering} \nDescription \nThis operation list digital identity entities. \nAttribute selection is enabled for all first level attributes. \nFiltering may be available depending on the compliance level supported by an implementation. \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 20 of 38\nUsage Samples \nHere's an example of a request for retrieving a list of digital identities. The given criteria is the status \n(active) and Credential level (low). \n \nRequest \n \nGET /tmf-api/digitalIdentityManagement/v4/digitalIdentity?fields=id,href,lastUpdate,nickname&status=active \nAccept: application/json \n \n \n \nResponse \n \n200 \n \n[ \n    { \n        \"id\": \"11\", \n        \"href\": \"https://host:port/digitalIdentityManagement/v4/digitalIdentity/11\", \n        \"lastUpdate\": \"2021-10-05T08:36:12.275Z\", \n        \"nickname\": \"BigJuanito7\" \n    }, \n    { \n        \"id\": \"27\", \n        \"href\": \"https://host:port/digitalIdentityManagement/v4/digitalIdentity/24\", \n        \"lastUpdate\": \"2021-09-25T08:36:12.275Z\", \n        \"nickname\": \"TheMoose\" \n    }, \n    { \n        \"id\": \"38\", \n        \"href\": \"https://host:port/digitalIdentityManagement/v4/digitalIdentity/38\", \n        \"lastUpdate\": \"2021-09-315T08:36:12.275Z\", \n        \"nickname\": \"CheeseMan\" \n    } \n] \n \nRetrieve digital identity \n  GET /digitalIdentity/{id}?fields=...&{filtering} \nDescription \nThis operation retrieves a digital identity entity. \nAttribute selection is enabled for all first level attributes. \nFiltering on sub-resources may be available depending on the compliance level supported by an \nimplementation. \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 21 of 38\nUsage Samples \nHere's an example of a request for retrieving a digital identity by reference (id). The given criteria is the \ndigital identity is 11. \n \nRequest \n \nGET /tmf-api/digitalIdentityManagement/v4/digitalIdentity/sd65-8874 \nAccept: application/json \n \n \n \nResponse \n \n200 \n \n{ \n    \"id\": \"11\", \n    \"href\": \"https://host:port/digitalIdentityManagement/v4/digitalIdentity/11\", \n    \"creationDate\": \"2021-10-05T08:36:12.275Z\", \n    \"lastUpdate\": \"2021-10-05T08:36:12.275Z\", \n    \"nickname\": \"BigJuanito7\", \n    \"status\": \"pending\", \n    \"attachment\": [ \n        { \n            \"attachmentType\": \"avatarPicture\", \n            \"description\": \"avatar\", \n            \"mimeType\": \"jpeg\", \n            \"name\": \"BigJuanito7Avatar\", \n            \"url\": \"http://host/Content/4aafacbd-11ff-4dc8-b445-305f2215715f\", \n            \"size\": { \n                \"amount\": 91, \n                \"units\": \"Ko\" \n            }, \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"Atachment\" \n        } \n    ], \n    \"contactMedium\": [ \n        { \n            \"id\": \"1\", \n            \"contactType\": \"Private\", \n            \"preferred\": true, \n            \"validFor\": { \n                \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"EmailMedium\", \n            \"emailAddress\": \"BigJuanito7@tmf.com\" \n        } \n    ], \n    \"credential\": [ \n        { \n            \"id\": \"1\", \n            \"state\": \"active\","}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-6", "chunkIndex": 6, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 6/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 22 of 38\n            \"trustLevel\": \"high\", \n            \"contactMedium\": [ \n                { \n                    \"id\": \"2\", \n                    \"contactType\": \"Private\", \n                    \"preferred\": true, \n                    \"validFor\": { \n                        \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n                    }, \n                    \"@type\": \"PhoneMedium\", \n                    \"phoneNumber\": \"415798565\" \n                } \n            ], \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"LoginPasswordCredential\", \n            \"login\": \"TheRealJuanito\", \n            \"password\": \"****************\" \n        } \n    ], \n    \"individualIdentified\": { \n        \"id\": \"78\", \n        \"href\": \"https://host:port/partyManagement/v4/individual/78\", \n        \"name\": \"Jean\", \n        \"@type\": \"PartyRef\", \n        \"@referredType\": \"Individual\" \n    }, \n    \"partyRoleIdentified\": [ \n        { \n            \"id\": \"78-89\", \n            \"href\": \"https://host:port/CustomerManagement/v4/customer/78-89\", \n            \"@type\": \"RelatedParty\", \n            \"@referredType\": \"Customer\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"25\", \n            \"href\": \"https://host:port/partyManagement/v4/organization/25\", \n            \"name\": \"TMF\", \n            \"role\": \"DigitalIdentityProvider\", \n            \"@type\": \"PartyRef\", \n            \"@referredType\": \"Organization\" \n        } \n    ], \n    \"validFor\": { \n        \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n    }, \n    \"@type\": \"DigitalIdentity\" \n} \n \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 23 of 38\nCreate digital identity \n  POST /digitalIdentity \nDescription \nThis operation creates a digital identity entity. \nMandatory and Non Mandatory Attributes \nThe following tables provide the list of mandatory and non mandatory attributes when creating a \nDigitalIdentity, including any possible rule conditions and applicable default values. Notice that it is up to \nan implementer to add additional mandatory attributes. \nMandatory Attributes \nRule \ncredential \n \n \nNon Mandatory Attributes \nRule \n@baseType \n \n@schemaLocation \n \n@type \n \nattachment \n \ncontactMedium \n \ncreationDate \n \nindividualIdentified \n \nlastUpdate \n \nnickname \n \npartyRoleIdentified \n \nrelatedParty \n \nresourceIdentified \n \nstatus \n \nvalidFor \n \n \nAdditional Rules \nThe following table provides additional rules indicating mandatory fields in sub-resources or relationships \nwhen creating a DigitalIdentity resource. \nContext \nMandatory Sub-Attributes \nrelatedParty \nid, @referredType \npartyRoleIdentified \nid, @referredType \nresourceIdentified \nid \nindividualIdentified \nid \ncredential \nid, @type \ncontactMedium \nid \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 24 of 38\nUsage Samples \nHere's an example of a request for creating a digital identity - the resulting digital identity is digital identity \n11. \n \nRequest \n \nPOST /tmf-api/digitalIdentityManagement/v4/digitalIdentity \nContent-Type: application/json \n \n{ \n    \"nickname\": \"BigJuanito7\", \n    \"attachment\": [ \n        { \n            \"attachmentType\": \"avatarPicture\", \n            \"description\": \"avatar\", \n            \"mimeType\": \"jpeg\", \n            \"name\": \"BigJuanito7Avatar\", \n            \"url\": \"http://host/Content/4aafacbd-11ff-4dc8-b445-305f2215715f\", \n            \"size\": { \n                \"amount\": 91, \n                \"units\": \"Ko\" \n            }, \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"Atachment\" \n        } \n    ], \n    \"contactMedium\": [ \n        { \n            \"id\": \"1\", \n            \"contactType\": \"Private\", \n            \"preferred\": true, \n            \"validFor\": { \n                \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"EmailMedium\", \n            \"emailAddress\": \"BigJuanito7@tmf.com\" \n        } \n    ], \n    \"credential\": [ \n        { \n            \"id\": \"1\", \n            \"state\": \"active\", \n            \"trustLevel\": \"high\", \n            \"contactMedium\": [ \n                { \n                    \"id\": \"2\", \n                    \"contactType\": \"Private\", \n                    \"preferred\": true, \n                    \"validFor\": { \n                        \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n                    }, \n                    \"@type\": \"PhoneMedium\", \n                    \"phoneNumber\": \"415798565\" \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 25 of 38\n                } \n            ], \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"LoginPasswordCredential\", \n            \"login\": \"TheRealJuanito\", \n            \"password\": \"AseR45iyttk5SD5df8y3pOI7\" \n        } \n    ], \n    \"individualIdentified\": { \n        \"id\": \"78\", \n        \"name\": \"Jean\", \n        \"@type\": \"PartyRef\", \n        \"@referredType\": \"Individual\" \n    }, \n    \"partyRoleIdentified\": [ \n        { \n            \"id\": \"78-89\", \n            \"@type\": \"RelatedParty\", \n            \"@referredType\": \"Customer\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"25\", \n            \"name\": \"TMF\", \n            \"role\": \"DigitalIdentityProvider\", \n            \"@type\": \"PartyRef\", \n            \"@referredType\": \"Organization\" \n        } \n    ], \n    \"validFor\": { \n        \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n    }, \n    \"@type\": \"DigitalIdentity\" \n} \n \n \n \nResponse \n \n201 \n \n{ \n    \"id\": \"11\", \n    \"href\": \"https://host:port/digitalIdentityManagement/v4/digitalIdentity/11\", \n    \"creationDate\": \"2021-10-05T08:36:12.275Z\", \n    \"lastUpdate\": \"2021-10-05T08:36:12.275Z\", \n    \"nickname\": \"BigJuanito7\", \n    \"status\": \"pending\", \n    \"attachment\": [ \n        { \n            \"attachmentType\": \"avatarPicture\", \n            \"description\": \"avatar\", \n            \"mimeType\": \"jpeg\", \n            \"name\": \"BigJuanito7Avatar\", \n            \"url\": \"http://host/Content/4aafacbd-11ff-4dc8-b445-305f2215715f\","}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-7", "chunkIndex": 7, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 7/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 26 of 38\n            \"size\": { \n                \"amount\": 91, \n                \"units\": \"Ko\" \n            }, \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"Atachment\" \n        } \n    ], \n    \"contactMedium\": [ \n        { \n            \"id\": \"1\", \n            \"contactType\": \"Private\", \n            \"preferred\": true, \n            \"validFor\": { \n                \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"EmailMedium\", \n            \"emailAddress\": \"BigJuanito7@tmf.com\" \n        } \n    ], \n    \"credential\": [ \n        { \n            \"id\": \"1\", \n            \"state\": \"active\", \n            \"trustLevel\": \"high\", \n            \"contactMedium\": [ \n                { \n                    \"id\": \"2\", \n                    \"contactType\": \"Private\", \n                    \"preferred\": true, \n                    \"validFor\": { \n                        \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n                    }, \n                    \"@type\": \"PhoneMedium\", \n                    \"phoneNumber\": \"415798565\" \n                } \n            ], \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"LoginPasswordCredential\", \n            \"login\": \"TheRealJuanito\", \n            \"password\": \"****************\" \n        } \n    ], \n    \"individualIdentified\": { \n        \"id\": \"78\", \n        \"href\": \"https://host:port/partyManagement/v4/individual/78\", \n        \"name\": \"Jean\", \n        \"@type\": \"PartyRef\", \n        \"@referredType\": \"Individual\" \n    }, \n    \"partyRoleIdentified\": [ \n        { \n            \"id\": \"78-89\", \n            \"href\": \"https://host:port/CustomerManagement/v4/customer/78-89\", \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 27 of 38\n            \"@type\": \"RelatedParty\", \n            \"@referredType\": \"Customer\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"25\", \n            \"href\": \"https://host:port/partyManagement/v4/organization/25\", \n            \"name\": \"TMF\", \n            \"role\": \"DigitalIdentityProvider\", \n            \"@type\": \"PartyRef\", \n            \"@referredType\": \"Organization\" \n        } \n    ], \n    \"validFor\": { \n        \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n    }, \n    \"@type\": \"DigitalIdentity\" \n} \n \nPatch digital identity \n  PATCH /digitalIdentity/{id} \nDescription \nThis operation allows partial updates of a digital identity entity. Support of json/merge \n(https://tools.ietf.org/html/rfc7386) is mandatory, support of json/patch (http://tools.ietf.org/html/rfc5789) is \noptional. \nNote: If the update operation yields to the creation of sub-resources or relationships, the same rules \nconcerning mandatory sub-resource attributes and default value settings in the POST operation applies to \nthe PATCH operation.  Hence these tables are not repeated here. \nPatchable and Non Patchable Attributes \nThe tables below provide the list of patchable and non patchable attributes, including constraint rules on \ntheir usage. \nPatchable Attributes \nRule \n@baseType \n \n@schemaLocation \n \n@type \n \nattachment \n \ncontactMedium \n \ncreationDate \n \ncredential \n \nindividualIdentified \n \nlastUpdate \n \nnickname \n \npartyRoleIdentified \n \nrelatedParty \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 28 of 38\nPatchable Attributes \nRule \nresourceIdentified \n \nstatus \n \nvalidFor \n \n \nNon Patchable Attributes \nRule \nhref \n \nid \n \n \nUsage Samples \nHere's an example of a request for updating digital identity 11 - Change nickname to Juanito78 and add a \ntoken credential - the full resource representation is sent in PATCH response \n \nRequest \n \nPATCH /tmf-api/digitalIdentityManagement/v4/digitalIdentity/11 \nContent-Type: application/merge-patch+json \n \n{ \n    \"id\": \"11\", \n    \"nickname\": \"BigJuanito78\", \n    \"attachment\": [ \n        { \n            \"attachmentType\": \"avatarPicture\", \n            \"description\": \"avatar\", \n            \"mimeType\": \"jpeg\", \n            \"name\": \"BigJuanito7Avatar\", \n            \"url\": \"http://host/Content/4aafacbd-11ff-4dc8-b445-305f2215715f\", \n            \"size\": { \n                \"amount\": 91, \n                \"units\": \"Ko\" \n            }, \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"Atachment\" \n        } \n    ], \n    \"contactMedium\": [ \n        { \n            \"id\": \"1\", \n            \"contactType\": \"Private\", \n            \"preferred\": true, \n            \"validFor\": { \n                \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"EmailMedium\", \n            \"emailAddress\": \"BigJuanito7@tmf.com\" \n        } \n    ], \n    \"credential\": [ \n        { \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 29 of 38\n            \"id\": \"1\", \n            \"state\": \"active\", \n            \"trustLevel\": \"high\", \n            \"contactMedium\": [ \n                { \n                    \"id\": \"2\", \n                    \"contactType\": \"Private\", \n                    \"preferred\": true, \n                    \"validFor\": { \n                        \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n                    }, \n                    \"@type\": \"PhoneMedium\", \n                    \"phoneNumber\": \"415798565\" \n                } \n            ], \n            \"validFor\": { \n                \"startDateTime\": \"2021-11-04T08:36:12.275Z\" \n            }, \n            \"@type\": \"LoginPasswordCredential\", \n            \"login\": \"TheRealJuanito\", \n            \"password\": \"****************\" \n        }, \n        { \n            \"id\": \"2\", \n            \"state\": \"active\", \n            \"trustLevel\": \"medium\", \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"TokenCredential\", \n            \"tokenCredential\": \"eyJz93a...k4laUWw\", \n            \"tokenType\": \"Bearer\" \n        } \n    ], \n    \"individualIdentified\": { \n        \"id\": \"78\", \n        \"href\": \"https://host:port/partyManagement/v4/individual/78\", \n        \"name\": \"Jean\", \n        \"@type\": \"PartyRef\", \n        \"@referredType\": \"Individual\" \n    }, \n    \"partyRoleIdentified\": [ \n        { \n            \"id\": \"78-89\", \n            \"href\": \"https://host:port/CustomerManagement/v4/customer/78-89\", \n            \"@type\": \"RelatedParty\", \n            \"@referredType\": \"Customer\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"25\", \n            \"href\": \"https://host:port/partyManagement/v4/organization/25\", \n            \"name\": \"TMF\", \n            \"role\": \"DigitalIdentityProvider\", \n            \"@type\": \"PartyRef\", \n            \"@referredType\": \"Organization\" \n        }"}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-8", "chunkIndex": 8, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 8/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 30 of 38\n    ], \n    \"validFor\": { \n        \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n    }, \n    \"@type\": \"DigitalIdentity\" \n} \n \n \n \nResponse \n \n200 \n \n{ \n    \"id\": \"11\", \n    \"href\": \"https://host:port/digitalIdentityManagement/v4/digitalIdentity/11\", \n    \"creationDate\": \"2021-10-05T08:36:12.275Z\", \n    \"lastUpdate\": \"2021-10-05T08:36:12.275Z\", \n    \"nickname\": \"BigJuanito78\", \n    \"status\": \"pending\", \n    \"attachment\": [ \n        { \n            \"attachmentType\": \"avatarPicture\", \n            \"description\": \"avatar\", \n            \"mimeType\": \"jpeg\", \n            \"name\": \"BigJuanito7Avatar\", \n            \"url\": \"http://host/Content/4aafacbd-11ff-4dc8-b445-305f2215715f\", \n            \"size\": { \n                \"amount\": 91, \n                \"units\": \"Ko\" \n            }, \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"Atachment\" \n        } \n    ], \n    \"contactMedium\": [ \n        { \n            \"id\": \"1\", \n            \"contactType\": \"Private\", \n            \"preferred\": true, \n            \"validFor\": { \n                \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"EmailMedium\", \n            \"emailAddress\": \"BigJuanito7@tmf.com\" \n        } \n    ], \n    \"credential\": [ \n        { \n            \"id\": \"1\", \n            \"state\": \"active\", \n            \"trustLevel\": \"high\", \n            \"contactMedium\": [ \n                { \n                    \"id\": \"2\", \n                    \"contactType\": \"Private\", \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 31 of 38\n                    \"preferred\": true, \n                    \"validFor\": { \n                        \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n                    }, \n                    \"@type\": \"PhoneMedium\", \n                    \"phoneNumber\": \"415798565\" \n                } \n            ], \n            \"validFor\": { \n                \"startDateTime\": \"2021-11-04T08:36:12.275Z\" \n            }, \n            \"@type\": \"LoginPasswordCredential\", \n            \"login\": \"TheRealJuanito\", \n            \"password\": \"****************\" \n        }, \n        { \n            \"id\": \"2\", \n            \"state\": \"active\", \n            \"trustLevel\": \"medium\", \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"TokenCredential\", \n            \"tokenCredential\": \"eyJz93a...k4laUWw\", \n            \"tokenType\": \"Bearer\" \n        } \n    ], \n    \"individualIdentified\": { \n        \"id\": \"78\", \n        \"href\": \"https://host:port/partyManagement/v4/individual/78\", \n        \"name\": \"Jean\", \n        \"@type\": \"PartyRef\", \n        \"@referredType\": \"Individual\" \n    }, \n    \"partyRoleIdentified\": [ \n        { \n            \"id\": \"78-89\", \n            \"href\": \"https://host:port/CustomerManagement/v4/customer/78-89\", \n            \"@type\": \"RelatedParty\", \n            \"@referredType\": \"Customer\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"25\", \n            \"href\": \"https://host:port/partyManagement/v4/organization/25\", \n            \"name\": \"TMF\", \n            \"role\": \"DigitalIdentityProvider\", \n            \"@type\": \"PartyRef\", \n            \"@referredType\": \"Organization\" \n        } \n    ], \n    \"validFor\": { \n        \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n    }, \n    \"@type\": \"DigitalIdentity\" \n} \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 32 of 38\n \nHere's an example of a request for updating digital identity 11 - Change nickname to Juanito78 and add a \ntoken credential  - the full resource representation is sent in PATCH response \n \nRequest \n \nPATCH /tmf-api/digitalIdentityManagement/v4/digitalIdentity/11 \nContent-Type: application/json-patch+json \n \n[ \n    { \n        \"op\": \"replace\", \n        \"path\": \"nickname\", \n        \"value\": \"BigJuanito78\" \n    }, \n    { \n        \"op\": \"add\", \n        \"path\": \"credential\", \n        \"value\": { \n            \"id\": \"2\", \n            \"state\": \"active\", \n            \"trustLevel\": \"medium\", \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"TokenCredential\", \n            \"tokenCredential\": \"eyJz93a...k4laUWw\", \n            \"tokenType\": \"Bearer\" \n        } \n    } \n] \n \n \n \nResponse \n \n200 \n \n{ \n    \"id\": \"11\", \n    \"href\": \"https://host:port/digitalIdentityManagement/v4/digitalIdentity/11\", \n    \"creationDate\": \"2021-10-05T08:36:12.275Z\", \n    \"lastUpdate\": \"2021-10-05T08:36:12.275Z\", \n    \"nickname\": \"BigJuanito78\", \n    \"status\": \"pending\", \n    \"attachment\": [ \n        { \n            \"attachmentType\": \"avatarPicture\", \n            \"description\": \"avatar\", \n            \"mimeType\": \"jpeg\", \n            \"name\": \"BigJuanito7Avatar\", \n            \"url\": \"http://host/Content/4aafacbd-11ff-4dc8-b445-305f2215715f\", \n            \"size\": { \n                \"amount\": 91, \n                \"units\": \"Ko\" \n            }, \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 33 of 38\n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"Atachment\" \n        } \n    ], \n    \"contactMedium\": [ \n        { \n            \"id\": \"1\", \n            \"contactType\": \"Private\", \n            \"preferred\": true, \n            \"validFor\": { \n                \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"EmailMedium\", \n            \"emailAddress\": \"BigJuanito7@tmf.com\" \n        } \n    ], \n    \"credential\": [ \n        { \n            \"id\": \"1\", \n            \"state\": \"active\", \n            \"trustLevel\": \"high\", \n            \"contactMedium\": [ \n                { \n                    \"id\": \"2\", \n                    \"contactType\": \"Private\", \n                    \"preferred\": true, \n                    \"validFor\": { \n                        \"endDateTime\": \"2021-10-05T08:36:12.275Z\" \n                    }, \n                    \"@type\": \"PhoneMedium\", \n                    \"phoneNumber\": \"415798565\" \n                } \n            ], \n            \"validFor\": { \n                \"startDateTime\": \"2021-11-04T08:36:12.275Z\" \n            }, \n            \"@type\": \"LoginPasswordCredential\", \n            \"login\": \"TheRealJuanito\", \n            \"password\": \"****************\" \n        }, \n        { \n            \"id\": \"2\", \n            \"state\": \"active\", \n            \"trustLevel\": \"medium\", \n            \"validFor\": { \n                \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n            }, \n            \"@type\": \"TokenCredential\", \n            \"tokenCredential\": \"eyJz93a...k4laUWw\", \n            \"tokenType\": \"Bearer\" \n        } \n    ], \n    \"individualIdentified\": { \n        \"id\": \"78\", \n        \"href\": \"https://host:port/partyManagement/v4/individual/78\", \n        \"name\": \"Jean\","}
{"tmforumApiId": "TMF720", "id": "TMF720-chunk-9", "chunkIndex": 9, "totalChunks": 9, "apiName": "Digital Identity Management API v4.0.0 specification", "title": "TMF720_Digital_Identity_Management_API_v4.0.0_specification (Part 9/9)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2022. All Rights Reserved\nPage 34 of 38\n        \"@type\": \"PartyRef\", \n        \"@referredType\": \"Individual\" \n    }, \n    \"partyRoleIdentified\": [ \n        { \n            \"id\": \"78-89\", \n            \"href\": \"https://host:port/CustomerManagement/v4/customer/78-89\", \n            \"@type\": \"RelatedParty\", \n            \"@referredType\": \"Customer\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"25\", \n            \"href\": \"https://host:port/partyManagement/v4/organization/25\", \n            \"name\": \"TMF\", \n            \"role\": \"DigitalIdentityProvider\", \n            \"@type\": \"PartyRef\", \n            \"@referredType\": \"Organization\" \n        } \n    ], \n    \"validFor\": { \n        \"startDateTime\": \"2021-10-05T08:36:12.275Z\" \n    }, \n    \"@type\": \"DigitalIdentity\" \n} \n \nDelete digital identity \n  DELETE /digitalIdentity/{id} \nDescription \nThis operation deletes a digital identity entity. \n \nUsage Samples \nHere's an example of a request for deleting a digital identity. \n \nRequest \n \nDELETE /tmf-api/digitalIdentityManagement/v4/digitalIdentity/12 \n \n \n \nResponse \n \n204 \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 35 of 38\nAPI Notifications \nFor every single of operation on the entities use the following templates and provide sample REST \nnotification POST calls. \nIt is assumed that the Pub/Sub uses the Register and UnRegister mechanisms described in the REST \nGuidelines reproduced below. \nRegister listener \n  POST /hub \nDescription \nSets the communication endpoint address the service instance must use to deliver information about its \nhealth state, execution state, failures and metrics. Subsequent POST calls will be rejected by the service if \nit does not support multiple listeners. In this case DELETE /api/hub/{id} must be called before an endpoint \ncan be created again. \nBehavior \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 409 if request is not successful. \nUsage Samples \nHere's an example of a request for registering a listener. \n \nRequest \n \nPOST /api/hub \nAccept: application/json \n \n{\"callback\": \"http://in.listener.com\"} \n \n \nResponse \n \n201 \nContent-Type: application/json \nLocation: /api/hub/42 \n \n{\"id\":\"42\",\"callback\":\"http://in.listener.com\",\"query\":null} \n \n \n \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 36 of 38\n \nUnregister listener \n  DELETE /hub/{id} \nDescription \nClears the communication endpoint address that was set by creating the Hub.. \nBehavior \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 404 if the resource is not found. \nUsage Samples \nHere's an example of a request for un-registering a listener. \n \nRequest \n \nDELETE /api/hub/42 \nAccept: application/json \n \n \nResponse \n \n204 \n \nPublish Event to listener \n  POST /client/listener \nDescription \nClears the communication endpoint address that was set by creating the Hub. \nProvides to a registered listener the description of the event that was raised. The /client/listener url is the \ncallback url passed when registering the listener. \nBehavior \nReturns HTTP/1.1 status code 201 if the service is able to set the configuration.  \nUsage Samples \nHere's an example of a notification received by the listener. In this example \u201cEVENT TYPE\u201d should be \nreplaced by one of the notification types supported by this API (see Notification resources Models section) \nand EVENT BODY refers to the data structure of the given notification type. \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 37 of 38\n \nRequest \n \nPOST /client/listener \nAccept: application/json \n \n{ \n    \"event\": {  \n                EVENT BODY  \n            }, \n    \"eventType\": \"EVENT_TYPE\" \n} \n \n \nResponse \n \n201 \n \nFor detailed examples on the general TM Forum notification mechanism, see the TMF REST Design \nGuidelines. \n \n\n\n\u00a9 TM Forum 2022. All Rights Reserved\nPage 38 of 38\nAcknowledgements \nDocument History \nVersion History \nRelease \nNumber \nDate  \nRelease led by: \nDescription  \nRelease 4.0.0 \n \n31/10/2021 \nPierre Gauthier, TM Forum \npgauthier@tmforum.org  \n \nLudovic Robert, Orange \nLudovic.robert@orange.com \nFirst Release of the Document. \n \nRelease History \nRelease \nStatus \nDate  \nRelease led by: \nDescription  \nPre-\nproduction \n \nP. Gauthier / L .Robert  \nVersion 4.0 of the API REST \nNote: the version 4.0 is \nassigned to all the APIs \ndelivered from the release 19.0 \nProduction \n18-Mar-2022 Adrienne Walcott \nUpdated to reflect TM Forum \nApproved Status"}
