{"tmforumApiId": "TMF671", "id": "TMF671-chunk-1", "chunkIndex": 1, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 1/8)", "documentType": "Tmforum api user guide", "text": "TM Forum Specification \n \n \nPromotion Management API User \nGuide \n \n \n \n \n \nTMF671 \nRelease 20.5 \nJune 2021 \n \n \nLatest Update: TM Forum Release 20.5 \nMember Evaluation \nVersion 4.1.0 \nIPR Mode: RAND \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 2 of 34 \nNotice \nCopyright \u00a9 TM Forum 2019. All Rights Reserved. \n \nThis document and translations of it may be copied and furnished to others, and derivative works that comment on \nor otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in whole \nor in part, without restriction of any kind, provided that the above copyright notice and this section are included on \nall such copies and derivative works. However, this document itself may not be modified in any way, including by \nremoving the copyright notice or references to TM FORUM, except as needed for the purpose of developing any \ndocument or deliverable produced by a TM FORUM Collaboration Project Team (in which case the rules applicable \nto copyrights, as set forth in the TM FORUM IPR Policy, must be followed) or as required to translate it into languages \nother than English. \n \nThe limited permissions granted above are perpetual and will not be revoked by TM FORUM or its successors or \nassigns. \n \nThis document and the information contained herein is provided on an \"AS IS\" basis and TM FORUM DISCLAIMS ALL \nWARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE \nINFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF \nMERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. \n \nDirect inquiries to the TM Forum office: \n \n4 Century Drive, Suite 100 \nParsippany, NJ 07054, USA \nTel No. +1 973 944 5100 \nFax No. +1 973 998 7196 \nTM Forum Web Page: www.tmforum.org \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 3 of 34 \nTable of Contents \n \nNotice ............................................................................................................................................................................. 2 \nTable of Contents ........................................................................................................................................................ 3 \nList of Tables ................................................................................................................................................................ 4 \nIntroduction .................................................................................................................................................................. 5 \nSample Use Cases ............................................................................................................................................................ 6 \nSupport of polymorphism and extension patterns ......................................................................................................... 8 \nResource Model ............................................................................................................................................................... 9 \nManaged Entity Model ................................................................................................................................................ 9 \nPromotion resource ................................................................................................................................................. 9 \nNotification Resource Models ................................................................................................................................... 17 \nPromotion Create Event ......................................................................................................................................... 18 \nPromotion Delete Event ......................................................................................................................................... 18 \nPromotion Attribute Value Change Event.............................................................................................................. 19 \nPromotion State Change Event .............................................................................................................................. 20 \nAPI Operations ............................................................................................................................................................... 22 \nOperations on Promotion .......................................................................................................................................... 22 \nList promotions ...................................................................................................................................................... 22 \nRetrieve promotion ................................................................................................................................................ 25 \nCreate promotion ................................................................................................................................................... 26 \nPatch promotion .................................................................................................................................................... 28 \nDelete promotion ................................................................................................................................................... 30 \nAPI Notifications ............................................................................................................................................................ 31 \nRegister listener ..................................................................................................................................................... 31 \nUnregister listener ..................................................................................................................................................... 31 \nPublish Event to listener ............................................................................................................................................ 32 \nAcknowledgements ....................................................................................................................................................... 34 \nRelease History .......................................................................................................................................................... 34 \nContributors to Document ........................................................................................................................................ 34"}
{"tmforumApiId": "TMF671", "id": "TMF671-chunk-2", "chunkIndex": 2, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 2/8)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 4 of 34 \nList of Tables \nN/A \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 5 of 34 \nIntroduction \nThe following document is the user guide of the REST API for Promotion. It includes the model definition as well as \nall available operations. \n \nIt describes a single managed resource called Promotion. \nPromotions are known as additional discounts, vouchers, bonus or gifts to a party who meets the pre-defined \ncriteria. Using promotion, the enterprise can attract customers and encourage more consumption, especially \ncontinuous purchases.  \n \nThis API is about the configuration and maintenance of this business object and not its execution.  \nThe execution of promotions is the responsibility of enterprise platform which must apply the discount (or gift, \nvoucher, etc.) based on the information retrieved from Promotion API.  \n \nPromotion API provides the following operations: \n\u2022 \nList of existing promotions depending on filter criteria; \n\u2022 \nRetrieval of an existing promotion by identifier; \n\u2022 \nPartial update of an existing promotion; \n\u2022 \nCreation (configuration) of a new promotion;  \n\u2022 \nDeletion of an existing promotion; \n\u2022 \nNotification of events:  \no Promotion creation; \no Promotion delete; \no Promotion attribute update; \no Promotion state update. \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 6 of 34 \nSample Use Cases \nThis section includes a set of main use cases that can be performed with this API. Additional use cases can be \ngenerated using the operations and resources defined in this specification. \nUser case \nPrepaid customer recharges his phone, meets the criteria of a specific promotion and \nobtains it. \n \nActors \nCustomer. \n \nPre-conditions \nPromotion related to recharges previously configured. \nPromotion released. \n \nExpected outcome \nPromotion benefits being provided to the customer. \n \nOperation \nGET /promotion \n \nDescription \n1. Customer gets a notification about a promotion after doing a top-up of \u00a325; \n2. Customer checks its details:  \na. \u201cTop-up by \u00a320 or more and get 5GB of data for only \u00a35\u201d. \n3. Customer appreciates the promotion and buys 5GB of data. \n \nNote \nPurchase handled by other API (TMF622). \n \nUse Case 1 Promotion for prepaid customers \n  \nUser case \nCreation of new promotion related to customer retention. \n \nActors \nAgent. \n \nPre-conditions \nNone. \n \nExpected outcome \nNew promotion configured. \n \nOperation \nPOST /promotion \n \nDescription \n1. Agent receives a request to create a new promotion where 3 months of Netflix are \ngiven for free to a customer when he (she) extends his(her) contract for more 24 \nmonths; \n2. Agent submits the promotion details; \n3. New promotion with status \u201cdraft\u201d is created. \n \nUse Case 2 New promotion \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 7 of 34 \nUser case \nRetirement of a promotion. \n \nActors \nAgent. \n \nPre-conditions \nPromotion previously released. \nPromotion details are obsolete. \n \nExpected outcome \nPromotion status updated. \n \nOperation \nPATCH /promotion/id \n \nDescription \n1. Agent receives a request to archive a promotion; \n2. Agent submits the new promotion status; \n3. Promotion status changed to \u201cretirement\u201d. \n \nUse Case 3 Retirement of a promotion \n \nUser case \nPromotion with 10% discount for new purchase in digital channels. \n \nActors \nCustomer. \n \nPre-conditions \nPromotion previously configured and released. \n \nExpected outcome \nPromotion shown to the customer. \n \nOperation \nGET /promotion \n \nDescription \n1. Customer logs in; \n2. Channel informs the customer about 10% discount in new purchases; \n3. Customer ignores promotion. \n \nUse Case 4 Promotion for digital channels \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 8 of 34 \nSupport of polymorphism and extension patterns \nSupport of polymorphic collections and types and schema based extension is provided by means of a list of generic \nmeta-attributes that we describe below. Polymorphism in collections occurs when entities inherit from base entities, \nfor instance a BillingAccount and SettlementAccount inheriting properties from the abstract Account entity. \nGeneric support of polymorphism and pattern extensions is described in the TMF API Guidelines v3.0 Part 2 \ndocument. \nThe @type attribute provides a way to represent the actual class type of an entity. For example, within a list of \nAccount instances some may be instances of BillingAccount where other could be instances of SettlementAccount. \nThe @type gives this information. All resources and sub-resources of this API have a @type attributes that can be \nprovided when this is useful. \nThe @referredType can be used within reference entities (like for instance an AccountRef object) to explicitly denote \nthe actual entity type of the referred class. Notice that in reference entities the @type, when used, denotes the class \ntype of the reference itself, such as BillingAccountRef or SettlementAccountRef, and not the class type of the referred \nobject. However, since reference classes are rarely sub-classed, @type is generally not useful in reference objects. \nThe @schemaLocation property can be used in resources to allow specifying user-defined properties of an Entity or \nto specify the expected characteristics of an entity. \nThe @baseType attribute gives a way to provide explicitly the base of class of a given resource that has been \nextended. \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 9 of 34 \nResource Model \nManaged Entity Model \nPromotion resource \nPromotion is used to provide the additional discount, voucher, bonus or gift to the customer who meets the pre-\ndefined criteria. Using promotion, the enterprise can attract the users and encourage more consumption, \nespecially continuous purchases.  \nNormally, Promotion is not regarded as one type of product or product offering. It is often applied when the \ncustomer buys the product offerings with the price or amount surpassing the certain limit. \nPromotion resource model"}
{"tmforumApiId": "TMF671", "id": "TMF671-chunk-3", "chunkIndex": 3, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 3/8)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 10 of 34 \nField descriptions \nPromotion resource \n@baseType \nA string. The base type for use in polymorphic collections. \n@schemaLocation \nA string. A link to the schema describing a resource (for type extension). \n@type \nA string. The class type of the actual resource (for type extension). \ndescription \nA string. Details about the purpose of this promotion. \nhref \nA string. Hyperlink to access the promotion. \nid \nA string. Unique identifier of promotion. \nlastUpdate \nA date time (DateTime). Latest update date of promotion. \nlifecycleStatus \nA string. Value of promotion status.  \nOur suggestion would be:  \n\u2022 \ndraft; \n\u2022 \ntest; \n\u2022 \nwaitForApproval; \n\u2022 \nrelease; \n\u2022 \nsuspend; \n\u2022 \nretirement. \nname \nA string. Name of promotion. \npattern \nA list of promotion patterns (PromotionPattern [*]). Contains the conditions and \nbenefits of the promotion toan eligible party. \npromotionType \nA string. Type of promotion.  \nThe basic type are: \n\u2022 \nAward; \no Gift or free unit is given to the party. \n\u2022 \nDiscount; \no Deduct from an account, debt or charge. \n\u2022 \nReduction. \no Bring down the quantity or value or something. \nHowever, other types of promotion can be used. \nvalidFor \nA time period. The period for which the promotion is valid. \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 11 of 34 \nAttachmentRefOrValue sub-resource \nAn attachment by value or by reference. An attachment complements the description of an element, for example \nthrough a document, a video, a picture. \n@referredType \nA string. The actual type of the target instance when needed for disambiguation. \ndescription \nA string. A narrative text describing the content of the attachment. \nhref \nAn uri (Uri). URI for this Attachment. \nid \nA string. Unique identifier for this attachment. \nurl \nAn uri (Uri). Uniform Resource Locator, is a web page address (a subset of URI). \nname \nA string. The name of the attachment. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nattachmentType \nA string. Attachment type such as video, picture. \ncontent \nA base 6 4 (Base64). The actual contents of the attachment object, if embedded, \nencoded as base64. \nmimeType \nA string. Attachment mime type such as extension file for video, picture and \ndocument. \nsize \nA quantity (Quantity). The size of the attachment. \nvalidFor \nA time period. The period for which the attachment is valid. \n \n \n \n \n \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 12 of 34 \nPromotionAction sub-resource \nAction of the promotion. When the customer meets the conditions in the promotion pattern, the customer can be \ngiven the benefits in the action. \n@baseType \nA string. The base type for use in polymorphic collections. \n@schemaLocation \nA string. A link to the schema describing a resource (for type extension). \n@type \nA string. The class type of the actual resource (for type extension). \nactionEntityRef \nAn entity reference (EntityRef). It refers to the entity that is impacted by the \npromotion action.  \n\u2022 \nWhen the Promotion type is Award, the actionEntityRef is the party account; \n\u2022 \nWhen the Promotion type is Discount, it is the product offering; \n\u2022 \nWhen the Promotion type is Reduction, it is the product offering also. \nactionType \nA string.  \nAction type can be one of the following:  \n1. voice (minute); \n2. data (MB); \n3. data (GB); \n4. SMS; \n5. bonus point; \n6. physical gift; \n7. voucher; \n8. promotion code; \n9. an existing offering; \n10. currency. \nHowever, other types of action can be used. \nactionValue \nA string.  \n\u2022 \nWhen the Promotion type is Award, it means the amount or value of the \nawards decided by actionType; \n\u2022 \nWhen the Promotion type is Discount, it means the value of the discount; \n\u2022 \nWhen the Promotion type is Reduction, it means the value of the reduced \nmoney. \nid \nA string. Unique identifier. \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 13 of 34 \nPromotionCriteria sub-resource \nSet of criteria to be followed by all parties. \n@baseType \nA string. The base type for use in polymorphic collections. \n@schemaLocation \nA string. A link to the schema describing a resource (for type extension). \n@type \nA string. The class type of the actual resource (for type extension). \ncriteriaOperator \nA string. Logic operator of this criteria instruction: '=' or '>' or '<' or '>=' or '<=' or '<>'. \ncriteriaParameter \nA string. The parameter (factor) of the criteria. The basic factors are abstracted from \nthese data sources. And there are several detail parameters. For instance:  \n1. Individual \n1.1. id; \n1.2. name; \n1.3. birth date. \n \n2. Product Offering \n2.1. id; \n2.2. duty free amount; \n2.3. tax included amount; \n2.4. product order id; \n2.5. price type; \n2.6. channel name. \n \n3. Product  \n3.1. id; \n3.2. duration amount; \n3.3. duration units. \n \n4. Product Offering Category \n4.1. id. \n \n5. Top up Balance \n5.1. amount; \n5.2. recurring period; \n \n6. Customer Bill \n6.1. amount due. \n \nHowever, other details can be considered."}
{"tmforumApiId": "TMF671", "id": "TMF671-chunk-4", "chunkIndex": 4, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 4/8)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 14 of 34 \ncriteriaValue \nA string. The value is filled for the comparison of the criteria. \nid \nA string. Unique identifier. \n \nPromotionCriteriaGroup sub-resource \nSet of group criteria to promotion. Fulfilling these criteria, parties will receive benefits. \n@baseType \nA string. The base type for use in polymorphic collections. \n@schemaLocation \nA string. A link to the schema describing a resource (for type extension). \n@type \nA string. The class type of the actual resource (for type extension). \ncriteria \nA list of promotion criteria (PromotionCriteria [1..*]). Set of criteria to be followed \nby all parties. \ncriteriaLogicalRelationship A string. Logical relation followed by all criteria. \ngroupName \nA string. Name of the group to be easily identified. \nid \nA string. Unique Identifier. \n \nPromotionPattern sub-resource \nContains the conditions and benefits of the promotion to an eligible party. \n@baseType \nA string. The base type for use in polymorphic collections. \n@schemaLocation \nA string. A link to the schema describing a resource (for type extension). \n@type \nA string. The class type of the actual resource (for type extension). \naction \nA list of promotion actions (PromotionAction [1..*]). Action of the promotion. \nWhen the customer meets the conditions in the promotion pattern, the \ncustomer can be given the benefits in the action. \ncriteriaGroup \nA list of promotion criteria groups (PromotionCriteriaGroup [1..*]). Set of \ngroup criteria to promotion. Fulfilling these criteria, parties will receive \nbenefits. \ncriteriaGroupLogicalRelationship A string. Logical relation followed by the criteria group. \ndescription \nA string. Small description to clarify the pattern details. \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 15 of 34 \nid \nA string. Unique identifier of promotion pattern. \nname \nA string. Alias to promotion pattern. This way is easily mentioned. \npriority \nAn integer. Priority. Smaller number means high. \nvalidFor \nA time period. The period for which the promotion pattern is valid. \n \nEntityRef relationship \nEntity reference schema to be use for all entityRef class. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \n@referredType \nA string. The actual type of the target instance when needed for disambiguation. \nname \nA string. Name of the related entity. \n \n \n \n \n \n \n \n \n \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 16 of 34 \nJson representation sample \nWe provide below the json representation of an example of a 'Promotion' resource object. \n{ \n    \"id\": \"PREPAIDOFFER_5GB\", \n    \"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/8474\", \n    \"description\": \"Top-up by \\u00a320 or more and get 5GB of data for only \\u00a35\", \n    \"lastUpdate\": \"2021-01-19T00:00:00.000Z\", \n    \"lifecycleStatus\": \"release\", \n    \"name\": \"More 5GB data when \\u00a320 top-up\", \n    \"pattern\": [ \n        { \n            \"id\": \"PATTERN_PREPAID_PRODUCT_OFFERING_5GB\", \n            \"action\": [ \n                { \n                    \"id\": \"ACTION_PREPAID_PRODUCT_OFFERING_5GB\", \n                    \"actionEntityRef\": { \n                        \"id\": \"PRODUCT_OFFERING_5GB\", \n                        \"href\": \"https://mycsp.com:8080/tmf-\napi/productCatalogManagement/v4/productOffering/PRODUCT_OFFERING_5GB\", \n                        \"name\": \"5GB data add-on\" \n                    }, \n                    \"actionType\": \"3\", \n                    \"actionValue\": \"5\" \n                } \n            ], \n            \"criteriaGroup\": [ \n                { \n                    \"id\": \"GROUP_PREPAID_PRODUCT_OFFERING_5GB\", \n                    \"criteria\": [ \n                        { \n                            \"id\": \"CRITERIA_PREPAID_PRODUCT_OFFERING_5GB\", \n                            \"criteriaOperator\": \">=\", \n                            \"criteriaParameter\": \"5.3\", \n                            \"criteriaValue\": \"\\u00a320\" \n                        } \n                    ] \n                } \n            ] \n        } \n    ], \n    \"promotionType\": \"Reduction\", \n    \"validFor\": { \n        \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n        \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n    } \n} \n \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 17 of 34 \nNotification Resource Models \n5 notifications are defined for this API: \n    - PromotionCreateEvent \n    - PromotionDeleteEvent \n    - PromotionAttributeValueChangeEvent \n    - PromotionStateChangeEvent \n    - PromotionInformationRequiredEvent \n \nThe notification structure for all notifications in this API follow the pattern depicted by the figure below. \nA notification event resource (depicted by \"SpecificEvent\" placeholder) is a sub class of a generic Event structure \ncontaining at least an id of the event occurrence (eventId), an event timestamp (eventTime), and the name of the \nresource (eventType).  \n \nThis notification structure owns an event payload structure (\"SpecificEventPayload\" placeholder) linked to the \nresource concerned by the notification using the resource name as access field (\"resourceName\" placeholder). \nEvent resource model \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 18 of 34 \nPromotion Create Event \nWe provide below the json representation of an example of a \u201cPromotionCreateEvent\u201d event: \nJson representation sample \n{ \n \n\"eventId\": \"00001\", \n \n\"eventTime\": \"2015-11-16T16:42:25-04:00\", \n \n\"eventType\": \"PromotionCreateEvent\", \n \n\"event\": { \n \n \n\"promotion\": { \n \n \n \n\"id\": \"RETENTIONNETFLIX3M\", \n \n \n \n\"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/RETENTIONNETFLIX3M\", \n \n \n \n\"description\": \"Retention for more 24 months gives free Netflix for 3months\", \n \n \n \n\"lastUpdate\": \"2021-01-19T00:00:00.000Z\", \n \n \n \n\"lifecycleStatus\": \"draft\", \n \n \n \n\"name\": \"3months of free Netflix when retention for more 24 months\", \n \n \n \n\"pattern\": [{ \n \n \n \n \n\"action\": [{ \n \n \n \n \n \n\"actionEntityRef\": { \n \n \n \n \n \n \n\"id\": \"POSTPAID_PRODUCT_OFFERING_NETFLIX\", \n \n \n \n \n \n \n\"href\": \"https://mycsp.com:8080/tmf-\napi/productCatalogManagement/v4/productOffering/PRODUCT_OFFERING_NETFLIX\", \n \n \n \n \n \n \n\"name\": \"Netflix 3MFree\" \n \n \n \n \n \n}, \n \n \n \n \n \n\"actionType\": \"9\" \n \n \n \n \n}], \n \n \n \n \n\"criteriaGroup\": [{ \n \n \n \n \n \n\"criteria\": [{ \n \n \n \n \n \n \n\"criteriaOperator\": \"=\", \n \n \n \n \n \n \n\"criteriaParameter\": \"3.2\", \n \n \n \n \n \n \n\"criteriaValue\": \"24\" \n \n \n \n \n \n}, { \n \n \n \n \n \n \n\"criteriaOperator\": \"=\", \n \n \n \n \n \n \n\"criteriaParameter\": \"3.3\", \n \n \n \n \n \n \n\"criteriaValue\": \"months\" \n \n \n \n \n \n}] \n \n \n \n \n}] \n \n \n \n}], \n \n \n \n\"promotionType\": \"Award\", \n \n \n \n\"validFor\": { \n \n \n \n \n\"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n \n \n \n \n\"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n \n \n \n}} \n \n} \n} \n \nPromotion Delete Event \nWe provide below the json representation of an example of a \u201cPromotionDeleteEvent\u201d event: \nJson representation sample"}
{"tmforumApiId": "TMF671", "id": "TMF671-chunk-5", "chunkIndex": 5, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 5/8)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 19 of 34 \n{ \n \n\"eventId\": \"00001\", \n \n\"eventTime\": \"2015-11-16T16:42:25-04:00\", \n \n\"eventType\": \"PromotionDeleteEvent\", \n \n\"event\": { \n \n \n\"promotion\": { \n \n \n \n\"id\": \"CUSTBIRTHDAY\", \n \n \n \n\"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/CUSTBIRTHDAY\", \n \n \n \n\"description\": \"It's your birthday! 50 loyalty points will be added to your account\", \n \n \n \n\"lastUpdate\": \"2000-01-19T00:00:00.000Z\", \n \n \n \n\"lifecycleStatus\": \"retirement\", \n \n \n \n\"name\": \"50 loyalty points just to you\", \n \n \n \n\"pattern\": [{ \n \n \n \n \n\"id\": \"PATTERN_50_LOYALTY POINTS\", \n \n \n \n \n\"action\": [{ \n \n \n \n \n \n\"id\": \"ACTION_50_LOYALTY POINTS\", \n \n \n \n \n \n\"actionType\": \"10\", \n \n \n \n \n \n\"actionValue\": \"50 loyalty points\" \n \n \n \n \n}], \n \n \n \n \n\"criteriaGroup\": [{ \n \n \n \n \n \n\"id\": \"GROUP_50_LOYALTY POINTS\", \n \n \n \n \n \n\"criteria\": [{ \n \n \n \n \n \n \n\"id\": \"CRITERIA_50_LOYALTY POINTS\", \n \n \n \n \n \n \n\"criteriaOperator\": \"=\", \n \n \n \n \n \n \n\"criteriaParameter\": \"1.3\", \n \n \n \n \n \n \n\"criteriaValue\": \"02-09\" \n \n \n \n \n \n}] \n \n \n \n \n}] \n \n \n \n}], \n \n \n \n\"promotionType\": \"Award\", \n \n \n \n\"validFor\": { \n \n \n \n \n\"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n \n \n \n \n\"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n \n \n \n}} \n \n} \n} \nPromotion Attribute Value Change Event \nNotification PromotionAttributeValueChangeEvent case for resource Promotion. \nJson representation sample \n{ \n \n\"eventId\": \"00001\", \n \n\"eventTime\": \"2015-11-16T16:42:25-04:00\", \n \n\"eventType\": \" PromotionAttributeValueChangeEvent \", \n \n\"event\": { \n \n \n\"promotion\": { \n \n \n \n\"id\": \"CUSTBIRTHDAY\", \n \n \n \n\"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/CUSTBIRTHDAY\", \n \n \n \n\"description\": \"It's your birthday! 50 loyalty points will be added to your account\", \n \n \n \n\"lastUpdate\": \"2000-01-19T00:00:00.000Z\", \n \n \n \n\"lifecycleStatus\": \"retirement\", \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 20 of 34 \n \n \n \n\"name\": \"50 loyalty points just to you\", \n \n \n \n\"pattern\": [{ \n \n \n \n \n\"id\": \"PATTERN_50_LOYALTY POINTS\", \n \n \n \n \n\"action\": [{ \n \n \n \n \n \n\"id\": \"ACTION_50_LOYALTY POINTS\", \n \n \n \n \n \n\"actionType\": \"10\", \n \n \n \n \n \n\"actionValue\": \"50 loyalty points\" \n \n \n \n \n}], \n \n \n \n \n\"criteriaGroup\": [{ \n \n \n \n \n \n\"id\": \"GROUP_50_LOYALTY POINTS\", \n \n \n \n \n \n\"criteria\": [{ \n \n \n \n \n \n \n\"id\": \"CRITERIA_50_LOYALTY POINTS\", \n \n \n \n \n \n \n\"criteriaOperator\": \"=\", \n \n \n \n \n \n \n\"criteriaParameter\": \"1.3\", \n \n \n \n \n \n \n\"criteriaValue\": \"02-09\" \n \n \n \n \n \n}] \n \n \n \n \n}] \n \n \n \n}], \n \n \n \n\"promotionType\": \"Award\", \n \n \n \n\"validFor\": { \n \n \n \n \n\"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n \n \n \n \n\"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n \n \n \n}} \n \n} \n} \n \nPromotion State Change Event \nNotification PromotionStateChangeEvent case for resource Promotion. \nJson representation sample \n{ \n \n\"eventId\": \"00001\", \n \n\"eventTime\": \"2015-11-16T16:42:25-04:00\", \n \n\"eventType\": \" PromotionStateChangeEvent\", \n \n\"event\": { \n \n \n\"promotion\": { \n \n \n \n\"id\": \"CUSTBIRTHDAY\", \n \n \n \n\"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/CUSTBIRTHDAY\", \n \n \n \n\"description\": \"It's your birthday! 50 loyalty points will be added to your account\", \n \n \n \n\"lastUpdate\": \"2000-01-19T00:00:00.000Z\", \n \n \n \n\"lifecycleStatus\": \"retirement\", \n \n \n \n\"name\": \"50 loyalty points just to you\", \n \n \n \n\"pattern\": [{ \n \n \n \n \n\"id\": \"PATTERN_50_LOYALTY POINTS\", \n \n \n \n \n\"action\": [{ \n \n \n \n \n \n\"id\": \"ACTION_50_LOYALTY POINTS\", \n \n \n \n \n \n\"actionType\": \"10\", \n \n \n \n \n \n\"actionValue\": \"50 loyalty points\" \n \n \n \n \n}], \n \n \n \n \n\"criteriaGroup\": [{ \n \n \n \n \n \n\"id\": \"GROUP_50_LOYALTY POINTS\", \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 21 of 34 \n \n \n \n \n \n\"criteria\": [{ \n \n \n \n \n \n \n\"id\": \"CRITERIA_50_LOYALTY POINTS\", \n \n \n \n \n \n \n\"criteriaOperator\": \"=\", \n \n \n \n \n \n \n\"criteriaParameter\": \"1.3\", \n \n \n \n \n \n \n\"criteriaValue\": \"02-09\" \n \n \n \n \n \n}] \n \n \n \n \n}] \n \n \n \n}], \n \n \n \n\"promotionType\": \"Award\", \n \n \n \n\"validFor\": { \n \n \n \n \n\"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n \n \n \n \n\"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n \n \n \n}} \n \n} \n} \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 22 of 34 \nAPI Operations \nRemember the following Uniform Contract: \nOperation on Entities \nUniform API Operation \nDescription \nQuery Entities \nGET Resource \nGET must be used to retrieve a representation of a resource. \nCreate Entity \nPOST Resource \nPOST must be used to create a new resource. \nPartial Update of an Entity \nPATCH Resource \nPATCH must be used to partially update a resource. \nComplete Update of an \nEntity \nPUT Resource \nPUT must be used to completely update a resource identified \nby its resource URI. \nRemove an Entity \nDELETE Resource \nDELETE must be used to remove a resource. \nExecute an Action on an \nEntity  \nPOST on TASK Resource \nPOST must be used to execute Task resources. \nOther Request Methods \nPOST on TASK Resource \nGET and POST must not be used to tunnel other request \nmethods. \n \nFiltering and attribute selection rules are described in the TMF REST Design Guidelines. \nNotifications are also described in a subsequent section. \n \nOperations on Promotion \nList promotions \n  GET /promotion?fields=...&{filtering} \nDescription \nThis operation lists promotion entities. Attribute selection is enabled for all first level attributes. \nFiltering may be available depending on the compliance level supported by an implementation."}
{"tmforumApiId": "TMF671", "id": "TMF671-chunk-6", "chunkIndex": 6, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 6/8)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 23 of 34 \nUsage Samples \nHere's an example of a request for retrieving multiple Promotion. \nRequest \nGET /tmf-api/promotionManagement/v4/promotion \nAccept: application/json \nResponse \n200 \n \n[{ \n        \"id\": \"CUSTBIRTHDAY\", \n        \"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/CUSTBIRTHDAY\", \n        \"description\": \"It's your birthday! 50 loyalty points will be added to your account\", \n        \"lastUpdate\": \"2000-01-19T00:00:00.000Z\", \n        \"lifecycleStatus\": \"retirement\", \n        \"name\": \"50 loyalty points just to you\", \n        \"pattern\": [{ \n                \"id\": \"PATTERN_50_LOYALTY POINTS\", \n                \"action\": [{ \n                        \"id\": \"ACTION_50_LOYALTY POINTS\", \n                        \"actionType\": \"10\", \n                        \"actionValue\": \"50 loyalty points\" \n                }], \n                \"criteriaGroup\": [{ \n                        \"id\": \"GROUP_50_LOYALTY POINTS\", \n                        \"criteria\": [ \n                            { \n                                \"id\": \"CRITERIA_50_LOYALTY POINTS\", \n                                \"criteriaOperator\": \"=\", \n                                \"criteriaParameter\": \"1.3\", \n                                \"criteriaValue\": \"02-09\" \n                            }] \n                    }] \n        }], \n        \"promotionType\": \"Award\", \n        \"validFor\": { \n            \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n            \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n        } \n    }, \n    { \n        \"id\": \"RETENTIONNETFLIX3M\", \n        \"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/RETENTIONNETFLIX3M\", \n        \"description\": \"Retention for more 24 months gives free Netflix for 3months\", \n        \"lastUpdate\": \"2021-02-10T00:00:00.000Z\", \n        \"lifecycleStatus\": \"draft\", \n        \"name\": \"3months of free Netflix when retention for more 24 months\", \n        \"pattern\": [{ \n                \"action\": [{ \n                        \"actionEntityRef\": { \n                            \"id\": \"POSTPAID_PRODUCT_OFFERING_NETFLIX\", \n                            \"href\": \"https://mycsp.com:8080/tmf-\napi/productCatalogManagement/v4/productOffering/PRODUCT_OFFERING_NETFLIX\", \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 24 of 34 \n                            \"name\": \"Netflix 3MFree\" \n                        }, \n                        \"actionType\": \"9\" \n                    } \n                ], \n                \"criteriaGroup\": [{ \n                        \"criteria\": [{ \n                                \"criteriaOperator\": \"=\", \n                                \"criteriaParameter\": \"3.2\", \n                                \"criteriaValue\": \"24\" \n                            },{ \n                                \"criteriaOperator\": \"=\", \n                                \"criteriaParameter\": \"3.3\", \n                                \"criteriaValue\": \"months\" \n                            }] \n                    }] \n         }], \n        \"promotionType\": \"Award\", \n        \"validFor\": { \n            \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n            \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n        } \n    },{ \n        \"id\": \"PREPAIDOFFER_5GB\", \n        \"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/PREPAIDOFFER_5GB\", \n        \"description\": \"Top-up by \\u00a320 or more and get 5GB of data for only \\u00a35\", \n        \"lastUpdate\": \"2021-02-10T00:00:00.000Z\", \n        \"lifecycleStatus\": \"release\", \n        \"name\": \"More 5GB data when 20euros top-up\", \n        \"pattern\": [{ \n                \"id\": \"PATTERN_PREPAID_PRODUCT_OFFERING_5GB\", \n                \"action\": [{ \n                        \"id\": \"ACTION_PREPAID_PRODUCT_OFFERING_5GB\", \n                        \"actionEntityId\": { \n                            \"id\": \"PRODUCT_OFFERING_5GB\", \n                            \"href\": \"https://mycsp.com:8080/tmf-\napi/productCatalogManagement/v4/productOffering/PRODUCT_OFFERING_5GB\", \n                            \"name\": \"5GB data add-on\" \n                        }, \n                        \"actionType\": \"3\", \n                        \"actionValue\": \"5\" \n                }], \n                \"criteriaGroup\": [{ \n                        \"id\": \"GROUP_PREPAID_PRODUCT_OFFERING_5GB\", \n                        \"criteria\": [{ \n                                \"id\": \"CRITERIA_PREPAID_PRODUCT_OFFERING_5GB\", \n                                \"criteriaOperator\": \">=\", \n                                \"criteriaParameter\": \"5.1\", \n                                \"criteriaValue\": \"\\u00a320\" \n                            }] \n                    }] \n            }], \n        \"promotionType\": \"Reduction\", \n        \"validFor\": { \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 25 of 34 \n            \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n            \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n        } \n    }] \n \nRetrieve promotion \n  GET /promotion/{id}?fields=...&{filtering} \nDescription \nThis operation retrieves a promotion entity. Attribute selection is enabled for all first level attributes. \nFiltering on sub-resources may be available depending on the compliance level supported by an implementation. \nUsage Samples \nHere's an example of a request for retrieving a specific Promotion. \nRequest \nGET /tmf-api/promotionManagement/v4/promotion/RETENTIONNETFLIX3M \nAccept: application/json \nResponse \n200 \n \n{ \n    \"id\": \"RETENTIONNETFLIX3M\", \n    \"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/RETENTIONNETFLIX3M\", \n    \"description\": \"Retention for more 24 months gives free Netflix for 3months\", \n    \"lastUpdate\": \"2021-02-10T00:00:00.000Z\", \n    \"lifecycleStatus\": \"draft\", \n    \"name\": \"3months of free Netflix when retention for more 24 months\", \n    \"pattern\": [{ \n            \"action\": [{ \n                    \"actionEntityRef\": { \n                        \"id\": \"POSTPAID_PRODUCT_OFFERING_NETFLIX\", \n                        \"href\": \"https://mycsp.com:8080/tmf-\napi/productCatalogManagement/v4/productOffering/PRODUCT_OFFERING_NETFLIX\", \n                        \"name\": \"Netflix 3MFree\" \n                    }, \n                    \"actionType\": \"9\" \n                }], \n            \"criteriaGroup\": [{ \n                    \"criteria\": [{ \n                            \"criteriaOperator\": \"=\", \n                            \"criteriaParameter\": \"3.2\", \n                            \"criteriaValue\": \"24\" \n                        },{ \n                            \"criteriaOperator\": \"=\", \n                            \"criteriaParameter\": \"3.3\", \n                            \"criteriaValue\": \"months\" \n                        }] \n                }]"}
{"tmforumApiId": "TMF671", "id": "TMF671-chunk-7", "chunkIndex": 7, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 7/8)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 26 of 34 \n     }], \n    \"promotionType\": \"Award\", \n    \"validFor\": { \n        \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n        \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n    } \n} \n \nCreate promotion \n  POST /promotion \nDescription \nThis operation creates a promotion entity. \nMandatory and Non Mandatory Attributes \nThe following tables provide the list of mandatory and non-mandatory attributes when creating a Promotion, \nincluding any possible rule conditions and applicable default values.  \nNotice that it is up to an implementer to add additional mandatory attributes. \nMandatory Attributes \nRule \nname \nN/A \n \nNon Mandatory Attributes \nRule \n@baseType \nOnly required if the resource is extended. \n@schemaLocation \n@type \ndescription \nN/A \nlastUpdate \nlifecycleStatus \npattern \npromotionType \nvalidFor \n \n \n \n \nUsage Samples \nHere's an example of a request for creating a specific Promotion. \nRequest \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 27 of 34 \nPOST /tmf-api/promotionManagement/v4/promotion \nContent-Type: application/json \n \n{ \n    \"description\": \"Retention for more 24 months gives free Netflix for 3months\", \n    \"lastUpdate\": \"2021-01-19T00:00:00.000Z\", \n    \"lifecycleStatus\": \"draft\", \n    \"name\": \"3months of free Netflix when retention for more 24 months\", \n    \"pattern\": [{ \n            \"action\": [{ \n                    \"actionEntityRef\": { \n                        \"id\": \"POSTPAID_PRODUCT_OFFERING_NETFLIX\", \n                        \"href\": \"https://mycsp.com:8080/tmf-\napi/productCatalogManagement/v4/productOffering/PRODUCT_OFFERING_NETFLIX\", \n                        \"name\": \"Netflix 3MFree\" \n                    }, \n                    \"actionType\": \"9\" \n            }], \n            \"criteriaGroup\": [{ \n                    \"criteria\": [{ \n                            \"criteriaOperator\": \"=\", \n                            \"criteriaParameter\": \"3.2\", \n                            \"criteriaValue\": \"24\" \n                        },{ \n                            \"criteriaOperator\": \"=\", \n                            \"criteriaParameter\": \"3.3\", \n                            \"criteriaValue\": \"months\" \n                        }] \n                }] \n    }], \n    \"promotionType\": \"Award\", \n    \"validFor\": { \n        \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n        \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n    } \n} \n \nResponse \n201 \n \n{ \n    \"id\": \"RETENTIONNETFLIX3M\", \n    \"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/RETENTIONNETFLIX3M\", \n    \"description\": \"Retention for more 24 months gives free Netflix for 3months\", \n    \"lastUpdate\": \"2021-01-19T00:00:00.000Z\", \n    \"lifecycleStatus\": \"draft\", \n    \"name\": \"3months of free Netflix when retention for more 24 months\", \n    \"pattern\": [{ \n            \"action\": [{ \n                    \"actionEntityRef\": { \n                        \"id\": \"POSTPAID_PRODUCT_OFFERING_NETFLIX\", \n                        \"href\": \"https://mycsp.com:8080/tmf-\napi/productCatalogManagement/v4/productOffering/PRODUCT_OFFERING_NETFLIX\", \n                        \"name\": \"Netflix 3MFree\" \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 28 of 34 \n                    }, \n                    \"actionType\": \"9\" \n            }], \n            \"criteriaGroup\": [{ \n                    \"criteria\": [{ \n                            \"criteriaOperator\": \"=\", \n                            \"criteriaParameter\": \"3.2\", \n                            \"criteriaValue\": \"24\" \n                        },{ \n                            \"criteriaOperator\": \"=\", \n                            \"criteriaParameter\": \"3.3\", \n                            \"criteriaValue\": \"months\" \n                        }] \n                }] \n        }], \n    \"promotionType\": \"Award\", \n    \"validFor\": { \n        \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n        \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n    } \n} \n \nPatch promotion \n  PATCH /promotion/{id} \nDescription \nThis operation allows partial updates of a promotion entity. Support of json/merge \n(https://tools.ietf.org/html/rfc7386) is mandatory, support of json/patch (http://tools.ietf.org/html/rfc5789) is \noptional. \n \nNote: If the update operation yields to the creation of sub-resources or relationships, the same rules concerning \nmandatory sub-resource attributes and default value settings in the POST operation applies to the PATCH \noperation.   \nHence these tables are not repeated here. \n \n \n \nPatchable and Non Patchable Attributes \nThe tables below provide the list of patchable and non patchable attributes, including constraint rules on their \nusage. \nPatchable Attributes \nRule \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 29 of 34 \ndescription \nN/A \nlastUpdate \nlifecycleStatus \nname \npattern \npromotionType \nvalidFor \nNon Patchable Attributes \nRule \nid \nN/A \nhref \npattern.id \npattern.criteriaGroup.id \npattern.criteriaGroup.criteria.id \npattern.action.id \n@baseType \n@schemaLocation \n@type \n \nUsage Samples \nHere's an example of a request for patching a Promotion. \nRequest \nPATCH /tmf-api/promotionManagement/v4/promotion/RETENTIONNETFLIX3M \nContent-Type: application/merge-patch+json \n{ \n    \"lifecycleStatus\": \"retirement\" \n} \nResponse \n200 \n \n{ \n    \"id\": \"CUSTBIRTHDAY\", \n    \"href\": \"https:/host:port/tmf-api/promotion/v4/promotion/CUSTBIRTHDAY\", \n    \"description\": \"It's your birthday! 50 loyalty points will be added to your account\", \n    \"lastUpdate\": \"2000-01-19T00:00:00.000Z\", \n    \"lifecycleStatus\": \"retirement\", \n    \"name\": \"50 loyalty points just to you\", \n    \"pattern\": [{ \n            \"id\": \"PATTERN_50_LOYALTY POINTS\", \n            \"action\": [{ \n                    \"id\": \"ACTION_50_LOYALTY POINTS\", \n                    \"actionType\": \"10\", \n                    \"actionValue\": \"50 loyalty points\" \n            }], \n            \"criteriaGroup\": [{ \n                    \"id\": \"GROUP_50_LOYALTY POINTS\", \n                    \"criteria\": [{ \n                            \"id\": \"CRITERIA_50_LOYALTY POINTS\", \n                            \"criteriaOperator\": \"=\","}
{"tmforumApiId": "TMF671", "id": "TMF671-chunk-8", "chunkIndex": 8, "totalChunks": 8, "apiName": "Promotion Management API v4.1.0 specification", "title": "TMF671_Promotion_Management_API_v4.1.0_specification (Part 8/8)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 30 of 34 \n                            \"criteriaParameter\": \"1.3\", \n                            \"criteriaValue\": \"02-09\" \n                        }] \n                }] \n        }], \n    \"promotionType\": \"Award\", \n    \"validFor\": { \n        \"startDateTime\": \"2020-01-05T12:00:56.982Z\", \n        \"endDateTime\": \"9999-12-31T23:59:59.999Z\" \n    } \n} \n \nDelete promotion \n  DELETE /promotion/{id} \nDescription \nThis operation deletes a promotion entity. \nUsage Samples \nHere's an example of a request for patching a Promotion. \nRequest \nDELETE /tmf-api/promotionManagement/v4/promotion/RETENTIONNETFLIX3M \n \nResponse \n204 \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 31 of 34 \nAPI Notifications \nFor every single of operation on the entities use the following templates and provide sample REST notification POST \ncalls. It is assumed that the Pub/Sub uses the Register and UnRegister mechanisms described in the REST \nGuidelines reproduced below. \nRegister listener \n  POST /hub \nDescription \nSets the communication endpoint address the service instance must use to deliver information about its health \nstate, execution state, failures and metrics. Subsequent POST calls will be rejected by the service if it does not \nsupport multiple listeners. In this case DELETE /api/hub/{id} must be called before an endpoint can be created \nagain. \nBehavior \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 409 if request is not successful. \nUsage Samples \nHere's an example of a request for registering a listener. \nRequest \nPOST /api/hub \nAccept: application/json \n \n{\"callback\": \"http://in.listener.com\"} \n \nResponse \n201 \nContent-Type: application/json \nLocation: /api/hub/42 \n \n{\"id\":\"42\",\"callback\":\"http://in.listener.com\",\"query\":null} \n \nUnregister listener \n  DELETE /hub/{id} \nDescription \nClears the communication endpoint address that was set by creating the Hub. \nBehavior \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 32 of 34 \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 404 if the resource is not found. \nUsage Samples \nHere's an example of a request for un-registering a listener. \nRequest \nDELETE /api/hub/42 \nAccept: application/json \n \nResponse \n204 \n \nPublish Event to listener \n  POST /client/listener \nDescription \nClears the communication endpoint address that was set by creating the Hub. \nProvides to a registered listener the description of the event that was raised. The /client/listener url is the callback \nurl passed when registering the listener. \nBehavior \nReturns HTTP/1.1 status code 201 if the service can set the configuration.  \nUsage Samples \nHere's an example of a notification received by the listener. In this example \u201cEVENT TYPE\u201d should be replaced by \none of the notification types supported by this API (see Notification resources Models section) and EVENT BODY \nrefers to the data structure of the given notification type. \n \n \nRequest \nPOST /client/listener \nAccept: application/json \n{ \n    \"event\": { EVENT BODY }, \n    \"eventType\": \"EVENT_TYPE\" \n} \n \nResponse \n201 \n\n\n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 33 of 34 \n \nFor detailed examples on the general TM Forum notification mechanism, see the TMF REST Design Guidelines. \n \n \n \n\n\n \n\u00a9 TM Forum 2020. All Rights Reserved.                                                                                                                                Page 34 of 34 \nAcknowledgements \n \nRelease History \nRelease \nNumber \nDate  \nRelease led by: \nDescription  \nRelease 1.0 \n04/15/2017 \nPierre Gauthier \nTM Forum \npgauthier@tmforum.org \n \nMariano Belaunde Orange \nLabs \nFirst Release of the Document \nRelease 2.0 \n11/06/2018 \nMariano Belaunde  \nOrange Labs \nAlignment with Guidelines 3.0 \nRelease 3.0  \n23/06/2021 \nLara Silva \nVodafone \nlara.silva3@vodafone.com \nAlignment with guidelines 4.0.1 \n \n \nContributors to Document"}
