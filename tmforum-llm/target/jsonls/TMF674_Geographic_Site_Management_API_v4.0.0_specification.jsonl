{"tmforumApiId": "TMF674", "id": "TMF674-chunk-1", "chunkIndex": 1, "totalChunks": 7, "apiName": "Geographic Site Management API v4.0.0 specification", "title": "TMF674_Geographic_Site_Management_API_v4.0.0_specification (Part 1/7)", "documentType": "Tmforum api user guide", "text": "TM Forum Specification \n \n \nGeographic Site Management API \nUser Guide \n \n \n \n \n \nTMF674 \nTeam Approved Date: 03-Apr-2020 \n \nRelease Status: Production \nApproval Status: TM Forum Approved \nVersion 4.0.1 \nIPR Mode: RAND \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 2 of 35\nNOTICE \nCopyright \u00a9 TM Forum 2020. All Rights Reserved. \n \nThis document and translations of it may be copied and furnished to others, and derivative works that comment on \nor otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in \nwhole or in part, without restriction of any kind, provided that the above copyright notice and this section are \nincluded on all such copies and derivative works. However, this document itself may not be modified in any way, \nincluding by removing the copyright notice or references to TM FORUM, except as needed for the purpose of \ndeveloping any document or deliverable produced by a TM FORUM Collaboration Project Team (in which case the \nrules applicable to copyrights, as set forth in the TM FORUM IPR Policy, must be followed) or as required to \ntranslate it into languages other than English. \n \nThe limited permissions granted above are perpetual and will not be revoked by TM FORUM or its successors or \nassigns. \n \nThis document and the information contained herein is provided on an \"AS IS\" basis and TM FORUM DISCLAIMS \nALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE \nINFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF \nMERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. \n \nTM FORUM invites any TM FORUM Member or any other party that believes it has patent claims that would \nnecessarily be infringed by implementations of this TM Forum Standards Final Deliverable, to notify the TM FORUM \nTeam Administrator and provide an indication of its willingness to grant patent licenses to such patent claims in a \nmanner consistent with the IPR Mode of the TM FORUM Collaboration Project Team that produced this deliverable. \n \nThe TM FORUM invites any party to contact the TM FORUM Team Administrator if it is aware of a claim of \nownership of any patent claims that would necessarily be infringed by implementations of this TM FORUM \nStandards Final Deliverable by a patent holder that is not willing to provide a license to such patent claims in a \nmanner consistent with the IPR Mode of the TM FORUM Collaboration Project Team that produced this TM FORUM \nStandards Final Deliverable. TM FORUM may include such claims on its website but disclaims any obligation to do \nso. \n \nTM FORUM takes no position regarding the validity or scope of any intellectual property or other rights that might \nbe claimed to pertain to the implementation or use of the technology described in this TM FORUM Standards Final \nDeliverable or the extent to which any license under such rights might or might not be available; neither does it \nrepresent that it has made any effort to identify any such rights. Information on TM FORUM's procedures with \nrespect to rights in any document or deliverable produced by a TM FORUM Collaboration Project Team can be \nfound on the TM FORUM website. Copies of claims of rights made available for publication and any assurances of \nlicenses to be made available, or the result of an attempt made to obtain a general license or permission for the \nuse of such proprietary rights by implementers or users of this TM FORUM Standards Final Deliverable, can be \nobtained from the TM FORUM Team Administrator. TM FORUM makes no representation that any information or \nlist of intellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential \nClaims. \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 3 of 35\n \nDirect inquiries to the TM Forum office: \n \n4 Century Drive, Suite 100 \nParsippany, NJ 07054, USA \nTel No. +1 973 944 5100 \nFax No. +1 973 944 5110 \nTM Forum Web Page: www.tmforum.org"}
{"tmforumApiId": "TMF674", "id": "TMF674-chunk-2", "chunkIndex": 2, "totalChunks": 7, "apiName": "Geographic Site Management API v4.0.0 specification", "title": "TMF674_Geographic_Site_Management_API_v4.0.0_specification (Part 2/7)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved\nPage 4 of 35\nTable of Contents \nNOTICE ............................................................................................................................................................................ 2 \nTable of Contents ............................................................................................................................................................ 4 \nList of Tables ................................................................................................................................................................... 6 \nIntroduction .................................................................................................................................................................... 7 \nSample Use Cases ........................................................................................................................................................... 9 \nSupport of polymorphism and extension patterns ...................................................................................................... 10 \nRESOURCE MODEL ........................................................................................................................................................ 11 \nManaged Entity and Task Resource Models ..................................................................................................... 11 \nGeographic Site resource ...................................................................................................................................... 11 \nNotification Resource Models .............................................................................................................................. 15 \nGeographic Site Create Event ................................................................................................................................ 16 \nGeographic Site Attribute Value Change Event ..................................................................................................... 17 \nGeographic Site Status Change Event ................................................................................................................... 17 \nGeographic Site Delete Event ................................................................................................................................ 17 \nAPI OPERATIONS ........................................................................................................................................................... 19 \nOperations on Geographic Site ................................................................................................................................. 19 \nList geographic sites .............................................................................................................................................. 19 \nRetrieve geographic site ........................................................................................................................................ 20 \nCreate geographic site ........................................................................................................................................... 23 \nPatch geographic site ............................................................................................................................................ 26 \nDelete geographic site ........................................................................................................................................... 31 \nAPI Notifications .................................................................................................................................................... 31 \nRegister listener ........................................................................................................................................................ 31 \nUnregister listener .................................................................................................................................................... 33 \nPublish Event to listener ........................................................................................................................................... 33 \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 5 of 35\nAcknowledgements ...................................................................................................................................................... 35 \nVersion History ......................................................................................................................................................... 35 \nRelease History ......................................................................................................................................................... 35 \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 6 of 35\nList of Tables \n \nN/A \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 7 of 35\nIntroduction \n \nThe following document is the specification of the REST API for Geographic Site management. A geographic site is a \nspecialization of the abstract Place entity (like Geographic Address and Geographic Location).  \n \nThis specification includes the Geographic site model definition as well as all available operations. Possible actions \nare creating, updating and retrieving geographic sites.  \n  This API covers the operations to manage (create, read, delete) sites that can be associated to a customer, an \naccount, a service delivery or other entities. \nThis API defines a Site as a convenience class that allows to easily refer to places important to other entities, where \na geographic place is the entity that can answer the question \u201cwhere?\u201d, allowing to determine where things are in \nrelation to the earth's surface, and can be represented either in a textual structured way (geographic address) or as \na geometry referred to a spatial reference system (geographic location) \nThis API relates with the following two APIs also covering SID GeographicPlace entity \n\u2022 \nGeographic Address Management API, specific to manage places defined in a structured textual \nway (street name, street number \u2026) and validate existence of given address definition. \n\u2022 \nGeoLocation API specific for management of places defined as a geometry in the spatial reference \nregarding the surface of the Earth (coordinates \u2026) and the relationship between different geolocations \n(distance, proximity \u2026) \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 8 of 35\nThis API allows the following operations  \n- \nCreate a new site \n- \nPartial update of a geographic site  \n- \nRetrieve a list of sites stored in a server filtered by a given criteria \n- \nRetrieve a specific site \n- \nNotification of events on a geographic site \no geographic site creation \no geographic site removal \no geographic site status change \no geographic site value change used to notify that any data in a geographic site has just changed"}
{"tmforumApiId": "TMF674", "id": "TMF674-chunk-3", "chunkIndex": 3, "totalChunks": 7, "apiName": "Geographic Site Management API v4.0.0 specification", "title": "TMF674_Geographic_Site_Management_API_v4.0.0_specification (Part 3/7)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved\nPage 9 of 35\nSample Use Cases \nThis section includes a set of main use cases that can be performed with this API. Additional use cases can be \ngenerated using the operations and resources defined in this specification. \n\u2022 Create a site in the server and associate a given customer/account to that site. The site definition includes \nall the address definition (street name, street number\u2026) as well as the type of site it is in the relationship \nwith the customer and the validity period for the relationship  \n\u2022 Request a new product order and associate the delivery of any of the products/services in the order to \none of the sites that have been associated to a customer/account \n\u2022 A customer creates a new trouble ticket for technical assistance requiring an agent to provide assistance \nin a specific geographic address, identified as one of the sites allocated to the customer \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 10 of 35\nSupport of polymorphism and extension patterns \n \nSupport of polymorphic collections and types and schema based extension is provided by means of a list of generic \nmeta-attributes that we describe below. Polymorphism in collections occurs when entities inherit from base \nentities, for instance a Warehouse and Customer Access inheriting properties from the Geographic Site entity itself \ninheriting from geographic place. \nGeneric support of polymorphism and pattern extensions is described in the TMF API Guidelines v3.0 Part 2 \ndocument. \nThe @type attribute provides a way to represent the actual class type of an entity. For example, within a list of \nGeographic Site (or Geographic place) instances some may be instances of Warehouse where other could be \ninstances of physical store. The @type gives this information. All resources and sub-resources of this API have a \n@type attributes that can be provided when this is useful. \nThe @referredType can be used within reference entities (like for instance in PlaceRef object) to explicitly denote \nthe actual entity type of the referred class. Notice that in reference entities the @type, when used, denotes the \nclass type of the reference itself, such as WarehouseRef or PhysicalStoreRef, and not the class type of the referred \nobject. However, since reference classes are rarely sub-classed, @type is generally not useful in reference objects. \nThe @schemaLocation property can be used in resources to allow specifying user-defined properties of an Entity or \nto specify the expected characteristics of an entity. \nThe @baseType attribute gives a way to provide explicitly the base of class of a given resource that has been \nextended. \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 11 of 35\nRESOURCE MODEL \nManaged Entity and Task Resource Models \nGeographic Site resource \n \nResource model \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 12 of 35\nField descriptions \nGeographicSite fields \nhref \nA string. Unique reference of the place. \nid \nA string. Unique identifier of the place. \nname \nA string. A user-friendly name for the place, such as [Paris Store], [London Store], \n[Main Home]. \ncalendar \nA list of calendar periods (CalendarPeriod [*]). \ncode \nA string. A code that may be used for some addressing schemes e.g.: [ANSI T1.253-\n1999]. \ndescription \nA string. Text describing additional information regarding the site. \nplace \nA list of place ref or values (PlaceRefOrValue [*]). A place defines a place described by \nreference or by value linked to a specific entity. The polymorphic attributes @type, \n@schemaLocation & @referredType are related to the place entity and not the \nRelatedPlaceRefOrValue class itself. \nrelatedParty \nA list of related parties (RelatedParty [*]). Related Entity reference. A related party \ndefines party or party role linked to a specific entity. \nsiteRelationship \nA list of geographic site relationships (GeographicSiteRelationship [*]). \nstatus \nA string. The condition of the GeographicSite, such as planned, underConstruction, \ncancelled, active, inactive, former. \nCalendarPeriod sub-resource \n \nday \nA string. Day where the calendar status applies (e.g.: monday, mon-to-fri, weekdays, \nweekend, all week, ...). \nhourPeriod \nA list of hour periods (HourPeriod [*]). \nstatus \nA string. Indication of the availability of the site (e.g.: open). \ntimeZone \nA string. Indication of the timezone applicable to the calendar information (e.g.: Paris, \nGMT+1). \nGeographicSiteRelationship sub-resource \n \nhref \nA string. Reference of the related geographic site. \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 13 of 35\nid \nA string. Unique identifier of the related site entity within the server. \nrelationshipType \nA string. Type of relationship. \nrole \nA string. Role of the related site in the relationship. \nvalidFor \nA time period. Validity for the relationship. \nHourPeriod sub-resource \n \nendHour \nA string. The time when the status ends applying. \nstartHour \nA string. The time when the status starts applying. \nPlaceRefOrValue sub-resource \nA place defines a place described by reference or by value linked to a specific entity. The polymorphic attributes \n@type, @schemaLocation & @referredType are related to the place entity and not the RelatedPlaceRefOrValue \nclass itself. \n@referredType \nA string. The actual type of the target instance when needed for disambiguation. \nname \nA string. A user-friendly name for the place, such as [Paris Store], [London Store], \n[Main Home]. \nhref \nA string. Unique reference of the place. \nid \nA string. Unique identifier of the place. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nRelatedParty sub-resource \nRelated Entity reference. A related party defines party or party role linked to a specific entity. \n@referredType \nA string. The actual type of the target instance when needed for disambiguation. \nname \nA string. Name of the related entity. \nhref \nA string. Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 14 of 35\n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes and \nrelationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nrole \nA string. Role played by the related party. \nJson representation sample \nWe provide below the json representation of an example of a 'GeographicSite' resource object \n{ \n    \"id\": \"sd65-8874\", \n    \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-8874\", \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Marseille\", \n    \"name\": \"Marseille Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:30 pm\", \n                    \"startHour\": \"6:30 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": [ \n        { \n            \"id\": \"9912\", \n            \"href\": \"https://host:port/geographicAddressManagement/v4/geographicAddress/9912\", \n            \"@type\": \"PlaceRef\", \n            \"@referredType\": \"GeographicAddress\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"45\", \n            \"href\": \"https://host:port/partyManagement/v4/individual/45\", \n            \"name\": \"Jean Pontus\", \n            \"role\": \"Warehouse manager\", \n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"siteRelationship\": [ \n        { \n            \"id\": \"4589-jj65\", \n            \"href\": \"string\","}
{"tmforumApiId": "TMF674", "id": "TMF674-chunk-4", "chunkIndex": 4, "totalChunks": 7, "apiName": "Geographic Site Management API v4.0.0 specification", "title": "TMF674_Geographic_Site_Management_API_v4.0.0_specification (Part 4/7)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved\nPage 15 of 35\n            \"relationshipType\": \"support\", \n            \"role\": \"support site in case of stock shortage\", \n            \"validFor\": { \n                \"endDateTime\": \"2019-01-02T09:33:35.749Z\", \n                \"startDateTime\": \"2023-12-31T09:33:35.749Z\" \n            }, \n            \"@type\": \"SiteRelationship\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \nNotification Resource Models \n \n4 notifications are defined for this API \nNotifications related to GeographicSite: \n    - GeographicSiteCreateEvent \n    - GeographicSiteAttributeValueChangeEvent \n    - GeographicSiteStatusChangeEvent \n    - GeographicSiteDeleteEvent \nThe notification structure for all notifications in this API follow the pattern depicted by the figure below. \nA notification event resource (depicted by \"SpecificEvent\" placeholder) is a sub class of a generic Event structure \ncontaining at least an id of the event occurrence (eventId), an event timestamp (eventTime), and the name of the \nresource (eventType).  \nThis notification structure owns an event payload structure (\"SpecificEventPayload\" placeholder) linked to the \nresource concerned by the notification using the resource name as access field (\"resourceName\" placeholder). \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 16 of 35\n \nGeographic Site Create Event \nNotification GeographicSiteCreateEvent case for resource GeographicSite \nJson representation sample \nWe provide below the json representation of an example of a 'GeographicSiteCreateEvent' notification event object \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"GeographicSiteCreateEvent\", \n     \"event\": { \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 17 of 35\n        \"geographicSite\" :  \n            {-- SEE GeographicSite RESOURCE SAMPLE --} \n    } \n} \n \nGeographic Site Attribute Value Change Event \nNotification GeographicSiteAttributeValueChangeEvent case for resource GeographicSite \nJson representation sample \nWe provide below the json representation of an example of a 'GeographicSiteAttributeValueChangeEvent' \nnotification event object \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"GeographicSiteAttributeValueChangeEvent\", \n     \"event\": { \n        \"geographicSite\" :  \n            {-- SEE GeographicSite RESOURCE SAMPLE --} \n    } \n} \n \nGeographic Site Status Change Event \nNotification GeographicSiteStatusChangeEvent case for resource GeographicSite \nJson representation sample \nWe provide below the json representation of an example of a 'GeographicSiteStatusChangeEvent' notification \nevent object \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"GeographicSiteStatusChangeEvent\", \n     \"event\": { \n        \"geographicSite\" :  \n            {-- SEE GeographicSite RESOURCE SAMPLE --} \n    } \n} \n \nGeographic Site Delete Event \nNotification GeographicSiteDeleteEvent case for resource GeographicSite \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 18 of 35\nJson representation sample \nWe provide below the json representation of an example of a 'GeographicSiteDeleteEvent' notification event object \n{ \n    \"eventId\":\"00001\", \n    \"eventTime\":\"2015-11-16T16:42:25-04:00\", \n    \"eventType\":\"GeographicSiteDeleteEvent\", \n     \"event\": { \n        \"geographicSite\" :  \n            {-- SEE GeographicSite RESOURCE SAMPLE --} \n    } \n} \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 19 of 35\nAPI OPERATIONS \nOnly allowed operations are listed: \nOperation on Entities \nUniform API Operation \nDescription \nQuery Entities \nGET geographicSite \nGET must be used to retrieve a \nrepresentation of a resource. \n \nCreate Entity \nPOST geographicSite \n \nPOST must be used to create a \nnew geographicSite resource \nIf resource is created code 201 is \nsend back. \nPartial Update of an Entity \nPATCH geographicSite \nPATCH must be used to partially \nupdate a resource \nRemove an Entity \nDELETE geographicSite \nDELETE must be used to remove \na resource \n \nFiltering and attribute selection rules are described in the TMF REST Design Guidelines. \nNotifications are also described in a subsequent section. \n \nOperations on Geographic Site \nList geographic sites \n  GET /geographicSite?fields=...&{filtering} \nDescription \nThis operation list geographic site entities. \nAttribute selection is enabled for all first level attributes. \nFiltering may be available depending on the compliance level supported by an implementation. \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 20 of 35\nUsage Samples \nHere's an example of a request for retrieving a list of geographic sites. The given criteria is the code (Warehouse) \nand state (active). \n \nRequest \n \nGET /tmf-api/geographicSiteManagement/v4/geographicSite?fields=id,href,name&code=Warehouse&state=active \nAccept: application/json \n \n \n \nResponse \n \n200 \n \n[ \n    { \n        \"id\": \"6987\", \n        \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-8874\", \n        \"name\": \"Marseille Warehouse\" \n    }, \n    { \n        \"id\": \"7412\", \n        \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-885l\", \n        \"name\": \"Paris Nord Warehouse\" \n    }, \n    { \n        \"id\": \"3214\", \n        \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-8814\", \n        \"name\": \"Bordeaux Warehouse\" \n    }, \n    { \n        \"id\": \"6547\", \n        \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-547\", \n        \"name\": \"Lille Warehouse\" \n    } \n] \n \nRetrieve geographic site \n  GET /geographicSite/{id}?fields=...&{filtering} \nDescription \nThis operation retrieves a geographic site entity. \nAttribute selection is enabled for all first level attributes. \nFiltering on sub-resources may be available depending on the compliance level supported by an implementation."}
{"tmforumApiId": "TMF674", "id": "TMF674-chunk-5", "chunkIndex": 5, "totalChunks": 7, "apiName": "Geographic Site Management API v4.0.0 specification", "title": "TMF674_Geographic_Site_Management_API_v4.0.0_specification (Part 5/7)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved\nPage 21 of 35\nUsage Samples \nHere's an example of a request for retrieving a geographic site which has an address defined by reference (id). The \ngiven criteria is the geographic site id sd65-8874. \n \nRequest \n \nGET /tmf-api/geographicSiteManagement/v4/geographicSite/sd65-8874 \nAccept: application/json \n \n \n \nResponse \n \n200 \n \n{ \n    \"id\": \"sd65-8874\", \n    \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-8874\", \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Marseille\", \n    \"name\": \"Marseille Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:30 pm\", \n                    \"startHour\": \"6:30 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": [ \n        { \n            \"id\": \"9912\", \n            \"href\": \"https://host:port/geographicAddressManagement/v4/geographicAddress/9912\", \n            \"@type\": \"PlaceRef\", \n            \"@referredType\": \"GeographicAddress\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"45\", \n            \"href\": \"https://host:port/partyManagement/v4/individual/45\", \n            \"name\": \"Jean Pontus\", \n            \"role\": \"Warehouse manager\", \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 22 of 35\n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"siteRelationship\": [ \n        { \n            \"id\": \"4589-jj65\", \n            \"href\": \"string\", \n            \"relationshipType\": \"support\", \n            \"role\": \"support site in case of stock shortage\", \n            \"validFor\": { \n                \"endDateTime\": \"2019-01-02T09:33:35.749Z\", \n                \"startDateTime\": \"2023-12-31T09:33:35.749Z\" \n            }, \n            \"@type\": \"SiteRelationship\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \n \nHere's an example of a request for retrieving a geographic site which has an address valued. The given criteria is \nthe geographic site id sd65-4444. \n \nRequest \n \nGET /tmf-api/geographicSiteManagement/v4/geographicSite/sd65-4444 \nAccept: application/json \n \n \n \nResponse \n \n200 \n \n{ \n    \"id\": \"sd65-4444\", \n    \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-4444\", \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Bordeaux\", \n    \"name\": \"Bordeaux Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:45 pm\", \n                    \"startHour\": \"6:15 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 23 of 35\n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": [ \n        { \n            \"@type\": \"GeographicAddress\", \n            \"geographicAddress\": { \n                \"streetNr\": \"48\", \n                \"streetName\": \"Kieser\", \n                \"streetType\": \"rue\", \n                \"postcode\": \"33000\", \n                \"locality\": \"Bordeaux\", \n                \"city\": \"Bordeaux\", \n                \"stateOrProvince\": \"Gironde\", \n                \"country\": \"France\" \n            } \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"99\", \n            \"href\": \"https://host:port/partyManagement/v4/individual/99\", \n            \"name\": \"Louise Pontus\", \n            \"role\": \"Warehouse manager\", \n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \nCreate geographic site \n  POST /geographicSite \nDescription \nThis operation creates a geographic site entity. \nMandatory and Non Mandatory Attributes \nThe following tables provide the list of mandatory and non mandatory attributes when creating a GeographicSite, \nincluding any possible rule conditions and applicable default values. Notice that it is up to an implementer to add \nadditional mandatory attributes. \nMandatory Attributes \nRule \n \nNon Mandatory Attributes \nRule \nname \n \ncalendar \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 24 of 35\nNon Mandatory Attributes \nRule \ncode \n \ndescription \n \nplace \n \nrelatedParty \n \nsiteRelationship \n \nstatus \n \n \nAdditional Rules \nThe following table provides additional rules indicating mandatory fields in sub-resources or relationships when \ncreating a GeographicSite resource. \nContext \nMandatory Sub-Attributes \nsiteRelationship \nid, relationshipType \nrelatedParty \nid, @referredType \ncalendar \nstatus \nplace \nid and @referredType or @type and valued place \n \nUsage Samples \nHere's an example of a request for creating a geographic site - the resulting geographic site is sd65-8874. \n \nRequest \n \nPOST /tmf-api/geographicSiteManagement/v4/geographicSite \nContent-Type: application/json \n \n{ \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Bordeaux\", \n    \"name\": \"Bordeaux Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:45 pm\", \n                    \"startHour\": \"6:15 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": [ \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 25 of 35\n        { \n            \"@type\": \"GeographicAddress\", \n            \"geographicAddress\": { \n                \"streetNr\": \"48\", \n                \"streetName\": \"Kieser\", \n                \"streetType\": \"rue\", \n                \"postcode\": \"33000\", \n                \"locality\": \"Bordeaux\", \n                \"city\": \"Bordeaux\", \n                \"stateOrProvince\": \"Gironde\", \n                \"country\": \"France\" \n            } \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"99\", \n            \"name\": \"Louise Pontus\", \n            \"role\": \"Warehouse manager\", \n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \n \n \nResponse \n \n201 \n \n{ \n    \"id\": \"sd65-4444\", \n    \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-4444\", \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Bordeaux\", \n    \"name\": \"Bordeaux Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:45 pm\", \n                    \"startHour\": \"6:15 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": ["}
{"tmforumApiId": "TMF674", "id": "TMF674-chunk-6", "chunkIndex": 6, "totalChunks": 7, "apiName": "Geographic Site Management API v4.0.0 specification", "title": "TMF674_Geographic_Site_Management_API_v4.0.0_specification (Part 6/7)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved\nPage 26 of 35\n        { \n            \"@type\": \"GeographicAddress\", \n            \"geographicAddress\": { \n                \"streetNr\": \"48\", \n                \"streetName\": \"Kieser\", \n                \"streetType\": \"rue\", \n                \"postcode\": \"33000\", \n                \"locality\": \"Bordeaux\", \n                \"city\": \"Bordeaux\", \n                \"stateOrProvince\": \"Gironde\", \n                \"country\": \"France\" \n            } \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"99\", \n            \"href\": \"https://host:port/partyManagement/v4/individual/99\", \n            \"name\": \"Louise Pontus\", \n            \"role\": \"Warehouse manager\", \n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \nPatch geographic site \n  PATCH /geographicSite/{id} \nDescription \nThis operation allows partial updates of a geographic site entity. Support of json/merge \n(https://tools.ietf.org/html/rfc7386) is mandatory, support of json/patch (http://tools.ietf.org/html/rfc5789) is \noptional. \nNote: If the update operation yields to the creation of sub-resources or relationships, the same rules concerning \nmandatory sub-resource attributes and default value settings in the POST operation applies to the PATCH \noperation.  Hence these tables are not repeated here. \nPatchable and Non Patchable Attributes \nThe tables below provide the list of patchable and non patchable attributes, including constraint rules on their \nusage. \nPatchable Attributes \nRule \nname \n \ncalendar \n \ncode \n \ndescription \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 27 of 35\nPatchable Attributes \nRule \nplace \n \nrelatedParty \n \nsiteRelationship \n \nstatus \n \n \nNon Patchable Attributes \nRule \nid \n \nhref \n \n \nUsage Samples \nHere's an example of a request for updating geographic site sd65-8874 - Change start hour to 6:00 am - the full \nresource representation is sent in PATCH response \n \nRequest \n \nPATCH /tmf-api/geographicSiteManagement/v4/geographicSite/sd65-8874 \nContent-Type: application/json-patch+json \n \n[ \n    { \n        \"op\": \"replace\", \n        \"path\": \"/calendar/hourPeriod/startHour\", \n        \"value\": \"6:00 am\" \n    } \n] \n \n \n \nResponse \n \n200 \n \n{ \n    \"id\": \"sd65-8874\", \n    \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-8874\", \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Marseille\", \n    \"name\": \"Marseille Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:30 pm\", \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 28 of 35\n                    \"startHour\": \"6:00 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": [ \n        { \n            \"id\": \"9912\", \n            \"href\": \"https://host:port/geographicAddressManagement/v4/geographicAddress/9912\", \n            \"@type\": \"PlaceRef\", \n            \"@referredType\": \"GeographicAddress\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"45\", \n            \"href\": \"https://host:port/partyManagement/v4/individual/45\", \n            \"name\": \"Jean Pontus\", \n            \"role\": \"Warehouse manager\", \n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"siteRelationship\": [ \n        { \n            \"id\": \"4589-jj65\", \n            \"href\": \"string\", \n            \"relationshipType\": \"support\", \n            \"role\": \"support site in case of stock shortage\", \n            \"validFor\": { \n                \"endDateTime\": \"2019-01-02T09:33:35.749Z\", \n                \"startDateTime\": \"2023-12-31T09:33:35.749Z\" \n            }, \n            \"@type\": \"SiteRelationship\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \n \nHere's an example of a request for updating geographic site sd65-8874 - Change start hour to 6:00 am  - the full \nresource representation is sent in PATCH response \n \nRequest \n \nPATCH /tmf-api/geographicSiteManagement/v4/geographicSite/sd65-8874 \nContent-Type: application/merge-patch+json \n \n{ \n    \"id\": \"sd65-8874\", \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Marseille\", \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 29 of 35\n    \"name\": \"Marseille Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:30 pm\", \n                    \"startHour\": \"6:00 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": [ \n        { \n            \"id\": \"9912\", \n            \"@type\": \"PlaceRef\", \n            \"@referredType\": \"GeographicAddress\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"45\", \n            \"name\": \"Jean Pontus\", \n            \"role\": \"Warehouse manager\", \n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"siteRelationship\": [ \n        { \n            \"id\": \"4589-jj65\", \n            \"href\": \"string\", \n            \"relationshipType\": \"support\", \n            \"role\": \"support site in case of stock shortage\", \n            \"validFor\": { \n                \"endDateTime\": \"2019-01-02T09:33:35.749Z\", \n                \"startDateTime\": \"2023-12-31T09:33:35.749Z\" \n            }, \n            \"@type\": \"SiteRelationship\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \n \n \nResponse \n \n200"}
{"tmforumApiId": "TMF674", "id": "TMF674-chunk-7", "chunkIndex": 7, "totalChunks": 7, "apiName": "Geographic Site Management API v4.0.0 specification", "title": "TMF674_Geographic_Site_Management_API_v4.0.0_specification (Part 7/7)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2020. All Rights Reserved\nPage 30 of 35\n{ \n    \"id\": \"sd65-8874\", \n    \"href\": \"https://host:port/geographicSiteManagement/v4/geographicSite/sd65-8874\", \n    \"code\": \"Warehouse\", \n    \"description\": \"Warehouse in Marseille\", \n    \"name\": \"Marseille Warehouse\", \n    \"status\": \"active\", \n    \"calendar\": [ \n        { \n            \"day\": \"weeekdays\", \n            \"status\": \"open\", \n            \"timeZone\": \"GMT+1\", \n            \"hourPeriod\": [ \n                { \n                    \"endHour\": \"16:30 pm\", \n                    \"startHour\": \"6:00 am\", \n                    \"@type\": \"HourPeriod\" \n                } \n            ], \n            \"@type\": \"Calendar\" \n        } \n    ], \n    \"place\": [ \n        { \n            \"id\": \"9912\", \n            \"href\": \"https://host:port/geographicAddressManagement/v4/geographicAddress/9912\", \n            \"@type\": \"PlaceRef\", \n            \"@referredType\": \"GeographicAddress\" \n        } \n    ], \n    \"relatedParty\": [ \n        { \n            \"id\": \"45\", \n            \"href\": \"https://host:port/partyManagement/v4/individual/45\", \n            \"name\": \"Jean Pontus\", \n            \"role\": \"Warehouse manager\", \n            \"@referredType\": \"Individual\" \n        } \n    ], \n    \"siteRelationship\": [ \n        { \n            \"id\": \"4589-jj65\", \n            \"href\": \"string\", \n            \"relationshipType\": \"support\", \n            \"role\": \"support site in case of stock shortage\", \n            \"validFor\": { \n                \"endDateTime\": \"2019-01-02T09:33:35.749Z\", \n                \"startDateTime\": \"2023-12-31T09:33:35.749Z\" \n            }, \n            \"@type\": \"SiteRelationship\" \n        } \n    ], \n    \"@type\": \"GeographicSite\" \n} \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 31 of 35\nDelete geographic site \n  DELETE /geographicSite/{id} \nDescription \nThis operation deletes a geographic site entity. \nUsage Samples \nHere's an example of a request for deleting a geographic site. \n \nRequest \n \nDELETE /tmf-api/geographicSiteManagement/v4/geographicSite/sd65-8874 \n \n \n \nResponse \n \n204 \n \n \n \nAPI Notifications \nFor every single of operation on the entities use the following templates and provide sample REST notification POST \ncalls. \nIt is assumed that the Pub/Sub uses the Register and UnRegister mechanisms described in the REST Guidelines \nreproduced below. \nRegister listener \n  POST /hub \nDescription \nSets the communication endpoint address the service instance must use to deliver information about its health \nstate, execution state, failures and metrics. Subsequent POST calls will be rejected by the service if it does not \nsupport multiple listeners. In this case DELETE /api/hub/{id} must be called before an endpoint can be created \nagain. \nBehavior \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 409 if request is not successful. \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 32 of 35\nUsage Samples \nHere's an example of a request for registering a listener. \n \nRequest \n \nPOST /api/hub \nAccept: application/json \n \n{\"callback\": \"http://in.listener.com\"} \n \n \nResponse \n \n201 \nContent-Type: application/json \nLocation: /api/hub/42 \n \n{\"id\":\"42\",\"callback\":\"http://in.listener.com\",\"query\":null} \n \n \n \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 33 of 35\nUnregister listener \n  DELETE /hub/{id} \nDescription \nClears the communication endpoint address that was set by creating the Hub. \nBehavior \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 404 if the resource is not found. \nUsage Samples \nHere's an example of a request for un-registering a listener. \n \nRequest \n \nDELETE /api/hub/42 \nAccept: application/json \n \n \nResponse \n \n204 \n \nPublish Event to listener \n  POST /client/listener \nDescription \nClears the communication endpoint address that was set by creating the Hub. \nProvides to a registered listener the description of the event that was raised. The /client/listener url is the callback \nurl passed when registering the listener. \nBehavior \nReturns HTTP/1.1 status code 201 if the service is able to set the configuration.  \nUsage Samples \nHere's an example of a notification received by the listener. In this example \u201cEVENT TYPE\u201d should be replaced by \none of the notification types supported by this API (see Notification resources Models section) and EVENT BODY \nrefers to the data structure of the given notification type. \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 34 of 35\n \nRequest \n \nPOST /client/listener \nAccept: application/json \n \n{ \n    \"event\": {  \n                EVENT BODY  \n            }, \n    \"eventType\": \"EVENT_TYPE\" \n} \n \n \nResponse \n \n201 \n \nFor detailed examples on the general TM Forum notification mechanism, see the TMF REST Design Guidelines. \n \n\n\n\u00a9 TM Forum 2020. All Rights Reserved\nPage 35 of 35\nAcknowledgements \nVersion History \nRelease \nNumber \nDate  \nRelease led by: \nDescription  \nRelease 1.0.0 \n22/05/2017 \nPierre Gauthier \nTM Forum \npgauthier@tmforum.org \nMariano Belaunde \nOrange \nmariano.belaunde@orange.com \n \nLudovic Robert \nOrange \nLudovic.robert@orange.com \nFirst Release of the Document. \nVersion 4.0.0 \n05-Apr-2020 \nP. Gauthier / L.Robert \nSchema-driven API with polymorphism pattern \nFollowing Jira have been integrated: \n\u2022 \nAP-1074 (partial) \nNote: the version 4.0 is assigned to all the APIs \ndelivered in the release 19.5 \n4.0.1 \n25-May-2020 \nAdrienne Walcott \nUpdated to reflect TM Forum Approved Status \n \nRelease History \nRelease \nNumber \nDate  \nRelease led by: \nDescription  \nRelease 17.5 \n \n22/05/2017 \nP. Gauthier /  M.Belaunde/ \nL.Robert  \n \nPre-\nproduction \n05-Apr-2020 \nP. Gauthier / L.Robert  \nVersion 4.0 of the API REST \nNote: the version 4.0 is assigned to all the APIs \ndelivered in the release 19.0 \nProduction \n25-May-2020 \nAdrienne Walcott \nUpdated to reflect TM Forum Approved \nStatus"}
