{"tmforumApiId": "TMF677", "id": "TMF677-chunk-1", "chunkIndex": 1, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 1/11)", "documentType": "Tmforum api user guide", "text": "\uf8e9TM Forum 2021. All Rights Reserved.\n \n \nTM Forum Specification \n \n \nUsage Consumption Management \nAPI User Guide \n \n \n \n \n \n \n \nTMF677 \nTeam Approved Date: 11-Aug-2021 \n \nRelease Status: Production \nApproval Status: TM Forum Approved \nVersion 4.0.0 \nIPR Mode: RAND \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 2 of 34 \nNotice \nCopyright \u00a9 TM Forum 2021. All Rights Reserved. \n \nThis document and translations of it may be copied and furnished to others, and derivative works that \ncomment on or otherwise explain it or assist in its implementation may be prepared, copied, published, \nand distributed, in whole or in part, without restriction of any kind, provided that the above copyright \nnotice and this section are included on all such copies and derivative works. However, this document \nitself may not be modified in any way, including by removing the copyright notice or references to TM \nFORUM, except as needed for the purpose of developing any document or deliverable produced by a \nTM FORUM Collaboration Project Team (in which case the rules applicable to copyrights, as set forth \nin the TM FORUM IPR Policy, must be followed) or as required to translate it into languages other than \nEnglish. \n \nThe limited permissions granted above are perpetual and will not be revoked by TM FORUM or its \nsuccessors or assigns. \n \nThis document and the information contained herein is provided on an \"AS IS\" basis and TM FORUM \nDISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY \nTHAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY \nIMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. \n \nTM FORUM invites any TM FORUM Member or any other party that believes it has patent claims that \nwould necessarily be infringed by implementations of this TM Forum Standards Final Deliverable, to \nnotify the TM FORUM Team Administrator and provide an indication of its willingness to grant patent \nlicenses to such patent claims in a manner consistent with the IPR Mode of the TM FORUM \nCollaboration Project Team that produced this deliverable. \n \nThe TM FORUM invites any party to contact the TM FORUM Team Administrator if it is aware of a \nclaim of ownership of any patent claims that would necessarily be infringed by implementations of \nthis TM FORUM Standards Final Deliverable by a patent holder that is not willing to provide a license \nto such patent claims in a manner consistent with the IPR Mode of the TM FORUM Collaboration \nProject Team that produced this TM FORUM Standards Final Deliverable. TM FORUM may include \nsuch claims on its website but disclaims any obligation to do so. \n \nTM FORUM takes no position regarding the validity or scope of any intellectual property or other \nrights that might be claimed to pertain to the implementation or use of the technology described in \nthis TM FORUM Standards Final Deliverable or the extent to which any license under such rights \nmight or might not be available; neither does it represent that it has made any effort to identify any \nsuch rights. Information on TM FORUM's procedures with respect to rights in any document or \ndeliverable produced by a TM FORUM Collaboration Project Team can be found on the TM FORUM \nwebsite. Copies of claims of rights made available for publication and any assurances of licenses to be \nmade available, or the result of an attempt made to obtain a general license or permission for the \nuse of such proprietary rights by implementers or users of this TM FORUM Standards Final \nDeliverable, can be obtained from the TM FORUM Team Administrator. TM FORUM makes no \nrepresentation that any information or list of intellectual property rights will at any time be \ncomplete, or that any claims in such list are, in fact, Essential Claims. \n \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 3 of 34 \nDirect inquiries to the TM Forum office: \n \n181 New Road, Suite 304 \nParsippany, NJ 07054 USA \nTel No. +1 862 227 1648 \nTM Forum Web Page: www.tmforum.org"}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-2", "chunkIndex": 2, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 2/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 4 of 34 \nTable of Contents \nNotice ....................................................................................................................................................... 2 \nTable of Contents ..................................................................................................................................... 4 \nList of Tables ....................................................................................................................................... 5 \nIntroduction .............................................................................................................................................. 6 \nSample Use Cases ..................................................................................................................................... 7 \nSupport of polymorphism and extension patterns .................................................................................. 9 \nResource Model ...................................................................................................................................... 10 \nTask Resource Model ......................................................................................................................... 10 \nQuery Usage Consumption resource ............................................................................................. 10 \nNotification Resource Models ........................................................................................................... 18 \nQuery Usage Consumption Create Event ....................................................................................... 19 \nQuery Usage Consumption Delete Event ....................................................................................... 21 \nAPI Operations ........................................................................................................................................ 24 \nOperations on Query Usage Consumption ........................................................................................ 24 \nList query usage consumptions ...................................................................................................... 24 \nRetrieve query usage consumption ............................................................................................... 26 \nCreate query usage consumption .................................................................................................. 28 \nDelete query usage consumption .................................................................................................. 30 \nAPI Notifications ..................................................................................................................................... 31 \nRegister listener ................................................................................................................................. 31 \nUnregister listener ............................................................................................................................. 32 \nPublish Event to listener .................................................................................................................... 32 \nAcknowledgements ................................................................................................................................ 34 \nVersion History .................................................................................................................................. 34 \nRelease History .................................................................................................................................. 34 \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 5 of 34 \nList of Tables \nN/A \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 6 of 34 \nIntroduction \nThe following document is the user guide of the REST API for Usage Consumption. It includes the model \ndefinition as well as all available operations. \n \nIt describes a single managed resource called QueryUsageConsumption.  \nQueryUsageConsumption is a Task Resource. \nQueryUsageConsumption covers the consumption levels of products, services or resources related to \n0 or more parties. And so, we can search for remaining, global or used bucket values, or for exceptional \nconsumption normally mentioned as out of bucket consumption. \nThere are 3 main changes in this API version: \n\u2022 \nUsage Consumption is now described as a TASK resource, \n\u2022 \nUsage Consumption Buckets may be linked between each other (aggregated buckets, bundled \nbuckets, etc), \n\u2022 \nUsage Consumption can be search having in mind services or resources. \nUsage Consumption API provides the following operations: \n\u2022 \nList of existing usage consumption queries depending on filter criteria, \n\u2022 \nRetrieval of an existing usage consumption query by identifier, \n\u2022 \nCreation of a new query of usage consumption, \n\u2022 \nDeletion of an existing query of usage consumption, \n\u2022 \nNotification of events:  \no QueryUsageConsumption creation, \no QueryUsageConsumption removal."}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-3", "chunkIndex": 3, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 3/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 7 of 34 \nSample Use Cases \nThis section includes a set of main use cases that can be performed with this API. Additional use cases \ncan be generated using the operations and resources defined in this specification. \nUser case \nConsumer customer opens his/her mobile app to check the remaining data\u2019s \namount. \n \nActors \nCustomer. \n \nPre-conditions \nNone. \n \nExpected \noutcome \nRemaining amount of data displayed to the customer. \n \nOperation \nPOST /queryUsageConsumption \n \nDescription \n1. Customer opens mobile app, \n2. Mobile app gets current usage snapshot for customer\u2019 products, \n3. Mobile app displays remaining data value, e.g., 5.3 GB. \n \nUse Case 1 Current data usage for products \n  \nUser case \nConsumer customer opens web portal to check the number of minutes spent \nin international calls. \n \nActors \nCustomer. \n \nPre-conditions \nNone. \n \nExpected \noutcome \nUsed number of international minutes displayed to the customer. \n \nOperation \nPOST /queryUsageConsumption \n \nDescription \n1. Customer opens web portal, \n2. Web portal gets current usage snapshot for customer\u2019s products, \n3. Web portal presents main tile associated to usage types, \n4. Customer clicks on voice tile, \n5. Web portal displays remaining and used usage for international and \nnational voice, e.g., 1000 minutes and 5000 minutes. \n \nNote \nInternational and national voice are shown as one since they belong to \nthe same customer product. \n \nUse Case 2 Current voice usage for products \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 8 of 34 \n \nUser case \nAgent validates unlimited counters associated to a service. \n \nActors \nAgent. \n \nPre-conditions \nNone. \n \nExpected \noutcome \nUsed number of international minutes displayed to the customer. \n \nOperation \nPOST /queryUsageConsumption \n \nDescription \n1. Agent opens back-office web portal, \n2. Agent digits service number, \n3. Web portal gets current usage snapshot for this service, \n4. Web portal displays current counts and balances and there are 2 \nunlimited counts associated to national calls and messages. \n \nUse Case 3 Current usage for service \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 9 of 34 \nSupport of polymorphism and extension \npatterns \nSupport of polymorphic collections and types and schema based extension is provided by means of a \nlist of generic meta-attributes that we describe below. Polymorphism in collections occurs when \nentities inherit from base entities, for instance a BillingAccount and SettlementAccount inheriting \nproperties from the abstract Account entity. \nGeneric support of polymorphism and pattern extensions is described in the TMF API Guidelines v3.0 \nPart 2 document. \nThe @type attribute provides a way to represent the actual class type of an entity. For example, within \na list of Account instances some may be instances of BillingAccount where other could be instances of \nSettlementAccount. The @type gives this information. All resources and sub-resources of this API have \na @type attributes that can be provided when this is useful. \nThe @referredType can be used within reference entities (like for instance an AccountRef object) to \nexplicitly denote the actual entity type of the referred class. Notice that in reference entities the \n@type, when used, denotes the class type of the reference itself, such as BillingAccountRef or \nSettlementAccountRef, and not the class type of the referred object. However, since reference classes \nare rarely sub-classed, @type is generally not useful in reference objects. \nThe @schemaLocation property can be used in resources to allow specifying user-defined properties \nof an Entity or to specify the expected characteristics of an entity. \nThe @baseType attribute gives a way to provide explicitly the base of class of a given resource that has \nbeen extended. \n \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 10 of 34 \nResource Model \nTask Resource Model \nQuery Usage Consumption resource \nAn QueryUsageConsumption allows to manage the calculation request of a usage consumption. \nQuery Usage Consumption resource model"}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-4", "chunkIndex": 4, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 4/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 11 of 34 \nField descriptions \nQueryUsageConsumption fields \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional \nattributes and relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible \nname. \npartyAccount \nA list of party account references (PartyAccountRef [*]). A \nreference to the account that owns the bucket. \nqueryUsageConsumptionDate A date time (DateTime). Date when the query was submitted. \nrelatedParty \nA list of related parties (RelatedParty [*]). Reference and role of \nthe related parties for which the usage consumption is requested. \nsearchCriteria \nA usage consumption (UsageConsumption). Search structure to \nretrieve current value of usage. \nusageConsumption \nA list of usage consumptions (UsageConsumption [*]). Report with \ncurrent counters and balances. \n \nBucketRefOrValue sub-resource \nA bucket represents and tracks a quantity of usage. It could be either a quantity or an amount in a \ncurrency.  \nIt can represent a fixed number of SMS, MMS, call minutes, quantity of data and so on. \nhref \nA string. A resource URI pointing to the resource in the OB that stores the \ndetailed information for the bucket. \nid \nA string. Unique Identifier within the server for the bucket. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nbucketCounter \nA list of consumption summaries (ConsumptionSummary [*]). The \nconsumption counters (called ConsumptionSummary in the SID model) \ndetail for example the different kind of consumption done on the bucket. \nbucketRelationship \nA list of bucket relationships (BucketRelationship [*]). Linked bucket to \nthe one instantiate, such as [isAggregated] if the bucket is a part of other \nor [aggregator] is the bucket holds others. \ndescription \nA string. Text describing the contents of the balance managed by the \nbucket. \nisShared \nA boolean. True if the bucket is shared between several devices or users. \nlogicalResource \nA list of usage consumption logical resource references \n(UsageConsumptionLogicalResourceRef [*]). reference to the \nLogicalResource e.g., MSISDN. \nname \nA string. Friendly name to identify the bucket. \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 12 of 34 \npartyAccount \nA party account reference (PartyAccountRef). A reference to the account \nthat owns the bucket. \nproduct \nA list of usage consumption product references \n(UsageConsumptionProductRef [*]). \nrelatedParty \nA list of related parties (RelatedParty [*]). Used to provide information \nabout any other entity with relation to the balance, for instance to define \ncustomer hierarchy for the balance (e.g.: customerId, userId, ). \nremainingValue \nA quantity (Quantity). Indicate the amount on the bucket. \nremainingValueName \nA string. Remaining amount in a formatted string for the bucket given in \nthe balance unit (for example 1.9 Gb). This formatted string could be used \nfor display needs for example. \nreserveBalance \nA list of reserve balance references (ReserveBalanceRef [*]). The \nReserveBalance resource allows adjustments to be made to the original \nBalanceTopup e.g., increment the amount, alter the recharge periodicity. \nreservedValue \nA quantity (Quantity). Indicate the amount reserved on the bucket; \nshould be the sum of all the valid (i.e., confirmed and not consumed or \nexpired) amounts in the reserveBalance request array. \nservice \nA list of usage consumption service references \n(UsageConsumptionServiceRef [*]). Service reference, for when Service is \nused by other entities. \nstatus \nA string. status for the bucket. active, expired, suspended. \nusageType \nA string. defines the type of the underlying Balance e.g., data, voice, any \ncurrency e.g., EUR, USD etc. \nvalidFor \nA time period. The period for which the balance in the bucket is valid. \n \nBucketRelationship sub-resource \nLinked bucket to the one instantiate, such as [isAggregated] if the bucket is a part of other or \n[aggregator] is the bucket holds others . \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nbucketRefOrValue \nA bucket ref or value (BucketRefOrValue). A bucket (called \nUsageVolumProduct in the SID Model) represents and tracks a quantity of \nusage (remaining or consumed). It could be either a quantity or an \namount in a currency. It can represent a fixed number of SMS,MMS, call \nminutes, quantity of data and so on. \nrelationshipType \nA string. Type of the bucket relationship, such as [isAggregated] if the \nbucket is a part of other or [aggregator] is the bucket holds others."}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-5", "chunkIndex": 5, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 5/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 13 of 34 \nConsumptionSummary sub-resource \nThe consumption counters detail for example the different kind of consumption done on the bucket. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nconsumptionPeriod \nA time period. Consumption counter period between a start date time \nand an end date time. For prepaid bucket, the period of counters is \nbetween the start date of the bucket and the effective date of the usage \nconsumption report generation. For postpaid bucket, the period of \ncounters is between the last bill date and the effective date of the usage \nconsumption report generation. \ncounterType \nA string. Type of the consumption counter. We can give for example a \ncounter of the used value for a bucket (counterType=used for example), \nor the value of the consumption done out of the bucket(s) \n(counterType=outOfBucket for example). \nlevel \nA string. Counter level. The counter can be given globally for the bucket or \ndetailed by user or by network product for example in case of shared \nbucket. \nuser \nA related party (RelatedParty). Reference of the user for which the \nconsumption counter is detailed. If the level of the counter is global (i.e., \nconcerning all the users), the list of them is not specified. It can be found \nthrough the users listed in the network products of the bucket sub-\nresource. \nvalue \nA quantity (Quantity). Numeric value of the bucket counter in a given unit. \nvalueName \nA string. Value of the counter in a formatted string used for display needs \nfor example. \n \nQuantity sub-resource \nAn amount in a given unit. \namount \nA float. Numeric value in a given unit. \nunits \nA string. Unit. \n \nRelatedParty sub-resource \nRelated Entity reference. A related party defines party or party role linked to a specific entity. \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 14 of 34 \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nrole \nA string. Role played by the related party. \n \nUsageConsumption sub-resource \nA usage consumption enables to know at a given point the balances and the consumption counters \nrelated to various buckets (SMS, Voice, Data for example). It could be calculated for a device \nidentified by a public key (MSISDN number for a mobile device for example or PSTN or VOIP number \nfor a fix device), for a subscribed offer or option or for a user. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nbucketRefOrValue \nA list of bucket ref or values (BucketRefOrValue [*]). Bucket(s) included in \nthe offer or option subscribed. \ncreationDate \nA date time (DateTime). Date and time of the request creation. \ndescription \nA string. Free short text describing the usage consumption content. \nlastUpdate \nA date time (DateTime). Date when the status was last changed. \nlogicalResource \nA list of usage consumption logical resource references \n(UsageConsumptionLogicalResourceRef [*]). reference to the \nLogicalResource e.g., MSISDN. \nname \nA string. Usage consumption name. \npartyAccount \nA list of party account references (PartyAccountRef [*]). A reference to the \naccount that owns the bucket. \nproduct \nA list of usage consumption product references \n(UsageConsumptionProductRef [*]). \nrelatedParty \nA list of related parties (RelatedParty [*]). Reference and role of the \nrelated parties for which the usage consumption is requested. \nservice \nA list of usage consumption service references \n(UsageConsumptionServiceRef [*]). Service reference, for when Service is \nused by other entities. \nstate \nA task state type (TaskStateType). State of the report defined in the state \nengine. \nvalidPeriod \nA time period. Validity period. \n \nPartyAccountRef relationship \nPartyAccount reference. A party account is an arrangement that a party has with an enterprise that \nprovides products to the party. \nhref \nA string. Reference of the party account."}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-6", "chunkIndex": 6, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 6/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 15 of 34 \nid \nA string. Unique identifier of the party account. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \ndescription \nA string. Detailed description of the party account. \nname \nA string. Name of the party account. \nstatus \nA string. The condition of the account, such as due, paid, in arrears. \n \nReserveBalanceRef relationship \nThe ReserveBalance resource allows adjustments to be made to the original BalanceTopup e.g., \nincrement the amount, alter the recharge periodicity. \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \n \nUsageConsumptionLogicalResourceRef relationship \nReference to the LogicalResource e.g., MSISDN. \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nconsumptionSummary \nA list of consumption summaries (ConsumptionSummary [*]). The \nconsumption counters (called ConsumptionSummary in the SID model) \ndetail for example the different kind of consumption done on the bucket. \n \nUsageConsumptionProductRef relationship \nReference to the product, e.g., 5GB Shared Data Package. \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 16 of 34 \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nconsumptionSummary \nA list of consumption summaries (ConsumptionSummary [*]). The \nconsumption counters (called ConsumptionSummary in the SID model) \ndetail for example the different kind of consumption done on the bucket. \n \nUsageConsumptionServiceRef relationship \nService reference, for when Service is used by other entities. \n@referredType \nA string. The actual type of the target instance when needed for \ndisambiguation. \nname \nA string. Name of the related entity. \nhref \nAn uri (Uri). Hyperlink reference. \nid \nA string. unique identifier. \n@baseType \nA string. When sub-classing, this defines the super-class. \n@schemaLocation \nAn uri (Uri). A URI to a JSON-Schema file that defines additional attributes \nand relationships. \n@type \nA string. When sub-classing, this defines the sub-class Extensible name. \nconsumptionSummary \nA list of consumption summaries (ConsumptionSummary [*]). The \nconsumption counters (called ConsumptionSummary in the SID model) \ndetail for example the different kind of consumption done on the bucket. \n \nJson representation sample \nProvide below is the json representation of an example of a 'QueryUsageConsumption' resource \nobject \n{ \n    \"id\": \"Q1USER11333\", \n    \"searchCriteria\": { \n        \"logicalResource\": [{ \n                \"id\": \"963161043\", \n                \"name\": \"Lara's phone number\" \n            }] \n    }, \n    \"relatedParty\": [{ \n            \"id\": \"USER11333\", \n            \"role\": \"agent\", \n            \"@referredType\": \"Individual\" \n        }], \n    \"usageConsumption\": [{ \n            \"id\": \"UC1\", \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 17 of 34 \n            \"creationDate\": \"2021-06-18T16:04:09.084Z\", \n            \"lastUpdate\": \"2021-06-18T16:04:09.084Z\", \n            \"logicalResource\": [{ \n                    \"id\": \"963161043\", \n                    \"name\": \"Lara's phone number\", \n                    \"consumptionSummary\": [{ \n                            \"id\": \"CT1\", \n                            \"counterType\": \"voice\", \n                            \"level\": \"global\", \n                            \"valueName\": \"Unlimited\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n                            } \n                        },{ \n                            \"id\": \"CT2\", \n                            \"counterType\": \"sms\", \n                            \"level\": \"global\", \n                            \"valueName\": \"Unlimited\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n                            } \n                        }] \n                }], \n            \"bucketRefOrValue\": [{ \n                    \"id\": \"BK1\", \n                    \"description\": \"Bucket related to MMS\", \n                    \"isShared\": false, \n                    \"name\": \"RED MMS Plus Bucket - MMS\", \n                    \"usageType\": \"mms\", \n                    \"bucketCounter\": [{ \n                            \"id\": \"CT3\", \n                            \"counterType\": \"used\", \n                            \"level\": \"global\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n                            }, \n                            \"value\": { \n                                \"amount\": 0, \n                                \"units\": \"mms\" \n                            } \n                        }], \n                    \"product\": [{ \n                            \"id\": \"PR1\", \n                            \"name\": \"RED MMS Plus\" \n                        }], \n                    \"relatedParty\": [{ \n                            \"id\": \"CUST34\", \n                            \"role\": \"Customer\", \n                            \"@referredType\": \"Individual\" \n                        }] \n                },{ \n                    \"id\": \"BK2\", \n                    \"description\": \"Bucket related to data\", \n                    \"isShared\": false, \n                    \"name\": \"RED Data Plus Bucket - Data\", \n                    \"remainingValue\": { \n                        \"amount\": 3, \n                        \"units\": \"GB\""}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-7", "chunkIndex": 7, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 7/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 18 of 34 \n                    }, \n                    \"remainingValueName\": \"3 GB\", \n                    \"usageType\": \"data\", \n                    \"bucketCounter\": [{ \n                            \"id\": \"CT4\", \n                            \"counterType\": \"used\", \n                            \"level\": \"global\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n                            }, \n                            \"value\": { \n                                \"amount\": 2, \n                                \"units\": \"GB\" \n                            } \n                        }], \n                    \"product\": [{ \n                            \"id\": \"PR2\", \n                            \"name\": \"RED Data Plus\" \n                        }], \n                    \"relatedParty\": [{ \n                            \"id\": \"CUST34\", \n                            \"role\": \"Customer\", \n                            \"@referredType\": \"Individual\" \n                        } \n                    ] \n                }] \n        }] \n} \nNotification Resource Models \n2 notifications are defined for this API \nNotifications related to QueryUsageConsumption: \n    - QueryUsageConsumptionCreateEvent \n    - QueryUsageConsumptionDeleteEvent \nThe notification structure for all notifications in this API follow the pattern depicted by the figure \nbelow. \nA notification event resource (depicted by \"SpecificEvent\" placeholder) is a sub class of a generic \nEvent structure containing at least an id of the event occurrence (eventId), an event timestamp \n(eventTime), and the name of the resource (eventType).  \nThis notification structure owns an event payload structure (\"SpecificEventPayload\" placeholder) \nlinked to the resource concerned by the notification using the resource name as access field \n(\"resourceName\" placeholder). \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 19 of 34 \n \n \nQuery Usage Consumption Create Event \nNotification QueryUsageConsumptionCreateEvent case for resource QueryUsageConsumption \nJson representation sample \nProvide below is the json representation of an example of a 'QueryUsageConsumptionCreateEvent' \nnotification event object \n{ \n \n\"eventId\": \"00001\", \n \n\"eventTime\": \"2021-11-16T16:42:25-04:00\", \n \n\"eventType\": \"QueryUsageConsumptionCreateEvent\", \n \n\"event\": { \n \n \n\"queryUsageConsumption\": { \n \n \n \n\"id\": \"Q1USER11333\", \n \n \n \n\"searchCriteria\": { \n \n \n \n \n\"logicalResource\": [{ \n \n \n \n \n \n\"id\": \"963161043\", \n \n \n \n \n \n\"name\": \"Lara's phone number\" \n \n \n \n \n}] \n \n \n \n}, \n \n \n \n\"relatedParty\": [{ \n \n \n \n \n\"id\": \"USER11333\", \n \n \n \n \n\"role\": \"agent\", \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n}], \n \n \n \n\"usageConsumption\": [{ \n \n \n \n \n\"id\": \"UC1\", \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 20 of 34 \n \n \n \n \n\"creationDate\": \"2021-06-18T16:04:09.084Z\", \n \n \n \n \n\"lastUpdate\": \"2021-06-18T16:04:09.084Z\", \n \n \n \n \n\"logicalResource\": [{ \n \n \n \n \n \n\"id\": \"963161043\", \n \n \n \n \n \n\"name\": \"Lara's phone number\", \n \n \n \n \n \n\"consumptionSummary\": [{ \n \n \n \n \n \n \n\"id\": \"CT1\", \n \n \n \n \n \n \n\"counterType\": \"voice\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"valueName\": \"Unlimited\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n \n \n \n \n \n \n}}, { \n \n \n \n \n \n \n\"id\": \"CT2\", \n \n \n \n \n \n \n\"counterType\": \"sms\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"valueName\": \"Unlimited\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n \n \n \n \n \n \n}}] \n \n \n \n \n}], \n \n \n \n \n\"bucketRefOrValue\": [{ \n \n \n \n \n \n\"id\": \"BK1\", \n \n \n \n \n \n\"description\": \"Bucket related to MMS\", \n \n \n \n \n \n\"isShared\": false, \n \n \n \n \n \n\"name\": \"RED MMS Plus Bucket - MMS\", \n \n \n \n \n \n\"usageType\": \"mms\", \n \n \n \n \n \n\"bucketCounter\": [{ \n \n \n \n \n \n \n\"id\": \"CT3\", \n \n \n \n \n \n \n\"counterType\": \"used\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n \n \n \n \n \n \n},\"value\": { \n \n \n \n \n \n \n \n\"amount\": 0, \n \n \n \n \n \n \n \n\"units\": \"mms\" \n \n \n \n \n \n \n} \n \n \n \n \n \n}], \n \n \n \n \n \n\"product\": [{ \n \n \n \n \n \n \n\"id\": \"PR1\", \n \n \n \n \n \n \n\"name\": \"RED MMS Plus\" \n \n \n \n \n \n}], \n \n \n \n \n \n\"relatedParty\": [{ \n \n \n \n \n \n \n\"id\": \"CUST34\", \n \n \n \n \n \n \n\"role\": \"Customer\", \n \n \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n \n \n}] \n \n \n \n \n}, { \n \n \n \n \n \n\"id\": \"BK2\", \n \n \n \n \n \n\"description\": \"Bucket related to data\", \n \n \n \n \n \n\"isShared\": false, \n \n \n \n \n \n\"name\": \"RED Data Plus Bucket - Data\", \n \n \n \n \n \n\"remainingValue\": { \n \n \n \n \n \n \n\"amount\": 3, \n \n \n \n \n \n \n\"units\": \"GB\" \n \n \n \n \n \n}, \n \n \n \n \n \n\"remainingValueName\": \"3 GB\", \n \n \n \n \n \n\"usageType\": \"data\", \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 21 of 34 \n \n \n \n \n \n\"bucketCounter\": [{ \n \n \n \n \n \n \n\"id\": \"CT4\", \n \n \n \n \n \n \n\"counterType\": \"used\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n \n \n \n \n \n \n},\"value\": { \n \n \n \n \n \n \n \n\"amount\": 2, \n \n \n \n \n \n \n \n\"units\": \"GB\" \n \n \n \n \n \n \n} \n \n \n \n \n \n}], \n \n \n \n \n \n\"product\": [{ \n \n \n \n \n \n \n\"id\": \"PR2\", \n \n \n \n \n \n \n\"name\": \"RED Data Plus\" \n \n \n \n \n \n}], \n \n \n \n \n \n\"relatedParty\": [{ \n \n \n \n \n \n \n\"id\": \"CUST34\", \n \n \n \n \n \n \n\"role\": \"Customer\", \n \n \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n \n \n}] \n \n \n \n \n}] \n \n \n \n} \n] \n} \n} \n} \n \nQuery Usage Consumption Delete Event \nNotification QueryUsageConsumptionDeleteEvent case for resource QueryUsageConsumption \nJson representation sample \nProvided below is the json representation of an example of a 'QueryUsageConsumptionDeleteEvent' \nnotification event object \n{ \n \n\"eventId\": \"00001\", \n \n\"eventTime\": \"2021-11-16T16:42:25-04:00\", \n \n\"eventType\": \"QueryUsageConsumptionDeleteEvent\", \n \n\"event\": { \n \n \n\"queryUsageConsumption\": { \n \n \n \n\"id\": \"Q1USER11333\", \n \n \n \n\"searchCriteria\": { \n \n \n \n \n\"logicalResource\": [{ \n \n \n \n \n \n\"id\": \"963161043\", \n \n \n \n \n \n\"name\": \"Lara's phone number\" \n \n \n \n \n}] \n \n \n \n},\"relatedParty\": [{ \n \n \n \n \n\"id\": \"USER11333\", \n \n \n \n \n\"role\": \"agent\", \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n}],\"usageConsumption\": [{ \n \n \n \n \n\"id\": \"UC1\", \n \n \n \n \n\"creationDate\": \"2021-06-18T16:04:09.084Z\", \n \n \n \n \n\"lastUpdate\": \"2021-06-18T16:04:09.084Z\", \n \n \n \n \n\"logicalResource\": [{"}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-8", "chunkIndex": 8, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 8/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 22 of 34 \n \n \n \n \n \n\"id\": \"963161043\", \n \n \n \n \n \n\"name\": \"Lara's phone number\", \n \n \n \n \n \n\"consumptionSummary\": [{ \n \n \n \n \n \n \n\"id\": \"CT1\", \n \n \n \n \n \n \n\"counterType\": \"voice\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"valueName\": \"Unlimited\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n \n \n \n \n \n \n}}, { \n \n \n \n \n \n \n\"id\": \"CT2\", \n \n \n \n \n \n \n\"counterType\": \"sms\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"valueName\": \"Unlimited\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n \n \n \n \n \n \n}}] \n \n \n \n \n}], \n \n \n \n \n\"bucketRefOrValue\": [{ \n \n \n \n \n \n\"id\": \"BK1\", \n \n \n \n \n \n\"description\": \"Bucket related to MMS\", \n \n \n \n \n \n\"isShared\": false, \n \n \n \n \n \n\"name\": \"RED MMS Plus Bucket - MMS\", \n \n \n \n \n \n\"usageType\": \"mms\", \n \n \n \n \n \n\"bucketCounter\": [{ \n \n \n \n \n \n \n\"id\": \"CT3\", \n \n \n \n \n \n \n\"counterType\": \"used\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n \n \n \n \n \n \n},\"value\": { \n \n \n \n \n \n \n \n\"amount\": 0, \n \n \n \n \n \n \n \n\"units\": \"mms\" \n \n \n \n \n \n \n} \n \n \n \n \n \n}],\"product\": [{ \n \n \n \n \n \n \n\"id\": \"PR1\", \n \n \n \n \n \n \n\"name\": \"RED MMS Plus\" \n \n \n \n \n \n}],\"relatedParty\": [{ \n \n \n \n \n \n \n\"id\": \"CUST34\", \n \n \n \n \n \n \n\"role\": \"Customer\", \n \n \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n \n \n}] \n \n \n \n \n}, { \n \n \n \n \n \n\"id\": \"BK2\", \n \n \n \n \n \n\"description\": \"Bucket related to data\", \n \n \n \n \n \n\"isShared\": false, \n \n \n \n \n \n\"name\": \"RED Data Plus Bucket - Data\", \n \n \n \n \n \n\"remainingValue\": { \n \n \n \n \n \n \n\"amount\": 3, \n \n \n \n \n \n \n\"units\": \"GB\" \n \n \n \n \n \n}, \n \n \n \n \n \n\"remainingValueName\": \"3 GB\", \n \n \n \n \n \n\"usageType\": \"data\", \n \n \n \n \n \n\"bucketCounter\": [{ \n \n \n \n \n \n \n\"id\": \"CT4\", \n \n \n \n \n \n \n\"counterType\": \"used\", \n \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n \n\"consumptionPeriod\": { \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 23 of 34 \n \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n \n \n \n \n \n \n},\"value\": { \n \n \n \n \n \n \n \n\"amount\": 2, \n \n \n \n \n \n \n \n\"units\": \"GB\" \n \n \n \n \n \n \n} \n \n \n \n \n \n}],\"product\": [{ \n \n \n \n \n \n \n\"id\": \"PR2\", \n \n \n \n \n \n \n\"name\": \"RED Data Plus\" \n \n \n \n \n \n}],\"relatedParty\": [{ \n \n \n \n \n \n \n\"id\": \"CUST34\", \n \n \n \n \n \n \n\"role\": \"Customer\", \n \n \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n \n \n}] \n}] \n \n \n \n}] \n}}} \n \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 24 of 34 \n API Operations \nRemember the following Uniform Contract: \nOperation on Entities \nUniform API Operation \nDescription \nQuery Entities \nGET Resource \nGET must be used to retrieve a \nrepresentation of a resource. \nCreate Entity \nPOST Resource \nPOST must be used to create a new resource \nPartial Update of an Entity \nPATCH Resource \nPATCH must be used to partially update a \nresource \nComplete Update of an \nEntity \nPUT Resource \nPUT must be used to completely update a \nresource identified by its resource URI  \nRemove an Entity \nDELETE Resource \nDELETE must be used to remove a resource \nExecute an Action on an \nEntity  \nPOST on TASK Resource \nPOST must be used to execute Task \nResources \nOther Request Methods \nPOST on TASK Resource \nGET and POST must not be used to tunnel \nother request methods. \n \nFiltering and attribute selection rules are described in the TMF REST Design Guidelines. \nNotifications are also described in a subsequent section. \n \nOperations on Query Usage Consumption \nList query usage consumptions \n  GET /queryUsageConsumption?fields=...&{filtering} \nDescription \nThis operation list query usage consumption entities. \nAttribute selection is enabled for all first level attributes. \nFiltering may be available depending on the compliance level supported by an implementation. \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 25 of 34 \nUsage Samples \nHere's an example of a request for retrieving QueryUsageConsumption resources. \nRequest \nGET /tmf-\napi/usageConsumption/v4/queryUsageConsumption?relatedParty[?(@referredType==Individual)].id=USER11333 \nAccept: application/json \n \nResponse \n200 OK \n[{ \n \n\"id\": \"Q1USER11222\", \n \n\"relatedParty\": [{ \n \n \n\"id\": \"USER11222\", \n \n \n\"role\": \"agent\", \n \n \n\"@referredType\": \"Individual\" \n \n}], \n \n\"searchCriteria\": { \n \n \n\"bucketRefOrValue\": [{ \n \n \n \n\"usageType\": \"voice national\" \n \n \n}, { \n \n \n \n\"usageType\": \"voice international\" \n \n \n}, { \n \n \n \n\"usageType\": \"data\" \n \n \n}] \n \n} \n}, { \n \n\"id\": \"Q2USER11222\", \n \n\"relatedParty\": [{ \n \n \n\"id\": \"USER11222\", \n \n \n\"role\": \"agent\", \n \n \n\"@referredType\": \"Individual\" \n \n}], \n \n\"searchCriteria\": { \n \n \n\"logicalResource\": [{ \n \n \n \n\"id\": \"963161043\", \n \n \n \n\"name\": \"Lara's phone number\" \n \n \n}] \n \n} \n}, { \n \n\"id\": \"Q3USER11222\", \n \n\"relatedParty\": [{ \n \n \n\"id\": \"USER11222\", \n \n \n\"role\": \"agent\", \n \n \n\"@referredType\": \"Individual\" \n \n}], \n \n\"searchCriteria\": { \n \n \n\"partyAccount\": [{ \n \n \n \n\"id\": \"BI12234\", \n \n \n \n\"@referredType\": \"Billing Account\" \n \n \n}] \n \n} \n}]"}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-9", "chunkIndex": 9, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 9/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 26 of 34 \nRetrieve query usage consumption \n  GET /queryUsageConsumption/{id}?fields=...&{filtering} \nDescription \nThis operation retrieves a query usage consumption entity. \nAttribute selection is enabled for all first level attributes. \nFiltering on sub-resources may be available depending on the compliance level supported by an \nimplementation. \n \nUsage Samples \nHere's an example of a request for retrieving a QueryUsageConsumption resource. \nRequest \nGET /tmf-api/usageConsumption/v4/queryUsageConsumption/Q1USER11333 \nAccept: application/json \n \nResponse \n \n200 OK \n \n{ \n    \"id\": \"Q1USER11333\", \n    \"searchCriteria\": { \n        \"logicalResource\": [{ \n                \"id\": \"963161043\", \n                \"name\": \"Lara's phone number\" \n            }] \n    }, \n    \"relatedParty\": [{ \n            \"id\": \"USER11333\", \n            \"role\": \"agent\", \n            \"@referredType\": \"Individual\" \n        }], \n    \"usageConsumption\": [{ \n            \"id\": \"UC1\", \n            \"creationDate\": \"2021-06-18T16:04:09.084Z\", \n            \"lastUpdate\": \"2021-06-18T16:04:09.084Z\", \n            \"logicalResource\": [{ \n                    \"id\": \"963161043\", \n                    \"name\": \"Lara's phone number\", \n                    \"consumptionSummary\": [ { \n                            \"id\": \"CT1\", \n                            \"counterType\": \"voice\", \n                            \"level\": \"global\", \n                            \"valueName\": \"Unlimited\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n                            } \n                        },{ \n                            \"id\": \"CT2\", \n                            \"counterType\": \"sms\", \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 27 of 34 \n                            \"level\": \"global\", \n                            \"valueName\": \"Unlimited\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n                            } \n                        }] \n                }], \n            \"bucketRefOrValue\": [{ \n                    \"id\": \"BK1\", \n                    \"description\": \"Bucket related to MMS\", \n                    \"isShared\": false, \n                    \"name\": \"RED MMS Plus Bucket - MMS\", \n                    \"usageType\": \"mms\", \n                    \"bucketCounter\": [{ \n                            \"id\": \"CT3\", \n                            \"counterType\": \"used\", \n                            \"level\": \"global\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n                            }, \n                            \"value\": { \n                                \"amount\": 0, \n                                \"units\": \"mms\" \n                            } \n                        }], \n                    \"product\": [{ \n                            \"id\": \"PR1\", \n                            \"name\": \"RED MMS Plus\" \n                        }], \n                    \"relatedParty\": [{ \n                            \"id\": \"CUST34\", \n                            \"role\": \"Customer\", \n                            \"@referredType\": \"Individual\" \n                        }] \n                },{ \n                    \"id\": \"BK2\", \n                    \"description\": \"Bucket related to data\", \n                    \"isShared\": false, \n                    \"name\": \"RED Data Plus Bucket - Data\", \n                    \"remainingValue\": { \n                        \"amount\": 3, \n                        \"units\": \"GB\" \n                    }, \n                    \"remainingValueName\": \"3 GB\", \n                    \"usageType\": \"data\", \n                    \"bucketCounter\": [{ \n                            \"id\": \"CT4\", \n                            \"counterType\": \"used\", \n                            \"level\": \"global\", \n                            \"consumptionPeriod\": { \n                                \"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n                                \"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n                            }, \n                            \"value\": { \n                                \"amount\": 2, \n                                \"units\": \"GB\" \n                            } \n                        }], \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 28 of 34 \n                    \"product\": [{ \n                            \"id\": \"PR2\", \n                            \"name\": \"RED Data Plus\" \n                        }], \n                    \"relatedParty\": [{ \n                            \"id\": \"CUST34\", \n                            \"role\": \"Customer\", \n                            \"@referredType\": \"Individual\" \n                        }] \n                }] \n        }]} \n \nCreate query usage consumption \n  POST /queryUsageConsumption \nDescription \nThis operation creates a query usage consumption entity. \nMandatory and Non Mandatory Attributes \nThe following tables provide the list of mandatory and non mandatory attributes when creating a \nQueryUsageConsumption, including any possible rule conditions and applicable default values.  \nNotice that it is up to an implementer to add additional mandatory attributes. \nMandatory Attributes \nRule \nsearchCriteria \nMust have at least one of these. \npartyAccount \nrelatedParty \n \nNon Mandatory Attributes \nRule \n@baseType \nOnly required if the resource is extended. \n@schemaLocation \n@type \nqueryUsageConsumptionDate \nN/A \nusageConsumption \n \nUsage Samples \nHere's an example of a request for creating a QueryUsageConsumption resource. In this example the \nrequest only passes mandatory attributes. \nRequest \nPOST /tmf-api/usageConsumption/v4/queryUsageConsumption \nContent-Type: application/json \n{ \n    \"searchCriteria\": { \n        \"logicalResource\": [ {"}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-10", "chunkIndex": 10, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 10/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 29 of 34 \n                \"id\": \"963161043\", \n                \"name\": \"Lara's phone number\" \n            }] \n    } \n} \nResponse \n201 Created \n \n{ \n \n\"id\": \"Q1USER11333\", \n \n\"searchCriteria\": { \n \n \n\"logicalResource\": [{ \n \n \n \n\"id\": \"963161043\", \n \n \n \n\"name\": \"Lara's phone number\" \n \n \n}]}, \n \n\"usageConsumption\": [{ \n \n \n\"id\": \"UC1\", \n \n \n\"creationDate\": \"2021-06-18T16:04:09.084Z\", \n \n \n\"lastUpdate\": \"2021-06-18T16:04:09.084Z\", \n \n \n\"logicalResource\": [{ \n \n \n \n\"id\": \"963161043\", \n \n \n \n\"name\": \"Lara's phone number\", \n \n \n \n\"consumptionSummary\": [{ \n \n \n \n \n \n\"id\": \"CT1\", \n \n \n \n \n \n\"counterType\": \"voice\", \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n\"valueName\": \"Unlimited\", \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n \n \n \n \n \n}},{ \n \n \n \n \n \n\"id\": \"CT2\", \n \n \n \n \n \n\"counterType\": \"sms\", \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n\"valueName\": \"Unlimited\", \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-30T16:04:09.084Z\" \n \n \n \n \n \n} \n \n \n \n \n}] \n}], \n \n \n\"bucketRefOrValue\": [{ \n \n \n \n \n\"id\": \"BK1\", \n \n \n \n \n\"description\": \"Bucket related to MMS\", \n \n \n \n \n\"isShared\": false, \n \n \n \n \n\"name\": \"RED MMS Plus Bucket - MMS\", \n \n \n \n \n\"usageType\": \"mms\", \n \n \n \n \n\"bucketCounter\": [{ \n \n \n \n \n \n\"id\": \"CT3\", \n \n \n \n \n \n\"counterType\": \"used\", \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n \n \n \n \n \n},\"value\": { \n \n \n \n \n \n \n\"amount\": 0, \n \n \n \n \n \n \n\"units\": \"mms\" \n \n \n \n \n \n}}], \n \n \n \n \n\"product\": [{ \n \n \n \n \n \n\"id\": \"PR1\", \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 30 of 34 \n \n \n \n \n \n\"name\": \"RED MMS Plus\" \n \n \n \n \n}], \n \n \n \n \n\"relatedParty\": [{ \n \n \n \n \n \n\"id\": \"CUST34\", \n \n \n \n \n \n\"role\": \"Customer\", \n \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n \n}]},{ \n \n \n \n \n\"id\": \"BK2\", \n \n \n \n \n\"description\": \"Bucket related to data\", \n \n \n \n \n\"isShared\": false, \n \n \n \n \n\"name\": \"RED Data Plus Bucket - Data\", \n \n \n \n \n\"remainingValue\": { \n \n \n \n \n \n\"amount\": 3, \n \n \n \n \n \n\"units\": \"GB\" \n \n \n \n \n}, \n \n \n \n \n\"remainingValueName\": \"3 GB\", \n \n \n \n \n\"usageType\": \"data\", \n \n \n \n \n\"bucketCounter\": [{ \n \n \n \n \n \n\"id\": \"CT4\", \n \n \n \n \n \n\"counterType\": \"used\", \n \n \n \n \n \n\"level\": \"global\", \n \n \n \n \n \n\"consumptionPeriod\": { \n \n \n \n \n \n \n\"endDateTime\": \"2021-06-01T16:04:09.084Z\", \n \n \n \n \n \n \n\"startDateTime\": \"2021-06-18T16:04:09.084Z\" \n \n \n \n \n \n},\"value\": { \n \n \n \n \n \n \n\"amount\": 2, \n \n \n \n \n \n \n\"units\": \"GB\" \n \n \n \n \n \n} \n \n \n \n \n}], product\": [{ \n \n \n \n \n \n\"id\": \"PR2\", \n \n \n \n \n \n\"name\": \"RED Data Plus\" \n \n \n \n \n}],\"relatedParty\": [{ \n \n \n \n \n \n\"id\": \"CUST34\", \n \n \n \n \n \n\"role\": \"Customer\", \n \n \n \n \n \n\"@referredType\": \"Individual\" \n \n \n \n \n}] \n \n \n \n}] \n                        } \n]} \nDelete query usage consumption \n  DELETE /queryUsageConsumption/{id} \nDescription \nThis operation deletes a query usage consumption entity. \nUsage Samples \nHere's an example of a request for deleting a QueryUsageConsumption resource. \nRequest \nDELETE /tmf-api/usageConsumption/v4/queryUsageConsumption/42 \nResponse \n204 Deleted \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 31 of 34 \nAPI Notifications \nFor every single of operation on the entities use the following templates and provide sample REST \nnotification POST calls. \nIt is assumed that the Pub/Sub uses the Register and UnRegister mechanisms described in the REST \nGuidelines reproduced below. \nRegister listener \n  POST /hub \nDescription \nSets the communication endpoint address the service instance must use to deliver information about \nits health state, execution state, failures and metrics. Subsequent POST calls will be rejected by the \nservice if it does not support multiple listeners. In this case DELETE /api/hub/{id} must be called \nbefore an endpoint can be created again. \n \nBehavior \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 409 if request is not successful. \n \nUsage Samples \nHere's an example of a request for registering a listener. \nRequest \nPOST /api/hub \nAccept: application/json \n \n{\"callback\": \"http://in.listener.com\"} \n \nResponse \n201 Created \nContent-Type: application/json \nLocation: /api/hub/42 \n \n{\"id\":\"42\",\"callback\":\"http://in.listener.com\",\"query\":null} \n \n \n \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 32 of 34 \nUnregister listener \n  DELETE /hub/{id} \nDescription \nClears the communication endpoint address that was set by creating the Hub. \n \nBehavior \nReturns HTTP/1.1 status code 204 if the request was successful. \nReturns HTTP/1.1 status code 404 if the resource is not found. \n \nUsage Samples \nHere's an example of a request for un-registering a listener. \nRequest \nDELETE /api/hub/42 \nAccept: application/json \n \nResponse \n204 Deleted \n \nPublish Event to listener \n  POST /client/listener \nDescription \nClears the communication endpoint address that was set by creating the Hub. \nProvides to a registered listener the description of the event that was raised. The \n/client/listener url is the callback url passed when registering the listener. \n \nBehavior \nReturns HTTP/1.1 status code 201 if the service is able to set the configuration."}
{"tmforumApiId": "TMF677", "id": "TMF677-chunk-11", "chunkIndex": 11, "totalChunks": 11, "apiName": "Usage Consumption Management API v4.0.0 specification", "title": "TMF677_Usage_Consumption_Management_API_v4.0.0_specification (Part 11/11)", "documentType": "Tmforum api user guide", "text": "\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 33 of 34 \nUsage Samples \nHere's an example of a notification received by the listener. In this example \u201cEVENT TYPE\u201d should be \nreplaced by one of the notification types supported by this API (see Notification resources Models \nsection) and EVENT BODY refers to the data structure of the given notification type. \nRequest \nPOST /client/listener \nAccept: application/json \n \n{ \n    \"event\": {  \n                EVENT BODY  \n            }, \n    \"eventType\": \"EVENT_TYPE\" \n} \n \nResponse \n201 Created \n \nFor detailed examples on the general TM Forum notification mechanism, see the TMF REST Design \nGuidelines. \n \n \n \n\n\n\u00a9 TM Forum 2021. All Rights Reserved                                                                                                                                Page 34 of 34 \nAcknowledgements \nVersion History \nVersion Number \nDate  \nRelease led by: \nDescription  \nRelease 1.0 \n04/15/2017 \nPierre Gauthier, TM Forum \npgauthier@tmforum.org \n \nMariano Belaunde, Orange Labs \nMariano.belaunde@orange.com \n \nFirst Release of the Document.  \nRelease 2.0 \n11/06/2018 \nMariano Belaunde, Orange Labs \nAlignment with Guidelines 3.0 \nRelease 3.0 \n04/08/2021 \nLara Silva, Vodafone \nlara.silva3@vodafone.com \nAlignment with guidelines 4.0.2 \n \nRelease 4.0.0 \n11-Aug-2021 \nLara Silva, Vodafone \n \n \nRelease History \nRelease Status \nDate  \nRelease led by: \nDescription  \nRelease 17.5 \n15-Apr-2017 \nPierre Gauthier, TM Forum \nMariano Belaunde, Orange Labs \nFirst Release of the Document.  \nPre-production \n11-Aug-2021 \nLara Silva, Vodafone \n \n \nProduction \n19-Nov-2021 \nAdrienne Walcott \nUpdated to reflect TM Forum \nApproved Status"}
