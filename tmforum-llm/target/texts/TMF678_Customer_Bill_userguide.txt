TM Forum Specification 
CustomerBill
Maturity Level: General availability
Team Approved Date: 29-09-2023
Approval Status: Team Approved
IPR Mode: RAND
Release Status: Production
Version 5.0.0
TMF678


 NOTICE
Copyright © TM Forum 2023. All Rights Reserved.
This document and translations of it may be copied and furnished to others, and derivative
works that comment on or otherwise explain it or assist in its implementation may be
prepared, copied, published, and distributed, in whole or in part, without restriction of any
kind, provided that the above copyright notice and this section are included on all such
copies and derivative works. However, this document itself may not be modified in any way,
including by removing the copyright notice or references to TM FORUM, except as needed
for the purpose of developing any document or deliverable produced by a TM FORUM
Collaboration Project Team (in which case the rules applicable to copyrights, as set forth in
the TM FORUM IPR Policy, must be followed) or as required to translate it into languages
other than English.
The limited permissions granted above are perpetual and will not be revoked by TM FORUM
or its successors or assigns.
This document and the information contained herein is provided on an "AS IS" basis and TM
FORUM DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT
LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL
NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
Direct inquiries to the TM Forum office:
181 New Road, Suite 304
Parsippany, NJ 07054, USA
Tel No. +1 862 227 1648
TM Forum Web Page: www.tmforum.org


 Table of Contents
NOTICE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  i
Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  1
Sample Use Cases . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
Use case 1: Retrieval of a Customer_Bill . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
Use case 2: Request of an “off cycle” bill . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
Use case 3: Patch of an customer bill. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
Support of polymorphism and extension patterns. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  3
RESOURCE MODEL . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
Managed Entity and Task Resource Models. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
BillCycle resource . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
CustomerBill resource. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  6
CustomerBillOnDemand resource. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  15
AppliedCustomerBillingRate resource . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  19
Notification Resource Models . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  28
Customer Bill Create Event. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  29
Customer Bill State Change Event . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  31
Customer Bill On Demand Create Event. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  32
Customer Bill On Demand State Change Event . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  33
API OPERATIONS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  35
Operations on BillCycle. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  35
Retrieves a BillCycle by ID . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  35
List or find BillCycle objects. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  36
Operations on CustomerBill . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  38
List or find CustomerBill objects . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  38
Retrieves a CustomerBill by ID . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  39
Updates partially a CustomerBill . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  40
Operations on CustomerBillOnDemand . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  48
List or find CustomerBillOnDemand objects . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  48
Retrieves a CustomerBillOnDemand by ID. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  49
Creates a CustomerBillOnDemand. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  50
Operations on AppliedCustomerBillingRate . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  51
Retrieves a AppliedCustomerBillingRate by ID . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  51
List or find AppliedCustomerBillingRate objects . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  53
API NOTIFICATIONS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  56
Register listener . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  56
Unregister listener . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  57
Publish Event to listener . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  57
Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  59
Release History. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  59
Contributors to Document . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  59


 Introduction
The following document is the specification of the REST API for customer bill management.
It includes the model definition as well as all available operations.
Products subscribed by a customer are rated at different prices depending on product
offering prices and prices rules and additional terms and conditions determined by the
customer. The rating process takes product usages and applies rates to them. The billing
process applies additional charges (recurring charges, one time charges), discounts and
taxes to products then aggregate applied rates into bills sent to customers.
The bill, ultimate goal of a billing process, can be created as a result of a cycle run (done by
batch in general) or by the result of others events such as a customer request or an account
termination (done in real-time).
This API allows to find and retrieve one or several customer bills (also called invoices)
produced for a customer. A customer bill is an electronic or paper document produced at the
end of the billing process. The customer bill gathers and displays different items (applied
customer billing rates generated during the rating and billing processes) to be charged to a
customer. It represents a total amount due for all the products during the billing period and
all significant information like dates, bill reference. The API model support the needs for the
three basic billing types : postpaid periodical bill, postpaid real-time bill and prepaid real-time
bill.
This API provides also operations to find and retrieve the details of applied customer billing
rates presented on a customer bill.
Finally, this API allows to request in real-time a customer bill creation and to manage this
request.
Note : Customer Billing covers business entities utilized by rating and billing processes.
These entities form the Customer Bill ABE, the Applied Customer Billing Rate ABE and the
Customer Bill Collection ABE. They are specified in the GB922 Customer document of the
Framework SID Suite R16.5.0.


 Sample Use Cases
To illustrate JSON representation of resources concerned by these APIs, we use the 3 use
cases detailed below.
Use case 1: Retrieval of a Customer_Bill
This UC is simply the request to fetch one or more bills upon a customer request (self
service with a web site or on a call to a call center).
The bill itself is produced in a regular backoffice (batch) process which runs according to the
bill cycle definitions.
The bill document should be an attachment to the customer bill resource (realized as
reference to the bill document e.g. in PDF format)
The state of the bill is proposed as a set of possible values (enumeration) on the base type
“string”. The user is free to redefine this state according to his specific business needs.
Use case 2: Request of an “off cycle” bill
This UC illustrates the idea of the Customer_Bill_On_Demand resource. This resource is a
task type resource which triggers the generation of a bill outside the regular bill cycle.
A POST to create this resource implements the request to produce such an extra bill. The
resource represents the status of this off cycle bill production.
Use case 3: Patch of an customer bill
This UC illustrates the need for a change in a customer bill. In general a patch of a bill is not
allowed in order to support the traceability of a bill (e.g. for tax reasons). But there exist
some situations resulting in exceptions. This could be a misspelled name or a state change
in case of disputes on the bill. This are only examples, there might be other reasons. The
operator* of this API has to decide to which extend a PATCH of a bill is meaningful and valid.
Remark on “misspelled name”: The bill is issued to the person/organization named in the
billing account. It should be corrected there. This doesn’t necessarily regenerate the bill –
the name of the addressee on the bill has to be changed (if specific conditions/constellations
are met, the API operator* has to decide).
*operator: The communication service provider using this API to offer the resources internal
or external.


 Support of polymorphism and extension
patterns
Support of polymorphic collections and types and schema based extension is provided by
means of a list of generic meta-attributes that we describe below. Polymorphism in
collections occurs when entities inherit from base entities, for instance an ACustomerBill and
BCustomerBill inheriting properties from the CustomerBill entity.
Generic support of polymorphism and pattern extensions is described in the TMF API
Guidelines v3.0 Part 2 document.
The @type attribute provides a way to represent the actual class type of an entity. For
example, within a list of CustomerBill instances some may be instances of ACustomerBill
where other could be instances of BCustomerBill. The @type gives this information. All
resources and sub-resources of this API have a @type attributes that can be provided when
this is useful.
The @referredType can be used within reference entities (like for instance an
CustomerBillRef object) to explicitly denote the actual entity type of the referred class. Notice
that in reference entities the @type, when used, denotes the class type of the reference
itself, such as ACustomerBillRef or BCustomerBillRef, and not the class type of the referred
object. However since reference classes are rarely sub-classed, @type is generally not
useful in reference objects.
The @schemaLocation property can be used in resources to allow specifying user-defined
properties of an Entity or to specify the expected characteristics of an entity.
The @baseType attribute gives a way to provide explicitly the base of class of a given
resource that has been extended.


 RESOURCE MODEL
Managed Entity and Task Resource Models
BillCycle resource
A detailed description of a billing cycle and the various sub steps of a billing cycle.
Resource model
Figure 1 - BillCycle
Field descriptions
BillCycle fields


 
BillCycleSpecification
A BillCycleSpecificationRef. Refers an BillCycleSpecification.
billingDate
A DateTime. The billing/settlement date.
billingPeriod
A String. A billing time period. It is e.g. the concrete expressed
month. Example: 'March'.
chargeDate
A DateTime. Date through when a payment method (e.g. credit
card,…) will be activated.
creditDate
A DateTime. Date through which credits previously received by
the billing system are displeyed on the bill.
description
A String. An explanation regarding this billing cycle. If necessary.
href
A String. Hyperlink reference.
id
A String. Unique identifier.
mailingDate
A DateTime. Customer bill mailing date.
name
A String. A short descriptive name of the actual billing cycle.
paymentDueDate
A DateTime. Date, when the payment is due.
validFor
A TimePeriod. A period of time, either as a deadline
(endDateTime only) a startDateTime only, or both.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
BillCycleSpecificationRef sub-resource fields
description
A String. An explanatory text regarding the
BillCycleSpecification.
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
Json representation sample(s)
We provide below a JSON representation as example of the 'BillCycle' resource object.


 
{
    "id": "BC-1234",
    "href": "http://server:port/tmf-api/Customer_Bill_Management/v5/billcycle/BC-
1234",
    "name": "december regular bill run",
    "description": "regular bill run",
    "billingDate": "2020-01-22T12:00:56.982Z",
    "billingPeriod": "2019-12",
    "chargeDate": "2020-01-27T00:00:00.000Z",
    "creditDate": "2020-01-31T23:59:59.999Z",
    "mailingDate": "2020-01-23T00:00:00.000Z",
    "paymentDueDate": "2020-02-03T23:59:59.999Z",
    "billCycleSpecification": {
        "id": "BCSPEC-M",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billCycleSpecification/BCSPEC-M",
        "name": "Regular Bill Cycle",
        "@referredType": "BillCycleSpecification",
        "@type":"BillCycleSpecificationRef"
    },
    "validFor": {
        "endDateTime": "2020-01-00T00:00:00.000Z",
        "startDateTime": "2020-12-31T23:59:59.999Z"
    },
    "@type":"BillCycle"
}
CustomerBill resource
The customer bill. Can be a regular recurring bill or an extra bill on demand by the customer
or the csp.
Resource model


 
Figure 2 - CustomerBill
Field descriptions
CustomerBill fields


 
amountDue
A Money. A base / value business entity used to represent
money.
appliedPayment
An AppliedPayment. Applied payment is a payment associated
with the bill. There may be a partial payment, then there should
be several applied payments available. On the other hand, more
than one bill could be payed by one payment. In general there is
an n:m relation between payment and bill.
billCycle
A BillCycleRef. ….
billDate
A DateTime. Bill date, external customer view (in consequence:
different to the production date of the bill).
billDocument
An AttachmentRefOrValue. The polymorphic attributes @type,
@schemaLocation & @referredType are related to the
Attachment entity and not the AttachmentRefOrValue class itself.
billNo
A String. Bill reference known by the customer or the party and
displayed on the bill. Could be different from the id.
billingAccount
A BillingAccountRef. BillingAccount reference. A BillingAccount
is a detailed description of a bill structure.
billingPeriod
A TimePeriod. A period of time, either as a deadline
(endDateTime only) a startDateTime only, or both.
category
A String. Category of the bill produced : normal, duplicate,
interim, last, trial customer or credit note for example.
financialAccount
A FinancialAccountRef. AccountReceivable reference. An
account of money owed by a party to another entity in exchange
for goods or services that have been delivered or used. An
account receivable aggregates the amounts of one or more party
accounts (billing or settlement) owned by a given party.
href
A String. Hyperlink reference.
id
A String. Unique identifier.
lastUpdate
A DateTime. Date of bill last update.
nextBillDate
A DateTime. ). Approximate date of the next bill production given
for information (only used/meaningful for on cycle / regular bills).
paymentDueDate
A DateTime. Date at which the amount due should have been
paid.
paymentMethod
A PaymentMethodRef. PaymentMethod reference. A payment
method defines a specific mean of payment (e.g direct debit).
relatedParty
A RelatedPartyRefOrPartyRoleRef. RelatedParty reference. A
related party defines party or party role or its reference, linked to
a specific entity.
remainingAmount
A Money. A base / value business entity used to represent
money.
runType
A CustomerBillRunType. Recommended Enumeration Type (not
formal forced in standard): Valid values for the runType of a bill.
The bill could be produced in a regular bill cycle 'onCycle'.
Otherwise the bill is produced on a request (e.g. customer
request). This could be indicated by 'offCycle'.


 
state
A CustomerBillStateType. Recommended Enumeration Type (not
formal forced in standard): Valid values for the lifecycle state of
the bill: new = 'bill is ready to validate or to sent', validated = 'bill
is checked (manual / automatic)', sent = 'bill is sent with the
channel defined in the billingaccount', settled = 'bill is payed',
partiallySettled = 'bill is partially payed', onHold = 'bill will not be
in further processing until open issues connected to the bill are
solved'.
taxExcludedAmount
A Money. A base / value business entity used to represent
money.
taxIncludedAmount
A Money. A base / value business entity used to represent
money.
taxItem
A TaxItem. A tax item is created for each tax rate and tax type
used in the bill.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
AppliedPayment sub-resource fields
appliedAmount
A Money. A base / value business entity used to represent
money.
payment
A PaymentRef. If an immediate payment has been done at the
product order submission, the payment information are captured
and stored (as a reference) in the order.
Attachment sub-resource fields
attachmentType
A String. A business characterization of the purpose of the
attachment, for example logo, instructionManual, contractCopy.
content
A Base64. The actual contents of the attachment object, if
embedded, encoded as base64.
description
A String. A narrative text describing the content of the
attachment.
href
A String. Hyperlink reference.
id
A String. Unique identifier.
mimeType
A String. A technical characterization of the attachment content
format using IETF Mime Types.
name
A String. The name of the attachment.
size
A Quantity. An amount in a given unit.
url
A String. Uniform Resource Locator, is a web page address (a
subset of URI).


 
validFor
A TimePeriod. A period of time, either as a deadline
(endDateTime only) a startDateTime only, or both.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
AttachmentRef sub-resource fields
description
A String. A narrative text describing the content of the
attachment.
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
url
A String. Link to the attachment media/content.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
BillCycleRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
BillingAccountRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.


 
ratingType
A String. Indicates whether the account follows a specific
payment option such as prepaid or postpaid.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
FinancialAccountRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
PartyRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
PartyRoleRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.


 
partyId
A String. The identifier of the engaged party that is linked to the
PartyRole object.
partyName
A String. The name of the engaged party that is linked to the
PartyRole object.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
PaymentMethodRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
PaymentRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
RelatedPartyRefOrPartyRoleRef sub-resource fields
partyOrPartyRole
A PartyRefOrPartyRoleRef.


 
role
A String. Role played by the related party or party role in the
context of the specific entity it is linked to. Such as 'initiator',
'customer', 'salesAgent', 'user'.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
TaxItem sub-resource fields
taxAmount
A Money. A base / value business entity used to represent
money.
taxCategory
A String. Tax category.
taxRate
A Float. Applied rate of the tax.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
Json representation sample(s)
We provide below a JSON representation as example of the 'CustomerBill' resource object.
{
    "id": "CB-123",
    "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
    "billNo": "780123456",
    "amountDue": {
        "unit": "EUR",
        "value": 0.00
        },
    "appliedPayment": [
        {
            "appliedAmount": {
                "unit": "EUR",
                "value": 50.00
            },
            "payment": {
                "id": "PAY-9876",
                "href": "https://server:port/tmf-
api/Payment_Management/v5/payment/PAY-9876",
                "name": "csp-bill",
                "@referredtype": "Payment",
                "@type": "PaymentRef"
            },  
            "@type": "AppliedPayment"
        }
    ],
    "billCycle": {


         "id": "BC-1234",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234",
        "@referredType": "BillCycle",
        "@type": "BillCycleRef"
    },
    "billDate": "2020-01-05T12:00:56.982Z",
    "billDocument": [
        {
            "id": "DOC_1234",
            "href": "http://server:port/tmf-
api/Document_Management/v5/document/DOC_1234",
            "attachmentType": "application/pdf",
            "content": "bill",
            "description": "regular monthly bill",
            "mimeType": "application/pdf",
            "size": 172851,
            "uri": "http://server:port/tmf-api/documentrepository/DOC_1234.pdf",
            "validfor": {
                "startDateTime": "2020-01-05T12:00:56.982Z"
            },
            "@type": "Attachment"
        }
    ],
    "billingAccount": {
        "id": "A0815",
        "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "financialAccount": {
        "id": "FA12345",
        "href": "http://host:port/tmf-
api/Account_Management/v5/financialAccount/FA12345",
        "name": "FA Peter Retep",
        "@referredType": "FinancialAccount",
        "@type": "FinancialAccountRef"
    },
    "category": "normal",
    "lastUpdate": "2020-01-05T12:00:56.982Z",
    "nextBillDate": "2020-02-05T12:00:00.000Z",
    "paymentDueDate": "2020-01-15T00:00:00.000Z",
    "remainingAmount": {
        "unit": "EUR",
        "value": 0.00
    },
    "runType": "onCycle",
    "status": "settled",
    "taxExcludedAmount": {
        "unit": "EUR",
        "value": 40.00
    },
    "taxIncludedAmount": {
        "unit": "EUR",
        "value": 50.00
    },
    "taxItem": [
        {
            "taxAmount": {
                "unit": "EUR",
                "value": 10.00


             },
            "taxCategory": "VAT",
            "taxRate": 0.25,
            "@type":"TaxItem"
        }
    ],
    "@type":"CustomerBill"
}
CustomerBillOnDemand resource
This resource is used to manage the creation request of a customer bill in real-time (on
demand).
Resource model


 
Figure 3 - CustomerBillOnDemand
Field descriptions
CustomerBillOnDemand fields


 
billingAccount
A BillingAccountRef. BillingAccount reference. A BillingAccount
is a detailed description of a bill structure.
customerBill
A CustomerBillRef. Bill reference.
description
A String. Additional data describing the customer bill on demand
request.
href
A String. Hyperlink reference.
id
A String. Unique identifier.
lastUpdate
A String. The last date time when the customer bill on demand
has been updated.
name
A String. Friendly name to identify the customer bill on demand
request.
relatedParty
A RelatedPartyRefOrPartyRoleRef. RelatedParty reference. A
related party defines party or party role or its reference, linked to
a specific entity.
state
A CustomerBillOnDemandStateType. Recommended
Enumeration Type (not formal forced in standard): Valid values
for 'CustomerBillOnDemand': 'inProgress', 'rejected', 'done',
'terminatedWithError'.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
BillingAccountRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
ratingType
A String. Indicates whether the account follows a specific
payment option such as prepaid or postpaid.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
CustomerBillRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.


 
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
PartyRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
PartyRoleRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
partyId
A String. The identifier of the engaged party that is linked to the
PartyRole object.
partyName
A String. The name of the engaged party that is linked to the
PartyRole object.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
RelatedPartyRefOrPartyRoleRef sub-resource fields
partyOrPartyRole
A PartyRefOrPartyRoleRef.


 
role
A String. Role played by the related party or party role in the
context of the specific entity it is linked to. Such as 'initiator',
'customer', 'salesAgent', 'user'.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
Json representation sample(s)
We provide below a JSON representation as example of the 'CustomerBillOnDemand'
resource object.
{
    "id": "D123",
    "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/customerBillOnDemand/D123",
    "description": "Customer bill on demand",
    "lastUpdate": "2020-01-19T12:34:56.123Z",
    "name": "BillOnCustomerDemand",
    "billingAccount": {
        "id": "A0815",
        "href": "http://server:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "relatedParty": {
        "role": "requester",
        "@type": "RelatedPartyRefOrRelatedPartyRoleRef",
        "partyOrPartyRole": {
            "id": "RP0815",
            "href": "http://server:port/tmf-api/Party_Management/v5/party/RP0815",
            "name": "Peter Retep",
            "@referredType": "Individual",
            "@type": "PartyRef"
        }
    },
    "state": "inProgress",
    "@type": "CustomerBillOnDemand"
}
AppliedCustomerBillingRate resource
A customer bill displays applied billing rates created before or during the billing process.
Resource model


 
Figure 4 - AppliedCustomerBillingRate


 
Figure 5 - Characteristic
Field descriptions
AppliedCustomerBillingRate fields
appliedBillingRateType
A String. Type of the applied billing rate : appliedBillingCharge
(any kind of charge except taxation charges : recurringCharge,
oneTimeCharge, usageCharge), appliedBillingCredit (any kind of
credit : rebate or productAlteration) or appliedPenaltyCharge
(penalty charges such as late fees, payment rejection fees,…).
appliedTax
An AppliedBillingTaxRate. The applied billing tax rate represents
taxes applied billing rate it refers to. It is calculated during the
billing process.
bill
A CustomerBillRef. Bill reference.
billingAccount
A BillingAccountRef. BillingAccount reference. A BillingAccount
is a detailed description of a bill structure.
characteristic
A Characteristic. Describes a given characteristic of an object or
entity through a name/value pair.
date
A DateTime. Creation date of the applied billing rate.
description
A String. Additional data to be displayed on the bill for this
customer applied billing rate.
href
A String. Hyperlink reference.
id
A String. Unique identifier.
isBilled
A Boolean. Indicates if this applied billing rate has been
presented on a bill or not. If isBilled = true then bill should be
provided, if false then billingAccount should be provided.


 
name
A String. Name of the customer applied billing rate.
periodCoverage
A TimePeriod. A period of time, either as a deadline
(endDateTime only) a startDateTime only, or both.
product
A ProductRef. A Product reference.
taxExcludedAmount
A Money. A base / value business entity used to represent
money.
taxIncludedAmount
A Money. A base / value business entity used to represent
money.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
AppliedBillingTaxRate sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
taxAmount
A Money. A base / value business entity used to represent
money.
taxCategory
A String. A categorization of the tax rate.
taxRate
A Float. Applied rate.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
BillingAccountRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
ratingType
A String. Indicates whether the account follows a specific
payment option such as prepaid or postpaid.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.


 
BooleanCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
value
A Boolean. Value of the characteristic.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
Characteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
CharacteristicRelationship sub-resource fields
id
A String. Unique identifier of the characteristic.
relationshipType
A String. The type of relationship.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
CustomerBillRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.


 
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
FloatCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
value
A Float. Value of the characteristic.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
IntegerArrayCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
value
An Integer.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
IntegerCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.


 
value
An Integer. Value of the characteristic.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
NumberArrayCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
value
A Number.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
NumberCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
value
A Number. Value of the characteristic.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
ObjectArrayCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.


 
name
A String. Name of the characteristic.
value
An object.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
ObjectCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
value
An object. Value of the characteristic.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
ProductRef sub-resource fields
href
A String. Hyperlink reference.
id
A String. Unique identifier.
name
A String. Name of the referred entity.
@baseType
A String. When sub-classing, this defines the super-class.
@referredType
A String. The actual type of the target instance when needed for
disambiguation.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
StringArrayCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.


 
name
A String. Name of the characteristic.
value
A String.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
StringCharacteristic sub-resource fields
characteristicRelationship
A CharacteristicRelationship. Another Characteristic that is
related to the current Characteristic;.
id
A String. Unique identifier of the characteristic.
name
A String. Name of the characteristic.
value
A String. Value of the characteristic.
valueType
A String. Data type of the value of the characteristic.
@baseType
A String. When sub-classing, this defines the super-class.
@schemaLocation
A String. A URI to a JSON-Schema file that defines additional
attributes and relationships.
@type
A String. When sub-classing, this defines the sub-class
Extensible name.
Json representation sample(s)
We provide below a JSON representation as example of the 'AppliedCustomerBillingRate'
resource object.
{
  "id": "ABR123",
  "href": "http://server:port/api/appliedCustomerBillingRate/v5/ABR123",
  "appliedBillingRateType": "monthly",
  "date": "2020-01-19T13:38:18.938Z",
  "isBilled": true,
  "name": "Rental Fee",
  "appliedTax": [
    {
      "taxCategory": "VAT",
      "taxRate": 20,
      "taxAmount": {
        "unit": "EUR",
        "value": 100
      },
      "@type": "AppliedBillingTaxRate"
    }
  ],
  "bill": {
    "id": "B123",
    "href": "http://server:port/api/bill/v5/B123",


     "name": "customer bill",
    "@referredType": "CustomerBill",
    "@type": "CustomerBillRef"
  },
  "billingAccount": {
    "id": "A0815",
    "href": "http://server:port/api/billingAccount/v5/A0815",
    "name": "BA Peter Retep",
    "@referredType": "BillingAccount",
    "@type": "BillingAccountRef"
  },
  "characteristic": [
    {
      "name": "message",
      "valueType": "string",
      "@type": "StringCharacteristic",
      "value": "Special discount this[ month only"
    }
  ],
  "periodCoverage": {
    "endDateTime": "2019-12-31T23:59:59.999Z",
    "startDateTime": "2019-12-01T00:00:00.000Z"
  },
  "product": {
    "id": "P-wfs-123",
    "href": "http://server:port/api/product/v5/P-wfs-123",
    "name": "CSPs wonderful fiber service",
    "@referredType": "Product",
    "@type": "ProductRef"
  },
  "taxExcludedAmount": {
    "unit": "EUR",
    "value": 40.00
  },
  "taxIncludedAmount": {
    "unit": "EUR",
    "value": 50.00
  },
  "@type": "AppliedCustomerBillingRate"
}
Notification Resource Models
4 notifications are defined for this API.
Notifications related to CustomerBill:
• Customer Bill Create Event
• Customer Bill State Change Event
Notifications related to CustomerBillOnDemand:
• Customer Bill On Demand Create Event
• Customer Bill On Demand State Change Event
The notification structure for all notifications in this API follow the pattern depicted by the
figure below. A notification event resource (depicted by "SpecificEvent" placeholder) is a sub


 
class of a generic Event structure containing at least an id of the event occurrence (eventId),
an event timestamp (eventTime), and the name of the resource (eventType). This notification
structure owns an event payload structure ("SpecificEventPayload" placeholder) linked to the
resource concerned by the notification using the resource name as access field
("resourceName" placeholder).
Figure 6 Notification Pattern
Customer Bill Create Event
Message example for CustomerBillCreateEvent
Content-Type: application/json
{
    "correlationId": "3a8fff52-9b84",
    "description": "CustomerBillCreateEvent illustration",
    "domain": "Commercial",
    "eventId": "453e-9a35-2e5cac56045d",
    "eventTime": "2023-03-05T12:41:39.884Z",
    "eventType": "CustomerBillCreateEvent",
    "priority": "1",
    "timeOcurred": "2023-03-05T12:41:34.667Z",
    "title": "CustomerBillCreateEvent",
    "event": {
        "customerBill": {


             "id": "CB-123",
            "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
            "billNo": "780123456",
            "amountDue": {
                "unit": "EUR",
                "value": 0.00
                },
            "appliedPayment": [
                {
                    "appliedAmount": {
                        "unit": "EUR",
                        "value": 50.00
                    },
                    "payment": {
                        "id": "PAY-9876",
                        "href": "https://server:port/tmf-
api/Payment_Management/v5/payment/PAY-9876",
                        "name": "csp-bill",
                        "@referredtype": "Payment",
                        "@type": "PaymentRef"
                    },
                    "@type": "AppliedPayment"
                }
            ],
            "billCycle": {
                "id": "BC-1234",
                "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234",
                "@referredType": "BillCycle",
                "@type": "BillCycleRef"
            },
            "billDate": "2020-01-05T12:00:56.982Z",
            "billDocument": [
                {
                    "id": "DOC_1234",
                    "href": "http://server:port/tmf-
api/Document_Management/v5/document/DOC_1234",
                    "attachmentType": "application/pdf",
                    "content": "bill",
                    "description": "regular monthly bill",
                    "mimeType": "application/pdf",
                    "size": 172851,
                    "uri": "",
                    "validfor": {
                        "startDateTime": "2020-01-05T12:00:56.982Z",
                        "endDateTime": "9999-12-31T23:59:59.999Z"
                    },
                    "@type": "Attachment"
                }
            ],
            "billingAccount": {
                "id": "A0815",
                "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
                "name": "BA Peter Retep",
                "@referredType": "BillingAccount",
                "@type": "BillingAccountRef"
                },
            "financialAccount": {
                "id": "FA12345",
                "href": "http://host:port/tmf-
api/Account_Management/v5/financialAccount/FA12345",


                 "name": "FA Peter Retep",
                "@referredType": "FinancialAccount",
                "@type": "FinancialAccountRef"
                },
            "category": "normal",
            "lastUpdate": "2020-01-05T12:00:56.982Z",
            "nextBillDate": "2020-02-05T12:00:00.000Z",
            "paymentDueDate": "2020-01-15T00:00:00.000Z",
            "remainingAmount": {
                "unit": "EUR",
                "value": 0.00
                },
            "runType": "onCycle",
            "status": "new",
            "taxExcludedAmount": {
                "unit": "EUR",
                "value": 40.00
                },
            "taxIncludedAmount": {
                "unit": "EUR",
                "value": 50.00
                },
            "taxItem": [
                {
                    "taxAmount": {
                        "unit": "EUR",
                        "value": 10.00
                    },
                    "taxCategory": "VAT",
                    "taxRate": 0.25,
                    "@type":"TaxItem"
                }
            ],
            "@type":"CustomerBill"
        }
    },
    "reportingSystem": {
        "id": "222",
        "name": "APP-756",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "source": {
        "id": "233",
        "name": "APP-628",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "@baseType": "Event",
    "@type": "CustomerBillCreateEvent"
}
Customer Bill State Change Event
Message example for CustomerBillStateChangeEvent event
Content-Type: application/json
{
    "correlationId": "10ca43d6-e2a2",


     "description": "CustomerBillStateChangeEvent illustration",
    "domain": "Commercial",
    "eventId": "4992-97e5-25fa266295e3",
    "eventTime": "2023-03-05T12:41:39.885Z",
    "eventType": "CustomerBillStateChangeEvent",
    "priority": "3",
    "timeOcurred": "2023-03-05T12:41:31.945Z",
    "title": "CustomerBillStateChangeEvent",
    "event": {
        "customerBill": {
            "id": "CB-123",
            "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
            "status": "settled",
            "@type":"CustomerBill"
        }
    },
    "reportingSystem": {
        "id": "222",
        "name": "APP-756",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "source": {
        "id": "233",
        "name": "APP-628",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "@baseType": "Event",
    "@type": "CustomerBillStateChangeEvent"
}
Customer Bill On Demand Create Event
Message example for CustomerBillOnDemandCreateEvent
Content-Type: application/json
{
    "correlationId": "3a8fff52-9b84",
    "description": "CustomerBillOnDemandCreateEvent illustration",
    "domain": "Commercial",
    "eventId": "453e-9a35-2e5cac56045d",
    "eventTime": "2023-03-05T12:41:39.884Z",
    "eventType": "CustomerBillOnDemandCreateEvent",
    "priority": "1",
    "timeOcurred": "2023-03-05T12:41:34.667Z",
    "title": "CustomerBillOnDemandCreateEvent",
    "event": {
        "customerBillOnDemand": {
            "id": "D123",
            "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/customerBillOnDemand/D123",
            "description": "Customer bill on demand",
            "lastUpdate": "2020-01-19T12:34:56.123Z",
            "name": "BillOnCustomerDemand",
            "billingAccount": {
                "id": "A0815",
                "href": "http://server:port/tmf-


 api/Account_Management/v5/billingAccount/A0815",
                "name": "BA Peter Retep",
                "@referredType": "BillingAccount",
                "@type": "BillingAccountRef"
            },
            "relatedParty": {
                "role": "requester",
                "@type": "RelatedPartyRefOrRelatedPartyRoleRef",
                "partyOrPartyRole": {
                    "id": "RP0815",
                    "href": "http://server:port/tmf-
api/Party_Management/v5/party/RP0815",
                    "name": "Peter Retep",
                    "@referredType": "Individual",
                    "@type": "PartyRef"
                }
            },
            "state": "inProgress",
            "@type": "CustomerBillOnDemand"
        }
    },
    "reportingSystem": {
        "id": "222",
        "name": "APP-756",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "source": {
        "id": "233",
        "name": "APP-628",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "@baseType": "Event",
    "@type": "CustomerBillOnDemandCreateEvent"
}
Customer Bill On Demand State Change Event
Message example for CustomerBillOnDemandStateChangeEvent event
Content-Type: application/json
{
    "correlationId": "10ca43d6-e2a2",
    "description": "CustomerBillOnDemandStateChangeEvent illustration",
    "domain": "Commercial",
    "eventId": "4992-97e5-25fa266295e3",
    "eventTime": "2023-03-05T12:41:39.885Z",
    "eventType": "CustomerBillOnDemandStateChangeEvent",
    "priority": "3",
    "timeOcurred": "2023-03-05T12:41:31.945Z",
    "title": "CustomerBillOnDemandStateChangeEvent",
    "event": {
        "customerBillOnDemand": {
            "id": "D123",
            "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/customerBillOnDemand/D123",
            "state": "done",
            "@type": "CustomerBillOnDemand"


         }
    },
    "reportingSystem": {
        "id": "222",
        "name": "APP-756",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "source": {
        "id": "233",
        "name": "APP-628",
        "@type": "ReportingResource",
        "@referredType": "LogicalResource"
    },
    "@baseType": "Event",
    "@type": "CustomerBillOnDemandStateChangeEvent"
}


 API OPERATIONS
Remember the following Uniform Contract:
Operation on Entities
Uniform API Operation
Description
Query Entities
GET Resource
GET must be used to retrieve a
representation of a resource.
Create Entity
POST Resource
POST must be used to create a
new resource
Partial Update of an Entity
PATCH Resource
PATCH must be used to partially
update a resource
Remove an Entity
DELETE Resource
DELETE must be used to
remove a resource
Execute an Action on an Entity
POST on TASK Resource
POST must be used to execute
Task Resources
Other Request Methods
POST on TASK Resource
GET and POST must not be
used to tunnel other request
methods.
Filtering and attribute selection rules are described in the TMF REST Design Guidelines.
Notifications are also described in a subsequent section.
Operations on BillCycle
Retrieves a BillCycle by ID
GET /billCycle/{id}?fields=…
Description
This operation retrieves a BillCycle entity. Attribute selection is enabled for all first level
attributes. Filtering may be available depending on the compliance level supported by an
implementation.
Usage samples
Here is an example of a request for retrieving a single BillCycle.
Request
GET /billCycle/BC-1234
Content-Type: application/json
Response
200


 {
    "id": "BC-1234",
    "href": "http://server:port/tmf-api/Customer_Bill_Management/v5/billcycle/BC-
1234",
    "name": "december regular bill run",
    "description": "regular bill run",
    "billingDate": "2020-01-22T12:00:56.982Z",
    "billingPeriod": "2019-12",
    "chargeDate": "2020-01-27T00:00:00.000Z",
    "creditDate": "2020-01-31T23:59:59.999Z",
    "mailingDate": "2020-01-23T00:00:00.000Z",
    "paymentDueDate": "2020-02-03T23:59:59.999Z",
    "billCycleSpecification": {
        "id": "BCSPEC-M",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billCycleSpecification/BCSPEC-M",
        "name": "Regular Bill Cycle",
        "@referredType": "BillCycleSpecification",
        "@type":"BillCycleSpecificationRef"
    },
    "validFor": {
        "endDateTime": "2020-01-00T00:00:00.000Z",
        "startDateTime": "2020-12-31T23:59:59.999Z"
    },
    "@type":"BillCycle"
}
List or find BillCycle objects
GET /billCycle?fields=…
Description
This operation list BillCycle entities. Attribute selection is enabled for all first level attributes.
Filtering may be available depending on the compliance level supported by an
implementation.
Usage samples
Here is an example of a request for retrieving a list of BillCycles. Fields limited to id and
billing date.
Request
GET /billCycle?fields=id, billingDate
Content-Type: application/json
Response
200
[
{
        "id": "BC-12345",
        "href": "http://server:port/tmf-


 api/Customer_Bill_Management/v5/billcycle/BC-12345",
        "billingDate": "2020-01-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-12346",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-12346",
        "billingDate": "2020-02-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-12347",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-12347",
        "billingDate": "2020-03-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-12348",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-12348",
        "billingDate": "2020-04-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-12349",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-12349",
        "billingDate": "2020-05-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-1234a",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234a",
        "billingDate": "2020-06-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-1234b",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234b",
        "billingDate": "2020-07-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-1234c",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234c",
        "billingDate": "2020-08-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-1234d",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234d",
        "billingDate": "2020-09-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-1234e",
        "href": "http://server:port/tmf-


 api/Customer_Bill_Management/v5/billcycle/BC-1234e",
        "billingDate": "2020-10-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-1234f",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234f",
        "billingDate": "2020-11-22T12:00:00.000Z",
        "@type": "BillCycle"
    },
    {
        "id": "BC-12340",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-12340",
        "billingDate": "2020-12-22T12:00:00.000Z",
        "@type": "BillCycle"
    }]
Operations on CustomerBill
List or find CustomerBill objects
GET /customerBill?fields=…
Description
This operation list CustomerBill entities. Attribute selection is enabled for all first level
attributes. Filtering may be available depending on the compliance level supported by an
implementation.
Usage samples
Here is an example of a request for retrieving a list of CustomerBills (Use Case 1). Fields
limited to id, href, billing account.
Request
GET /customerBill?fields=id, href, billingAccount
Content-Type: application/json
Response
200
[
    {
        "id": "CB-123",
        "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
        "@type": "CustomerBill",
        "billingAccount": {
            "id": "A0815",
            "href": "http://host:port/tmf-


 api/Account_Management/v5/billingAccount/A0815",
            "name": "BA Peter Retep",
            "@referredType": "BillingAccount",
            "@type": "BillingAccountRef"
        }
    },
    {
        "id": "CB-456",
        "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-456",
        "@type": "CustomerBill",
        "billingAccount": {
            "id": "A4712",
            "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A4712",
            "name": "BA Claire Erialc",
            "@referredType": "BillingAccount",
            "@type": "BillingAccountRef"
        }
    }
]
Retrieves a CustomerBill by ID
GET /customerBill/{id}?fields=…
Description
This operation retrieves a CustomerBill entity. Attribute selection is enabled for all first level
attributes. Filtering may be available depending on the compliance level supported by an
implementation.
Usage samples
Here is an example of a request for retrieving a single customer bill (See Use Case 1). The
customer bill id is set to CB-123. Fields limited to id, href, billing account, and tax included
amount.
Request
GET /customerBill/CB-123?fields=id, href, billingAccount, taxIncludedAmount
Content-Type: application/json
Response
200
{
    "id": "CB-123",
    "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
    "billingAccount": {
        "id": "A0815",
        "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",


         "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "taxIncludedAmount": {
        "unit": "EUR",
        "value": 50.00
    },
    "@type":"CustomerBill"
}
Updates partially a CustomerBill
PATCH /customerBill/{id}?fields=…
Description
This operation allows partial updates of a CustomerBill entity. Support of json/merge
(https://tools.ietf.org/html/rfc7386) is mandatory, support of json/patch (http://tools.ietf.org/
html/rfc5789) is optiona. Note: If the update operation yields to the creation of sub-resources
or relationships, the same rules concerning mandatory sub-resource attributes and default
value settings in the POST operation applies to the PATCH operation. Hence these tables
are not repeated here.
Patchable and Non Patchable Attributes
Non Patchable Attributes
Rule
amountDue
appliedPayment
billDate
billDocument
billNo
billingAccount
billingPeriod
category
financialAccount
href
id
lastUpdate
nextBillDate
paymentDueDate
paymentMethod
relatedParty
remainingAmount


 
Non Patchable Attributes
Rule
runType
taxExcludedAmount
taxIncludedAmount
taxItem
@baseType
@baseType is immutable
@schemaLocation
@schemaLocation is immutable
@type
@type is immutable
Patchable Attributes
Rule
billCycle
state
Usage samples
Update a Customer Bill using json-patch
Request
PATCH /customerBill/{id}
Content-Type: application/json-patch+json
[
    {
        "op":"replace",
        "path": "/state",
        "value": "onHold"
    }
]
Response
200
{
    "id": "CB-123",
    "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
    "billNo": "780123456",
    "amountDue": {
        "unit": "EUR",
        "value": 0.0
    },
    "billCycle": {
        "id": "BC-1234",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234",
        "@referredType": "BillCycle",
        "@type": "BillCycleRef"


     },
    "billDate": "2020-01-05T12:00:56.982Z",
    "billDocument": [
        {
            "id": "DOC_1234",
            "href": "http://server:port/tmf-
api/Document_Management/v5/document/DOC_1234",
            "attachmentType": "application/pdf",
            "content": "bill",
            "description": "regular monthly bill",
            "mimeType": "application/pdf",
            "size": 172851,
            "validfor": {
                "startDateTime": "2020-01-05T12:00:56.982Z",
                "endDateTime": "9999-12-31T23:59:59.999Z"
            },
            "@type": "Attachment"
        }
    ],
    "billingAccount": {
        "id": "A0815",
        "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "financialAccount": {
        "id": "FA12345",
        "href": "http://host:port/tmf-
api/Account_Management/v5/financialAccount/FA12345",
        "name": "FA Peter Retep",
        "@referredType": "FinancialAccount",
        "@type": "FinancialAccountRef"
    },
    "category": "normal",
    "lastUpdate": "2020-01-05T12:00:56.982Z",
    "nextBillDate": "2020-02-05T12:00:00.000Z",
    "paymentDueDate": "2020-01-15T00:00:00.000Z",
    "remainingAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "runType": "onCycle",
    "status": "onHold",
    "taxExcludedAmount": {
        "unit": "EUR",
        "value": 40.0
    },
    "taxIncludedAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "taxItem": [
        {
            "taxAmount": {
                "unit": "EUR",
                "value": 10.0
            },
            "taxCategory": "VAT",
            "taxRate": 0.25,
            "@type": "TaxItem"
        }


     ],
    "@type": "CustomerBill"
}
Update a Customer Bill using json-patch-query
Request
PATCH /customerBill/{id}
Content-Type: application/json-patch-query+json
{
    "op": "replace",
    "path": "/state?state=new",
    "value": "onHold"
}
Response
200
{
    "id": "CB-123",
    "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
    "billNo": "780123456",
    "amountDue": {
        "unit": "EUR",
        "value": 0.0
    },
    "billCycle": {
        "id": "BC-1234",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234",
        "@referredType": "BillCycle",
        "@type": "BillCycleRef"
    },
    "billDate": "2020-01-05T12:00:56.982Z",
    "billDocument": [
        {
            "id": "DOC_1234",
            "href": "http://server:port/tmf-
api/Document_Management/v5/document/DOC_1234",
            "attachmentType": "application/pdf",
            "content": "bill",
            "description": "regular monthly bill",
            "mimeType": "application/pdf",
            "size": 172851,
            "validfor": {
                "startDateTime": "2020-01-05T12:00:56.982Z",
                "endDateTime": "9999-12-31T23:59:59.999Z"
            },
            "@type": "Attachment"
        }
    ],
    "billingAccount": {
        "id": "A0815",


         "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "financialAccount": {
        "id": "FA12345",
        "href": "http://host:port/tmf-
api/Account_Management/v5/financialAccount/FA12345",
        "name": "FA Peter Retep",
        "@referredType": "FinancialAccount",
        "@type": "FinancialAccountRef"
    },
    "category": "normal",
    "lastUpdate": "2020-01-05T12:00:56.982Z",
    "nextBillDate": "2020-02-05T12:00:00.000Z",
    "paymentDueDate": "2020-01-15T00:00:00.000Z",
    "remainingAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "runType": "onCycle",
    "status": "onHold",
    "taxExcludedAmount": {
        "unit": "EUR",
        "value": 40.0
    },
    "taxIncludedAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "taxItem": [
        {
            "taxAmount": {
                "unit": "EUR",
                "value": 10.0
            },
            "taxCategory": "VAT",
            "taxRate": 0.25,
            "@type": "TaxItem"
        }
    ],
    "@type": "CustomerBill"
}
Update a Customer Bill using patch merge
Request
PATCH /customerBill/{id}
Content-Type: application/merge-patch+json
{
    "@type": "CustomerBill",
    "state": "onHold"
}
Response


 
200
{
    "id": "CB-123",
    "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
    "billNo": "780123456",
    "amountDue": {
        "unit": "EUR",
        "value": 0.0
    },
    "billCycle": {
        "id": "BC-1234",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234",
        "@referredType": "BillCycle",
        "@type": "BillCycleRef"
    },
    "billDate": "2020-01-05T12:00:56.982Z",
    "billDocument": [
        {
            "id": "DOC_1234",
            "href": "http://server:port/tmf-
api/Document_Management/v5/document/DOC_1234",
            "attachmentType": "application/pdf",
            "content": "bill",
            "description": "regular monthly bill",
            "mimeType": "application/pdf",
            "size": 172851,
            "validfor": {
                "startDateTime": "2020-01-05T12:00:56.982Z",
                "endDateTime": "9999-12-31T23:59:59.999Z"
            },
            "@type": "Attachment"
        }
    ],
    "billingAccount": {
        "id": "A0815",
        "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "financialAccount": {
        "id": "FA12345",
        "href": "http://host:port/tmf-
api/Account_Management/v5/financialAccount/FA12345",
        "name": "FA Peter Retep",
        "@referredType": "FinancialAccount",
        "@type": "FinancialAccountRef"
    },
    "category": "normal",
    "lastUpdate": "2020-01-05T12:00:56.982Z",
    "nextBillDate": "2020-02-05T12:00:00.000Z",
    "paymentDueDate": "2020-01-15T00:00:00.000Z",
    "remainingAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "runType": "onCycle",
    "status": "onHold",


     "taxExcludedAmount": {
        "unit": "EUR",
        "value": 40.0
    },
    "taxIncludedAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "taxItem": [
        {
            "taxAmount": {
                "unit": "EUR",
                "value": 10.0
            },
            "taxCategory": "VAT",
            "taxRate": 0.25,
            "@type": "TaxItem"
        }
    ],
    "@type": "CustomerBill"
}
Update a Customer Bill using implied merge
Request
PATCH /customerBill/{id}
Content-Type: application/json
{
    "@type": "CustomerBill",
    "state": "onHold"
}
Response
200
{
    "id": "CB-123",
    "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
    "billNo": "780123456",
    "amountDue": {
        "unit": "EUR",
        "value": 0.0
    },
    "billCycle": {
        "id": "BC-1234",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/billcycle/BC-1234",
        "@referredType": "BillCycle",
        "@type": "BillCycleRef"
    },
    "billDate": "2020-01-05T12:00:56.982Z",
    "billDocument": [
        {


             "id": "DOC_1234",
            "href": "http://server:port/tmf-
api/Document_Management/v5/document/DOC_1234",
            "attachmentType": "application/pdf",
            "content": "bill",
            "description": "regular monthly bill",
            "mimeType": "application/pdf",
            "size": 172851,
            "validfor": {
                "startDateTime": "2020-01-05T12:00:56.982Z",
                "endDateTime": "9999-12-31T23:59:59.999Z"
            },
            "@type": "Attachment"
        }
    ],
    "billingAccount": {
        "id": "A0815",
        "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "financialAccount": {
        "id": "FA12345",
        "href": "http://host:port/tmf-
api/Account_Management/v5/financialAccount/FA12345",
        "name": "FA Peter Retep",
        "@referredType": "FinancialAccount",
        "@type": "FinancialAccountRef"
    },
    "category": "normal",
    "lastUpdate": "2020-01-05T12:00:56.982Z",
    "nextBillDate": "2020-02-05T12:00:00.000Z",
    "paymentDueDate": "2020-01-15T00:00:00.000Z",
    "remainingAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "runType": "onCycle",
    "status": "onHold",
    "taxExcludedAmount": {
        "unit": "EUR",
        "value": 40.0
    },
    "taxIncludedAmount": {
        "unit": "EUR",
        "value": 50.0
    },
    "taxItem": [
        {
            "taxAmount": {
                "unit": "EUR",
                "value": 10.0
            },
            "taxCategory": "VAT",
            "taxRate": 0.25,
            "@type": "TaxItem"
        }
    ],
    "@type": "CustomerBill"
}


 
Operations on CustomerBillOnDemand
List or find CustomerBillOnDemand objects
GET /customerBillOnDemand?fields=…
Description
This operation list CustomerBillOnDemand entities. Attribute selection is enabled for all first
level attributes. Filtering may be available depending on the compliance level supported by
an implementation.
Usage samples
Here is an example of a request for retrieving a list of CustomerBillOnDemand requests.
Fields limited to id, href, billing account.
Request
GET /customerBillOnDemand?fields=id,href,billingAccount
Content-Type: application/json
Response
200
[
    {
        "id": "D123",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/customerBillOnDemand/D123",
        "billingAccount": {
            "id": "A0815",
            "href": "http://server:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
            "name": "BA Peter Retep",
            "@referredType": "BillingAccount",
            "@type": "BillingAccountRef"
        },
    "@type": "CustomerBillOnDemand"
    },
    {
        "id": "D12345",
        "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/customerBillOnDemand/D12345",
        "billingAccount": {
            "id": "A4712",
            "href": "http://server:port/tmf-
api/Account_Management/v5/billingAccount/A4712",
            "name": "BA Claire Erialc",
            "@referredType": "BillingAccount",
            "@type": "BillingAccountRef"
        },
    "@type": "CustomerBillOnDemand"
    }


 ]
Retrieves a CustomerBillOnDemand by ID
GET /customerBillOnDemand/{id}?fields=…
Description
This operation retrieves a CustomerBillOnDemand entity. Attribute selection is enabled for all
first level attributes. Filtering may be available depending on the compliance level supported
by an implementation.
Usage samples
Here is an example of a request for retrieving a single CustomerBillOnDemand request.
Request
GET /customerBillOnDemand/D123
Content-Type: application/json
Response
200
{
    "id": "D123",
    "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/customerBillOnDemand/D123",
    "description": "Customer bill on demand",
    "lastUpdate": "2020-01-19T12:34:56.123Z",
    "name": "BillOnCustomerDemand",
    "billingAccount": {
        "id": "A0815",
        "href": "http://server:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
    },
    "relatedParty": {
        "role": "requester",
        "@type": "RelatedPartyRefOrRelatedPartyRoleRef",
        "partyOrPartyRole": {
            "id": "RP0815",
            "href": "http://server:port/tmf-api/Party_Management/v5/party/RP0815",
            "name": "Peter Retep",
            "@referredType": "Individual",
            "@type": "PartyRef"
        }
    },
    "state": "inProgress",
    "@type": "CustomerBillOnDemand"
}


 
Creates a CustomerBillOnDemand
POST /customerBillOnDemand?fields=…
Description
This operation creates a CustomerBillOnDemand entity.
Mandatory Attributes
Mandatory Attributes
Rule
billingAccount
billingAccount.@type
billingAccount.id
@type
Usage samples
Here is an example of a request for a CustomerBillOnDemand.
Request
POST /customerBillOnDemand
Content-Type: application/json
{
    "description": "Customer bill on demand",
    "lastUpdate": "2020-01-19T12:34:56.123Z",
    "name": "BillOnCustomerDemand",
    "billingAccount": {
        "id": "A0815",
        "@type": "BillingAccountRef",
        "@referredType": "BillingAccount"
    },
    "relatedParty": {
        "role": "requester",
        "@type": "RelatedPartyRefOrRelatedPartyRoleRef",
        "partyOrPartyRole": {
            "id": "RP0815",
            "@referredType": "Individual",
            "@type": "PartyRef"
        }
    },
    "@type": "CustomerBillOnDemand"
}
Response
201
{
    "id": "D123",


     "href": "http://server:port/tmf-
api/Customer_Bill_Management/v5/customerBillOnDemand/D123",
    "description": "Customer bill on demand",
    "lastUpdate": "2020-01-19T12:34:56.123Z",
    "name": "BillOnCustomerDemand",
    "state": "inProgress",
    "billingAccount": {
        "id": "A0815",
        "href": "http://server:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
        "name": "BA Peter Retep",
        "@referredType": "BillingAccount",
        "@type": "BillingAccountRef"
        },
    "relatedParty": {
        "role": "requester",
        "@type": "RelatedPartyRefOrRelatedPartyRoleRef",
        "partyOrPartyRole": {
            "id": "RP0815",
            "href": "http://server:port/tmf-api/Party_Management/v5/party/RP0815",
            "name": "Peter Retep",
            "@referredType": "Individual",
            "@type": "PartyRef"
        }
    },
    "@type": "CustomerBillOnDemand"
}
Operations on AppliedCustomerBillingRate
Retrieves a AppliedCustomerBillingRate by ID
GET /appliedCustomerBillingRate/{id}?fields=…
Description
This operation retrieves an AppliedCustomerBillingRate entity. Attribute selection is enabled
for all first level attributes. Filtering may be available depending on the compliance level
supported by an implementation.
Usage samples
Here is an example of a request for retrieving a single AppliedCustomerBillingRate. The
customer bill id is set to ACBR-123.
Request
GET /appliedCustomerBillingRate/ACBR-123
Content-Type: application/json
Response
200


 {
    "id": "ACBR-123",
    "href": "https:/host:port/tmf-
api/Customer_Bill_Management/v5/appliedCustomerBillingRate/ACBR-123",
  "appliedBillingRateType": "monthly",
  "date": "2020-01-19T13:38:18.938Z",
  "isBilled": true,
  "name": "Rental Fee",
  "appliedTax": [
    {
      "taxCategory": "VAT",
      "taxRate": 20,
      "taxAmount": {
        "unit": "EUR",
        "value": 100
      },
      "@type": "AppliedBillingTaxRate"
    }
  ],
  "bill": {
    "id": "B123",
    "href": "http://server:port/api/bill/v5/B123",
    "name": "customer bill",
    "@referredType": "CustomerBill",
    "@type": "CustomerBillRef"
  },
  "billingAccount": {
    "id": "A0815",
    "href": "http://server:port/api/billingAccount/v5/A0815",
    "name": "BA Peter Retep",
    "@referredType": "BillingAccount",
    "@type": "BillingAccountRef"
  },
  "characteristic": [
    {
      "name": "message",
      "valueType": "string",
      "@type": "StringCharacteristic",
      "value": "Special discount this[ month only"
    }
  ],
  "periodCoverage": {
    "endDateTime": "2019-12-31T23:59:59.999Z",
    "startDateTime": "2019-12-01T00:00:00.000Z"
  },
  "product": {
    "id": "P-wfs-123",
    "href": "http://server:port/api/product/v5/P-wfs-123",
    "name": "CSPs wonderful fiber service",
    "@referredType": "Product",
    "@type": "ProductRef"
  },
  "taxExcludedAmount": {
    "unit": "EUR",
    "value": 40.00
  },
  "taxIncludedAmount": {
    "unit": "EUR",
    "value": 50.00
  },
  "@type": "AppliedCustomerBillingRate"
}


 
List or find AppliedCustomerBillingRate objects
GET /appliedCustomerBillingRate?fields=…
Description
This operation list AppliedCustomerBillingRate entities. Attribute selection is enabled for all
first level attributes. Filtering may be available depending on the compliance level supported
by an implementation.
Usage samples
Here is an example of a request for retrieving a list of AppliedCustomerBillingRates.
Request
GET /appliedCustomerBillingRate
Content-Type: application/json
Response
200
[
    {
        "id": "ACBR-123",
        "href": "https:/host:port/tmf-
api/Customer_Bill_Management/v5/appliedCustomerBillingRate/ACBR-123",
        "@type": "AppliedCustomerBillingRate",
        "name": "voice usage",
        "type": "appliedCustomerBillingRate",
        "isBilled": false,
        "billingAccount": {
            "id": "A0815",
            "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
            "name": "BA Peter Retep",
            "@referredType": "BillingAccount",
            "@type": "BillingAccountRef"
        },
        "date": "2019-12-07T13:02:34.123Z",
        "description": "voice usage.",
        "product": {
            "id": "PROD-123",
            "href": "http://host:port/tmf-api/product_Inventory/v5/product/PROD-
123",
            "name": "Voice service",
            "@referredType": "Product",
           "@type": "ProductRef"
       },
        "taxExcludedAmount": {
            "unit": "EUR",
            "value": 0.04
        },
        "taxIncludedAmount": {
            "unit": "EUR",
            "value": 0.05


         },
        "appliedTax": [
            {
                "taxCategory": "VAT",
                "taxRate": 0.2,
                "taxAmount": {
                    "unit": "EUR",
                    "value": 0.01
                },
            "@type": "AppliedTaxRate"
            }
        ]
    },
    {
        "id": "ACBR-124",
        "href": "https:/host:port/tmf-
api/Customer_Bill_Management/v5/appliedCustomerBillingRate/ACBR-124",
        "@type": "AppliedCustomerBillingRate",
        "name": "voice usage",
        "type": "appliedCustomerBillingRate",
        "isBilled": true,
        "billingAccount": {
            "id": "A0815",
            "href": "http://host:port/tmf-
api/Account_Management/v5/billingAccount/A0815",
            "name": "BA Peter Retep",
            "@referredType": "BillingAccount",
            "@type": "BillingAccountRef"
        },
        "customerBill": {
            "id": "CB-123",
            "href": "https://server:port/tmf-
api/Customer_Bill_Management/v5/customerBill/CB-123",
            "@referredType": "CustomerBill",
            "@type": "CustomerBillRef"
        },
        "date": "2019-11-29T17:02:34.123Z",
        "description": "voice usage.",
        "product": {
            "id": "PROD-123",
            "href": "http://host:port/tmf-api/product_Inventory/v5/product/PROD-
123",
            "name": "Voice service",
            "@referredType": "Product",
            "@type": "ProductRef"
        },
        "taxExcludedAmount": {
            "unit": "EUR",
            "value": 0.4
        },
        "taxIncludedAmount": {
            "unit": "EUR",
            "value": 0.5
        },
        "appliedTax": [
            {
                "taxCategory": "VAT",
                "taxRate": 0.2,
                "taxAmount": {
                    "unit": "EUR",
                    "value": 0.1
                },
            "@type": "AppliedTaxRate"


             }
        ]
    }
]


 API NOTIFICATIONS
For every single of operation on the entities use the following templates and provide sample
REST notification POST calls.
It is assumed that the Pub/Sub uses the Register and UnRegister mechanisms described in
the REST Guidelines reproduced below.
Register listener
POST /hub
Description
Sets the communication endpoint address the service instance must use to deliver
information about its health state, execution state, failures and metrics. Subsequent POST
calls will be rejected by the service if it does not support multiple listeners. In this case
DELETE /api/hub/{id} must be called before an endpoint can be created again.
Behavior
Returns HTTP/1.1 status code 204 if the request was successful.
Returns HTTP/1.1 status code 409 if request is not successful.
Usage Samples
Here’s an example of a request for registering a listener.
Request
POST /api/hub
Accept: application/json
{
    "callback": "http://in.listener.com"
}
Response
201
Content-Type: application/json
Location: /api/hub/42
{
    "id":"42",
    "callback": "http://in.listener.com",
    "query":""
}


 
Unregister listener
DELETE /hub/{id}
Description
Clears the communication endpoint address that was set by creating the Hub..
Behavior
Returns HTTP/1.1 status code 204 if the request was successful.
Returns HTTP/1.1 status code 404 if the resource is not found.
Usage Samples
Here’s an example of a request for un-registering a listener.
Request
DELETE /api/hub/42
Accept: application/json
Response
204
Publish Event to listener
POST /client/listener
Description
Clears the communication endpoint address that was set by creating the Hub.
Provides to a registered listener the description of the event that was raised. The
/client/listener url is the callback url passed when registering the listener.
Behavior
Returns HTTP/1.1 status code 201 if the service is able to set the configuration.
Usage Samples
Here’s an example of a notification received by the listener. In this example “EVENT TYPE”
should be replaced by one of the notification types supported by this API (see Notification
resources Models section) and EVENT BODY refers to the data structure of the given
notification type.
Request


 
POST /client/listener
Accept: application/json
{
    "event": {
        EVENT BODY
    },
    "eventType": "EVENT_TYPE"
}
Response
201
For detailed examples on the general TM Forum notification mechanism, see the TMF REST
Design Guidelines.


 Acknowledgements
Release History
Release
Number
Date
Release led by:
Description
Version1.0.0
15-Apr-2016
Pierre Gauthier TM Forum
pgauthier@tmforum.org
Sophie 
Bouleau 
Orange
sophie.bouleau@orange.co
m
Initial Document.
Generated from API Data Model.
Version 2.0.0
03-Mar-2017
Pierre Gauthier TM Forum
pgauthier@tmforum.org
Sophie 
Bouleau 
Orange
sophie.bouleau@orange.co
m
New 
version 
taking 
into 
account
various 
remarks 
from 
tmforum
members.
Generated from API Data Model and
completed 
with 
use 
cases 
and
samples.
Version 2.0.1
18-Sep-2017
Pierre Gauthier TM Forum
pgauthier@tmforum.org
Sophie 
Bouleau 
Orange
sophie.bouleau@orange.co
m
Jia 
Jiangtao 
Huawei
jiajiangtao@huawei.com
New 
version 
introducing 
the
CustomerBillOnDemand resource and
operations
In CustomerBill resource, PaymentItem
is renamed in AppliedPayment and
Document 
in 
Attachment 
(to 
be
conform with Document Management
API)
Release
17.5.0
Version 2.0.2
22-Jan-2018
Adrienne Walcott
• Formatting/style 
edits 
prior 
to
publishing
Version 4.0
22-Jan-2020
Lucius 
Gruber 
(Deutsche
Telekom IT GmbH)
l.gruber@telekom.de
Refactoring 
according 
to
schemafication.
Introducing refactored resources for
BillCycle & BillCycleSpec
Version 5.0.0
March 2023
Jonathan Goldberg
Amdocs
Jonathan.Goldberg@amdoc
s.com
Upgrade to V5 design patterns and
OAS3, and removed BillCycleSpec in
favor of existing BillCycleSpecification
Contributors to Document
* Sophie Bouleau
Orange
• Jia Jiangtao
Huawei
• Mariano Belaunde
Orange


 
* Sophie Bouleau
Orange
• Pierre Gauthier
TM Forum
• Lucius Gruber
Deutsche Telekom
• Pierre Gauthier
TM Forum
• Jonathan Goldberg
Amdocs


