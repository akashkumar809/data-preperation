 
 
 
TM Forum Specification 
 
 
TMF 727 Service Usage 
Management API REST Specification 
 
 
 
 
 
TMF727 
Release 22.0 
Aug 2022 
 
 
Latest Update: TM Forum Release 22.0 
Member Evaluation 
Version 4.0.0 
 
 
 
 
IPR Mode: RAND 


NOTICE 
Copyright © TM Forum 2022. All Rights Reserved. 
 
This document and translations of it may be copied and furnished to others, and derivative works that comment on 
or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in 
whole or in part, without restriction of any kind, provided that the above copyright notice and this section are 
included on all such copies and derivative works. However, this document itself may not be modified in any way, 
including by removing the copyright notice or references to TM FORUM, except as needed for the purpose of 
developing any document or deliverable produced by a TM FORUM Collaboration Project Team (in which case the 
rules applicable to copyrights, as set forth in the TM FORUM IPR Policy, must be followed) or as required to 
translate it into languages other than English. 
 
The limited permissions granted above are perpetual and will not be revoked by TM FORUM or its successors or 
assigns. 
 
This document and the information contained herein is provided on an "AS IS" basis and TM FORUM DISCLAIMS 
ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF 
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
 
Direct inquiries to the TM Forum office: 
 
4 Century Drive, Suite 100 
Parsippany, NJ 07054, USA 
Tel No. +1 973 944 5100 
Fax No. +1 973 944 5110 
TM Forum Web Page: www.tmforum.org 
 


Table of Contents 
NOTICE ............................................................................................................................................................................ 2 
Table of Contents ............................................................................................................................................................ 3 
List of Tables ................................................................................................................................................................... 3 
Introduction .................................................................................................................................................................... 4 
SAMPLE USE CASES ......................................................................................................................................................... 5 
Support of polymorphism and extension patterns ........................................................................................................ 6 
RESOURCE MODEL .......................................................................................................................................................... 7 
Managed Entity and Task Resource Models ................................................................................................................... 7 
FIRST resource ................................................................................................................. Error! Bookmark not defined. 
Notification Resource Models ...................................................................................................................................... 23 
First Notification .............................................................................................................. Error! Bookmark not defined. 
API OPERATIONS ........................................................................................................................................................... 28 
VERB  url .......................................................................................................................... Error! Bookmark not defined. 
API NOTIFICATIONS....................................................................................................................................................... 48 
Register listener ............................................................................................................................................................ 48 
Unregister listener ........................................................................................................................................................ 49 
Publish Event to listener ............................................................................................................................................... 49 
Acknowledgements ...................................................................................................................................................... 51 
Release History ............................................................................................................................................................. 51 
Contributors to Document............................................................................................................................................ 51 
List of Tables 
 
 
 


Introduction 
 
This document is the user-guide of the REST API for Service Usage Management. It includes the data model 
definition as well as all available operations for the ServiceUsage and ServiceUsageSpecification resources. 
The ServiceUsage API provides a standardized mechanism for service usage management such as the creation, 
update, retrieval, import and export of a collection of service usages. A service usage is an occurrence of usage on a 
Service derived from various Resource usages, which can be further used by BSS for determining the Product usage. 
It is comprised of characteristics, which represent attributes of service usage. 
The ServiceUsage API performs the following operations on the ServiceUsage resource: 
- 
Retrieval of a ServiceUsage or a collection of ServiceUsage, depending on filter criteria 
- 
Partial update of a ServiceUsage or of a collection of ServiceUsage 
- 
Creation of a ServiceUsage 
The ServiceUsageSpecification API provides a standardized mechanism for service usage specification management 
such as the creation, update, retrieval of a service usage specification. Service Usage Specification defines the 
detailed description of a service usage event that are of interest to the business. It is comprised of characteristics, 
which define all attributes known for a particular type of usage.  
The ServiceUsageSpecification API perform the following operations on the ServiceUsageSpecification resource: 
- 
Retrieval of a ServiceUsageSpecification or a collection of ServiceUsageSpecification, depending on filter 
criteria 
- 
Partial update of a ServiceUsageSpecification or of a collection of ServiceUsageSpecification 
- 
Creation of a ServiceUsageSpecification 
 


SAMPLE USE CASES 
 
A few simple use-cases are presented:  
• 
Creation of a simple ServiceUsageSpecification, defining the characteristics of a voice call (caller and 
receipient numbers, start and stop date-and-time); listing ServiceUsageSpecification’s ; retrieving a single 
ServiceUsageSpecification and ultimately its deletion based on the same id. 
• 
Creation of a simple Usage relating to a voice call; listing Usage of serviceusageType “Voice”; retrieving a 
specific Usage based on it’s id; and archiving the service usage based this Usage based on the same id; then 
ultimately deleting the service usage based on the same id 
• 
Creation of a simple Usage relating to a voice mail retrieval; listing Usage of serviceusageType “Voicemail 
Retrieval”; retrieving a specific Usage based on it’s id; and archiving the service usage based this Usage 
based on the same id; then ultimately deleting the service usage based on the same id 
• 
Creation of a simple service Usage relating to a duration when a service instance or a feature is in active 
state (e.g. user activated an internet service for 30 minutes, user activated speed boost feature) to enable a 
consumption based service usage pattern; retrieving a specific Usage based on it’s id; archiving the service 
usage based this Usage based on the same id ; then ultimately deleting the service usage based on the 
same id 
 
 


Support of polymorphism and extension  
 
Support of polymorphic collections and types and schema based extension is provided by means of a list of generic 
meta-attributes that we describe below. Polymorphism in collections occurs when entities inherit from base 
entities, for instance a TypeAServiceUsage or TypeBServiceUsage inheriting properties from the base ServiceUsage 
entity. 
Generic support of polymorphism and pattern extensions is described in the TMF API Guidelines v4.0 Part 2 
document. 
The @type attribute provides a way to represent the actual class type of an entity. For example, within a list of 
ServiceUsage instances some may be instances of TypeAServiceUsage and some of TypeBServiceUsage. The @type 
gives this information. All resources and sub-resources of this API have a @type attributes that can be provided 
when this is useful. 
The @referredType can be used within reference entities (like for instance a RelatedParty object) to explicitly 
denote the actual entity type of the referred class. Notice that in reference entities the @type, when used, denotes 
the class type of the reference itself, such as RelatedParty, and not the class type of the referred object. However 
since reference classes are rarely sub-classed, @type is generally not useful in reference objects. 
The @schemaLocation property can be used in resources to allow specifying user-defined properties of an Entity or 
to specify the expected characteristics of an entity. 
The @baseType attribute gives a way to provide explicitly the base of class of a given resource that has been 
extended. 
 
 
 


RESOURCE MODEL 
Managed Entity and Task Resource Models 
Service Usage resource 
An occurrence of usage on a Service derived from various resource usages. It is comprised of characteristics, which 
represent attributes of service usage. 
Resource model 




Field descriptions 
ServiceUsage fields 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
description 
A string. Description of service usage. 
relatedParty 
A list of related parties (RelatedParty [*]). Related Entity reference. A related party 
defines party or party role linked to a specific entity. 
service 
A service reference (ServiceRef). for when Service is used by other entities. 
status 
A service usage status type (ServiceUsageStatusType). Possible values for the status of 
the Usage. 
usageCharacteristic 
A list of service usage characteristics (ServiceUsageCharacteristic [*]). Provides the 
value of a given characteristic. 
usageDate 
A date time (DateTime). Date of usage. 
usageSpecification 
A service usage specification reference (ServiceUsageSpecificationRef). 
UsageSpecification reference. UsageSpecification is a detailed description of a service 
usage event that are of interest to the business. It is comprised of characteristics, 
which define all attributes known for a particular type of usage. 
usageType 
A string. Type of usage. 
CharacteristicRelationship sub-resource 
Another Characteristic that is related to the current Characteristic. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. Unique identifier of the characteristic. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 


relationshipType 
A string. The type of relationship. 
RelatedParty sub-resource 
Related Entity reference. A related party defines party or party role linked to a specific entity. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
role 
A string. Role played by the related party. 
ServiceUsageCharacteristic sub-resource 
Provides the value of a given characteristic. 
id 
A string. Unique identifier of the characteristic. 
name 
A string. Name of the characteristic. 
valueType 
A string. Data type of the value of the characteristic. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
characteristicRelationship A list of characteristic relationships (CharacteristicRelationship [*]). Another 
Characteristic that is related to the current Characteristic. 
value 
An any (Any). The value of the characteristic. 
ServiceRef relationship 
Service reference, for when Service is used by other entities. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 


href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
ServiceUsageSpecificationRef relationship 
UsageSpecification reference. UsageSpecification is a detailed description of a service usage event that are of 
interest to the business. It is comprised of characteristics, which define all attributes known for a particular type of 
usage. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. The name of the usage specification. 
Json representation sample 
We provide below the json representation of an example of a 'ServiceUsage' resource object 
{ 
    "id": "5130d5131a23", 
    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsage/5130d5131a23", 
    "usageDate": "2020-11-20T16:07:00Z", 
    "description": "Voice Call", 
    "usageType": "Voice", 
    "status": "generated", 
    "@type": "ServiceUsage", 
    "service": { 
        "id": "8132-b246a6746137", 
        "href": "https://api.csp.com/tmf-api/serviceInventory/v4/service/8132-b246a6746137", 
        "name": "Ivor voice service" 
    }, 
    "usageSpecification": { 
        "id": "8b64-0cfd1a90c9ed", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
        "name": "Voice Call Usage Specification", 


        "@referredType": "ServiceUsageSpecification" 
    }, 
    "relatedParty": [ 
        { 
            "id": "8185-b246a6746136", 
            "href": "https://api.csp.com/tmf-api/partyManagement/v4/individual/8185-b246a6746136", 
            "name": "Ivor Message", 
            "role": "Customer", 
            "@referredType": "Individual" 
        } 
    ], 
    "usageCharacteristic": [ 
        { 
            "name": "originatingCountryCode", 
            "value": "43" 
        }, 
        { 
            "name": "originatingNumber", 
            "value": "676123456789" 
        }, 
        { 
            "name": "destinationCountryCode", 
            "value": "49" 
        }, 
        { 
            "name": "destinationNumber", 
            "value": "170123456789" 
        }, 
        { 
            "name": "duration", 
            "value": 20 
        }, 
        { 
            "name": "unit", 
            "value": "SEC" 
        } 
    ] 
} 
Service Usage Specification resource 
A detailed description of a service usage event that are of interest to the business. It is comprised of characteristics, 
which define all attributes known for a particular type of usage. 
Resource model 


 
Field descriptions 
ServiceUsageSpecification fields 
description 
A string. Description of the specification. 
isBundle 
A boolean. isBundle determines whether specification represents a single 
specification (false), or a bundle of specifications (true). 
lastUpdate 
A date time (DateTime). Date and time of the last update of the specification. 
lifecycleStatus 
A string. Used to indicate the current lifecycle status of this catalog item. 
name 
A string. Name given to the specification. 


version 
A string. specification version. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
serviceSpecification 
A service specification reference (ServiceSpecificationRef). 
ServiceSpecification(s) required to realize a ProductSpecification. 
serviceUsageSpecRelationship A list of service usage spec relationships (ServiceUsageSpecRelationship [*]). A 
list of service usage specifications related to this specification, e.g. migration, 
substitution, dependency or exclusivity relationship. 
attachment 
A list of attachment ref or values (AttachmentRefOrValue [*]). Attachments that 
may be of relevance to this specification, such as picture, document, media. 
constraint 
A list of constraint references (ConstraintRef [*]). This is a list of constraint 
references applied to this specification. 
entitySpecRelationship 
A list of entity specification relationships (EntitySpecificationRelationship [*]). 
Relationship to another specification. 
relatedParty 
A list of related parties (RelatedParty [*]). Parties who manage or otherwise 
have an interest in this specification. 
specCharacteristic 
A list of characteristic specifications (CharacteristicSpecification [*]). List of 
characteristics that the entity can take. 
targetEntitySchema 
A target entity schema (TargetEntitySchema). Pointer to a schema that defines 
the target entity. 
validFor 
A time period. The period for which this REST resource is valid. 
AttachmentRefOrValue sub-resource 
An attachment by value or by reference. An attachment complements the description of an element, for example 
through a document, a video, a picture. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
description 
A string. A narrative text describing the content of the attachment. 
href 
An uri (Uri). URI for this Attachment. 


id 
A string. Unique identifier for this particular attachment. 
url 
An uri (Uri). Remote reference to the content if web-addressable. 
name 
A string. The name of the attachment. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
attachmentType 
A string. Attachment type such as video, picture. 
content 
A base 6 4 (Base64). The actual contents of the attachment object, if embedded, 
encoded as base64. 
mimeType 
A string. Attachment mime type such as extension file for video, picture and 
document. 
size 
A quantity (Quantity). The size of the attachment. 
validFor 
A time period. The period of time for which the attachment is valid. 
CharacteristicSpecification sub-resource 
This class defines a characteristic specification. 
@valueSchemaLocation 
A string. This (optional) field provides a link to the schema describing the value 
type. 
configurable 
A boolean. If true, the Boolean indicates that the target Characteristic is 
configurable. 
description 
A string. A narrative that explains the CharacteristicSpecification. 
extensible 
A boolean. An indicator that specifies that the values for the characteristic can 
be extended by adding new values when instantiating a characteristic for a 
resource. 
id 
A string. Unique ID for the characteristic. 
isUnique 
A boolean. Specifies if the value of this characteristic is unique across all 
entities instantiated from the specification that uses this characteristc. For 
example, consider a ProductSpecification for a set-top box, with a 
CharacteristicSpecification cardID. Each set-top box must have a different 
value for cardID, so this isUnique attribute would be set to true for the 
characteristic. 


maxCardinality 
An integer. The maximum number of instances a CharacteristicValue can take 
on. For example, zero to five phone numbers in a group calling plan, where 
five is the value for the maxCardinality. 
minCardinality 
An integer. The minimum number of instances a CharacteristicValue can take 
on. For example, zero to five phone numbers in a group calling plan, where 
zero is the value for the minCardinality. 
name 
A string. A word, term, or phrase by which this characteristic specification is 
known and distinguished from other characteristic specifications. 
regex 
A string. A rule or principle represented in regular JsonLdExpression used to 
derive the value of a characteristic value. 
valueType 
A string. A kind of value that the characteristic can take on, such as numeric, 
text and so forth. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
charSpecRelationship 
A list of characteristic specification relationships 
(CharacteristicSpecificationRelationship [*]). An aggregation, migration, 
substitution, dependency or exclusivity relationship between/among 
Specification Characteristics. 
characteristicValueSpecification A list of characteristic value specifications (CharacteristicValueSpecification 
[*]). A CharacteristicValueSpecification object is used to define a set of 
attributes, each of which can be assigned to a corresponding set of attributes 
in a CharacteristicSpecification object. The values of the attributes in the 
CharacteristicValueSpecification object describe the values of the attributes 
that a corresponding Characteristic object can take on. 
validFor 
A time period. The period of time for which a characteristic is applicable. 
CharacteristicSpecificationRelationship sub-resource 
An aggregation, migration, substitution, dependency or exclusivity relationship between/among Characteristic 
specifications. The specification characteristic is embedded within the specification whose ID and href are in this 
entity, and identified by its ID. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 


@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
characteristicSpecificationId A string. Unique identifier of the characteristic within the specification. 
name 
A string. Name of the target characteristic within the specification. 
parentSpecificationHref 
An uri (Uri). Hyperlink reference to the parent specification containing the target 
characteristic. 
parentSpecificationId 
A string. Unique identifier of the parent specification containing the target 
characteristic. 
relationshipType 
A string. Type of relationship such as aggregation, migration, substitution, 
dependency, exclusivity. 
validFor 
A time period. The period for which the object is valid. 
CharacteristicValueSpecification sub-resource 
specification of a value (number or text or an object) that can be assigned to a Characteristic. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
isDefault 
A boolean. If true, the Boolean Indicates if the value is the default value for a 
characteristic. 
rangeInterval 
A string. An indicator that specifies the inclusion or exclusion of the valueFrom and 
valueTo attributes. If applicable, possible values are "open", "closed", "closedBottom" 
and "closedTop". 
regex 
A string. A regular JsonLdExpression constraint for given value. 
unitOfMeasure 
A string. A length, surface, volume, dry measure, liquid measure, money, weight, 
time, and the like. In general, a determinate quantity or magnitude of the kind 
designated, taken as a standard of comparison for others of the same kind, in 
assigning to them numerical values, as 1 foot, 1 yard, 1 mile, 1 square foot. 
validFor 
A time period. The period of time for which a value is applicable. 
value 
An any (Any). A discrete value that the characteristic can take on, or the actual value 
of the characteristic. 
valueFrom 
An integer. The low range value that a characteristic can take on. 
valueTo 
An integer. The upper range value that a characteristic can take on. 


valueType 
A string. A kind of value that the characteristic value can take on, such as numeric, 
text and so forth. 
EntitySpecificationRelationship sub-resource 
A migration, substitution, dependency or exclusivity relationship between/among entity specifications. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
associationSpec 
An association specification reference (AssociationSpecificationRef). A specification 
for an association used by this relationship. 
relationshipType 
A string. Type of relationship such as migration, substitution, dependency, exclusivity. 
role 
A string. The association role for this entity specification. 
validFor 
A time period. The period for which the entitySpecRelationship is valid. 
Quantity sub-resource 
An amount in a given unit. 
amount 
A float. Numeric value in a given unit. 
units 
A string. Unit. 
RelatedParty sub-resource 
Related Entity reference. A related party defines party or party role linked to a specific entity. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 


@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
role 
A string. Role played by the related party. 
ServiceUsageSpecRelationship sub-resource 
A dependency, substitution or exclusivity relationship between/among service usage specifications. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
relationshipType 
A string. Type of relationship such as dependency, substitution or exclusivity. 
role 
A string. The association role for this service specification. 
validFor 
A time period. The period for which the serviceUsageSpecRelationship is valid. 
TargetEntitySchema sub-resource 
The reference object to the schema and type of target entity which is described by a specification. 
@schemaLocation 
A string. This field provides a link to the schema describing the target entity. 
@type 
A string. Class type of the target entity. 
AssociationSpecificationRef relationship 
reference to an AssociationSpecification object. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 


@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
ConstraintRef relationship 
Constraint reference. The Constraint resource represents a policy/rule applied to an entity or entity spec. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
version 
A string. constraint version. 
ServiceSpecificationRef relationship 
Service specification reference: ServiceSpecification(s) required to realize a ProductSpecification. 
@referredType 
A string. The actual type of the target instance when needed for disambiguation. 
name 
A string. Name of the related entity. 
href 
An uri (Uri). Hyperlink reference. 
id 
A string. unique identifier. 
@baseType 
A string. When sub-classing, this defines the super-class. 
@schemaLocation 
An uri (Uri). A URI to a JSON-Schema file that defines additional attributes and 
relationships. 
@type 
A string. When sub-classing, this defines the sub-class Extensible name. 
version 
A string. Service specification version. 
Json representation sample 
We provide below the json representation of an example of a 'ServiceUsageSpecification' resource object 


{ 
    "id": "8b64-0cfd1a90c9ed", 
    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
    "description": "Specification for voice calls usage", 
    "name": "Voice-Call-Specification", 
    "specCharacteristic": [ 
        { 
            "name": "originatingCountryCode", 
            "description": "country code of the caller", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1, 
            "isUnique": true 
        }, 
        { 
            "name": "originatingNumber", 
            "description": "phone number of the caller", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1, 
            "isUnique": true 
        }, 
        { 
            "name": "destinationCountryCode", 
            "description": "country code of the called party", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1, 
            "isUnique": true 
        }, 
        { 
            "name": "destinationNumber", 
            "description": "phone number of the called party", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1, 
            "isUnique": true 
        }, 
        { 
            "name": "duration", 
            "description": "duration of the call", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "unit", 
            "description": "unit of the duration", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 0, 


            "maxCardinality": 1, 
            "characteristicValueSpecification": [ 
                { 
                    "isDefault": true, 
                    "value": "SEC" 
                } 
            ] 
        }, 
        { 
            "name": "startDateTime", 
            "description": "startdate and starttime of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 0, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "endDateTime", 
            "description": "enddate and endtime of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 0, 
            "maxCardinality": 1 
        } 
    ], 
    "validFor": { 
        "startDateTime": "2022-02-20T17:00:00.000Z", 
        "endDateTime": "2099-01-11T00:00:00.000Z" 
    } 
} 
 
Note that a ServiceUsage instance can reference multiple RelatedParty instances – such as the person who made a 
voice call, or consumed a service. It must have a reference to a ServiceUsageSpecification, which will define the 
characteristics relevant to this serviceusage type. These may be discrete or ranged, or have relationships to each 
other – as defined in the ServiceUsageSpecification data model. 
This is an illustrative state machine diagram for the ServiceUsage resource: 


 
Usage State definitions: 
The following table provides usage state descriptions: 
State 
Definition 
generated 
Service Provider domain create an instance of Service Usage in the generated state created 
archived 
Service Provider domain archives the instances of service usage for historical records purpose   
 
Notification Resource Models 
 
6 notifications are defined for this API 
Notifications related to ServiceUsage: 
    - ServiceUsageCreateEvent 
    - ServiceUsageStatusChangeEvent 
    - ServiceUsageDeleteEvent 
Notifications related to ServiceUsageSpecification: 
    - ServiceUsageSpecificationCreateEvent 
    - ServiceUsageSpecificationAttributeValueChangeEvent 
    - ServiceUsageSpecificationDeleteEvent 


The notification structure for all notifications in this API follow the pattern depicted by the figure below. 
A notification event resource (depicted by "SpecificEvent" placeholder) is a sub class of a generic Event structure 
containing at least an id of the event occurrence (eventId), an event timestamp (eventTime), and the name of the 
resource (eventType).  
This notification structure owns an event payload structure ("SpecificEventPayload" placeholder) linked to the 
resource concerned by the notification using the resource name as access field ("resourceName" placeholder). 
 
Service Usage Create Event 
Notification ServiceUsageCreateEvent case for resource ServiceUsage 
Json representation sample 


We provide below the json representation of an example of a 'ServiceUsageCreateEvent' notification event object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 
    "eventType":"ServiceUsageCreateEvent", 
     "event": { 
        "serviceUsage" :  
            {-- SEE ServiceUsage RESOURCE SAMPLE --} 
    } 
} 
 
Service Usage Status Change Event 
Notification ServiceUsageStatusChangeEvent case for resource ServiceUsage 
Json representation sample 
We provide below the json representation of an example of a 'ServiceUsageStatusChangeEvent' notification event 
object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 
    "eventType":"ServiceUsageStatusChangeEvent", 
     "event": { 
        "serviceUsage" :  
            {-- SEE ServiceUsage RESOURCE SAMPLE --} 
    } 
} 
 
Service Usage Delete Event 
Notification ServiceUsageDeleteEvent case for resource ServiceUsage 
Json representation sample 
We provide below the json representation of an example of a 'ServiceUsageDeleteEvent' notification event object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 
    "eventType":"ServiceUsageDeleteEvent", 
     "event": { 
        "serviceUsage" :  
            {-- SEE ServiceUsage RESOURCE SAMPLE --} 
    } 
} 
 
Service Usage Specification Create Event 


Notification ServiceUsageSpecificationCreateEvent case for resource ServiceUsageSpecification 
Json representation sample 
We provide below the json representation of an example of a 'ServiceUsageSpecificationCreateEvent' notification 
event object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 
    "eventType":"ServiceUsageSpecificationCreateEvent", 
     "event": { 
        "serviceUsageSpecification" :  
            {-- SEE ServiceUsageSpecification RESOURCE SAMPLE --} 
    } 
} 
 
Service Usage Specification Attribute Value Change Event 
Notification ServiceUsageSpecificationAttributeValueChangeEvent case for resource ServiceUsageSpecification 
Json representation sample 
We provide below the json representation of an example of a 
'ServiceUsageSpecificationAttributeValueChangeEvent' notification event object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 
    "eventType":"ServiceUsageSpecificationAttributeValueChangeEvent", 
     "event": { 
        "serviceUsageSpecification" :  
            {-- SEE ServiceUsageSpecification RESOURCE SAMPLE --} 
    } 
} 
 
Service Usage Specification Delete Event 
Notification ServiceUsageSpecificationDeleteEvent case for resource ServiceUsageSpecification 
Json representation sample 
We provide below the json representation of an example of a 'ServiceUsageSpecificationDeleteEvent' notification 
event object 
{ 
    "eventId":"00001", 
    "eventTime":"2015-11-16T16:42:25-04:00", 
    "eventType":"ServiceUsageSpecificationDeleteEvent", 
     "event": { 
        "serviceUsageSpecification" :  


            {-- SEE ServiceUsageSpecification RESOURCE SAMPLE --} 
    } 
} 
 
 
 


 API OPERATIONS 
Remember the following Uniform Contract: 
Operation on Entities 
Uniform API Operation 
Description 
Query Entities 
GET Resource 
GET must be used to retrieve a 
representation of a resource. 
 
Create Entity 
POST Resource 
POST must be used to create a 
new resource 
Partial Update of an Entity 
PATCH Resource 
PATCH must be used to partially 
update a resource 
Remove an Entity 
DELETE Resource 
DELETE must be used to remove 
a resource 
Execute an Action on an Entity  
POST on TASK Resource 
POST must be used to execute 
Task Resources 
Other Request Methods 
POST on TASK Resource 
GET and POST must not be used 
to tunnel other request 
methods. 
 
Filtering and attribute selection rules are described in the TMF REST Design Guidelines. 
Notifications are also described in a subsequent section. 
 
Operations on Service Usage 
List service usages 
  GET /serviceUsage?fields=...&{filtering} 
Description 
This operation list service usage entities. 
Attribute selection is enabled for all first level attributes. 
Filtering may be available depending on the compliance level supported by an implementation. 


 
Usage Samples 
Retrieving previous Usage details for the usageType of 'Voice'. 
 
Request 
 
GET /tmf-api/serviceUsage/v4/serviceUsage?fields=id,href,status,usageType,usageDate&usageType=Voice 
Accept: application/json 
 
 
 
Response 
 
200 
 
[ 
    { 
        "id": "93c2-683ea281566c", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsage/93c2-683ea281566c", 
        "status": "generated", 
        "usageType": "Voice", 
        "usageDate": "2020-11-20T08:13:16.000Z" 
    }, 
    { 
        "id": "bbba-0c6e63171b78", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsage/bbba-0c6e63171b78", 
        "status": "generated", 
        "usageType": "Voice", 
        "usageDate": "2020-09-01T08:30:01.000Z" 
    } 
] 
 
Retrieve service usage 
  GET /serviceUsage/{id}?fields=...&{filtering} 
Description 
This operation retrieves a service usage entity. 
Attribute selection is enabled for all first level attributes. 
Filtering on sub-resources may be available depending on the compliance level supported by an implementation. 
 
Usage Samples 
A request for a previous Usage event. The criteria is the Usage id 5130d5131a23 


 
Request 
 
GET /tmf-api/serviceUsage/v4/serviceUsage/5130d5131a23 
Accept: application/json 
 
 
 
Response 
 
200 
 
{ 
    "id": "5130d5131a23", 
    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsage/5130d5131a23", 
    "usageDate": "2020-11-20T16:07:00Z", 
    "description": "Voice Call", 
    "usageType": "Voice", 
    "status": "generated", 
    "@type": "ServiceUsage", 
    "service": { 
        "id": "8132-b246a6746137", 
        "href": "https://api.csp.com/tmf-api/serviceInventory/v4/service/8132-b246a6746137", 
        "name": "Ivor voice service" 
    }, 
    "usageSpecification": { 
        "id": "8b64-0cfd1a90c9ed", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
        "name": "Voice Call Usage Specification", 
        "@referredType": "ServiceUsageSpecification" 
    }, 
    "relatedParty": [ 
        { 
            "id": "8185-b246a6746136", 
            "href": "https://api.csp.com/tmf-api/partyManagement/v4/individual/8185-b246a6746136", 
            "name": "Ivor Message", 
            "role": "Customer", 
            "@referredType": "Individual" 
        } 
    ], 
    "usageCharacteristic": [ 
        { 
            "name": "originatingCountryCode", 
            "value": "43" 
        }, 
        { 
            "name": "originatingNumber", 
            "value": "676123456789" 
        }, 
        { 
            "name": "destinationCountryCode", 
            "value": "49" 
        }, 
        { 
            "name": "destinationNumber", 


            "value": "170123456789" 
        }, 
        { 
            "name": "duration", 
            "value": 20 
        }, 
        { 
            "name": "unit", 
            "value": "SEC" 
        } 
    ] 
} 
 
Create service usage 
  POST /serviceUsage 
Description 
This operation creates a service usage entity. 
Mandatory and Non Mandatory Attributes 
The following tables provide the list of mandatory and non mandatory attributes when creating a ServiceUsage, 
including any possible rule conditions and applicable default values. Notice that it is up to an implementer to add 
additional mandatory attributes. 
Mandatory Attributes 
Rule 
status 
 
 
Non Mandatory Attributes 
Rule 
@baseType 
 
@schemaLocation 
 
@type 
 
description 
 
relatedParty 
 
service 
 
usageCharacteristic 
 
usageDate 
 
usageSpecification 
 
usageType 
 
 
Usage Samples 
Create a Usage event for a Voice call retrieval - the resulting resource ID is 5130d5131a23 


 
Request 
 
POST /tmf-api/serviceUsage/v4/serviceUsage 
Content-Type: application/json 
 
{ 
    "description": "Voice Call", 
    "usageType": "Voice", 
    "status": "generated", 
    "service": { 
        "id": "8132-b246a6746137", 
        "href": "https://api.csp.com/tmf-api/serviceInventory/v4/service/8132-b246a6746137", 
        "name": "Ivor voice service" 
    }, 
    "usageSpecification": { 
        "id": "8b64-0cfd1a90c9ed", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
        "name": "Voice Call Usage Specification", 
        "@referredType": "ServiceUsageSpecification" 
    }, 
    "relatedParty": [ 
        { 
            "id": "8185-b246a6746136", 
            "href": "https://api.csp.com/tmf-api/partyManagement/v4/individual/8185-b246a6746136", 
            "name": "Ivor Message", 
            "role": "Customer", 
            "@referredType": "Individual" 
        } 
    ], 
    "usageCharacteristic": [ 
        { 
            "name": "originatingCountryCode", 
            "value": "43" 
        }, 
        { 
            "name": "originatingNumber", 
            "value": "676123456789" 
        }, 
        { 
            "name": "destinationCountryCode", 
            "value": "49" 
        }, 
        { 
            "name": "destinationNumber", 
            "value": "170123456789" 
        }, 
        { 
            "name": "duration", 
            "value": 20 
        }, 
        { 
            "name": "unit", 
            "value": "SEC" 
        } 


    ] 
} 
 
 
 
Response 
 
201 
 
{ 
    "id": "5130d5131a23", 
    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsage/5130d5131a23", 
    "usageDate": "2020-11-20T16:07:00Z", 
    "description": "Voice Call", 
    "usageType": "Voice", 
    "status": "generated", 
    "@type": "ServiceUsage", 
    "service": { 
        "id": "8132-b246a6746137", 
        "href": "https://api.csp.com/tmf-api/serviceInventory/v4/service/8132-b246a6746137", 
        "name": "Ivor voice service" 
    }, 
    "usageSpecification": { 
        "id": "8b64-0cfd1a90c9ed", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
        "name": "Voice Call Usage Specification", 
        "@referredType": "ServiceUsageSpecification" 
    }, 
    "relatedParty": [ 
        { 
            "id": "8185-b246a6746136", 
            "href": "https://api.csp.com/tmf-api/partyManagement/v4/individual/8185-b246a6746136", 
            "name": "Ivor Message", 
            "role": "Customer", 
            "@referredType": "Individual" 
        } 
    ], 
    "usageCharacteristic": [ 
        { 
            "name": "originatingCountryCode", 
            "value": "43" 
        }, 
        { 
            "name": "originatingNumber", 
            "value": "676123456789" 
        }, 
        { 
            "name": "destinationCountryCode", 
            "value": "49" 
        }, 
        { 
            "name": "destinationNumber", 
            "value": "170123456789" 
        }, 
        { 


            "name": "duration", 
            "value": 20 
        }, 
        { 
            "name": "unit", 
            "value": "SEC" 
        } 
    ] 
} 
 
Patch service usage 
  PATCH /serviceUsage/{id} 
Description 
This operation allows partial updates of a service usage entity. Support of json/merge 
(https://tools.ietf.org/html/rfc7386) is mandatory, support of json/patch (http://tools.ietf.org/html/rfc5789) is 
optional. 
 
Note: If the update operation yields to the creation of sub-resources or relationships, the same rules concerning 
mandatory sub-resource attributes and default value settings in the POST operation applies to the PATCH 
operation.  Hence these tables are not repeated here. 
Patchable and Non Patchable Attributes 
The tables below provide the list of patchable and non patchable attributes, including constraint rules on their 
usage. 
Patchable Attributes 
Rule 
@baseType 
 
@schemaLocation 
 
@type 
 
description 
 
relatedParty 
 
service 
 
status 
 
usageCharacteristic 
 
usageSpecification 
 
usageType 
 
 
Non Patchable Attributes 
Rule 
usageDate 
 
href 
 
id 
 
 
Usage Samples 


Changing the lifecycle state of a previous Service Usage event, changing the Service Usage with id 5130d5131a23 
 
Request 
 
PATCH /tmf-api/serviceUsage/v4/serviceUsage/5130d5131a23 
Content-Type: application/merge-patch+json 
 
{ 
    "status": "archived" 
} 
 
 
 
Response 
 
200 
 
{ 
    "id": "5130d5131a23", 
    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsage/5130d5131a23", 
    "usageDate": "2020-11-20T16:07:00Z", 
    "description": "Voice Call", 
    "usageType": "Voice", 
    "status": "archived", 
    "@type": "ServiceUsage", 
    "service": { 
        "id": "8132-b246a6746137", 
        "href": "https://api.csp.com/tmf-api/serviceInventory/v4/service/8132-b246a6746137", 
        "name": "Ivor voice service" 
    }, 
    "usageSpecification": { 
        "id": "8b64-0cfd1a90c9ed", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
        "name": "Voice Call Usage Specification", 
        "@referredType": "ServiceUsageSpecification" 
    }, 
    "relatedParty": [ 
        { 
            "id": "8185-b246a6746136", 
            "href": "https://api.csp.com/tmf-api/partyManagement/v4/individual/8185-b246a6746136", 
            "name": "Ivor Message", 
            "role": "Customer", 
            "@referredType": "Individual" 
        } 
    ], 
    "usageCharacteristic": [ 
        { 
            "name": "originatingCountryCode", 
            "value": "43" 
        }, 
        { 
            "name": "originatingNumber", 
            "value": "676123456789" 
        }, 


        { 
            "name": "destinationCountryCode", 
            "value": "49" 
        }, 
        { 
            "name": "destinationNumber", 
            "value": "170123456789" 
        }, 
        { 
            "name": "duration", 
            "value": 20 
        }, 
        { 
            "name": "unit", 
            "value": "SEC" 
        } 
    ] 
} 
 
Delete service usage 
  DELETE /serviceUsage/{id} 
Description 
This operation deletes a service usage entity. 
 
Usage Samples 
A request to delete an existing Service Usage event 
 
Request 
 
DELETE /tmf-api/serviceUsage/v4/serviceUsage/5130d5131a23 
 
 
 
Response 
 
204 
 
 
Operations on Service Usage Specification 
List service usage specifications 
  GET /serviceUsageSpecification?fields=...&{filtering} 


Description 
This operation list service usage specification entities. 
Attribute selection is enabled for all first level attributes. 
Filtering may be available depending on the compliance level supported by an implementation. 
 
Usage Samples 
Retrieving previous ServiceUsageSpecifications which are at version 2.5 
 
Request 
 
GET /tmf-api/serviceUsage/v4/serviceUsageSpecification?version=2.5 
Accept: application/json 
 
 
 
Response 
 
200 
 
[ 
    { 
        "id": "8b64-0cfd1a90c9ed", 
        "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
        "description": "Specification of usage for voice calls", 
        "isBundle": false, 
        "lastUpdate": "2020-07-07T08:34:13.831Z", 
        "lifecycleStatus": "string", 
        "name": "Voice-Usage-Specification", 
        "version": "2.5", 
        "specCharacteristic": [ 
            { 
                "name": "Originating Country Code", 
                "description": "Country Code of the caller", 
                "configurable": true, 
                "valueType": "string", 
                "minCardinality": 1, 
                "maxCardinality": 1 
            }, 
            { 
                "name": "Originating Number", 
                "description": "Phone number of the caller", 
                "configurable": true, 
                "valueType": "string", 
                "minCardinality": 1, 
                "maxCardinality": 1 
            }, 
            { 
                "name": "Destination Country Code", 
                "description": "Country Code of the recipient", 


                "configurable": true, 
                "valueType": "string", 
                "minCardinality": 1, 
                "maxCardinality": 1 
            }, 
            { 
                "name": "Destination Number", 
                "description": "Phone number of the recipient", 
                "configurable": true, 
                "valueType": "string", 
                "minCardinality": 1, 
                "maxCardinality": 1 
            }, 
            { 
                "name": "Duration", 
                "description": "Duration of the call in seconds", 
                "configurable": true, 
                "valueType": "number", 
                "minCardinality": 1, 
                "maxCardinality": 1 
            }, 
            { 
                "name": "startDateTime", 
                "description": "Start date and start time of the call", 
                "configurable": true, 
                "valueType": "dateTime", 
                "minCardinality": 1, 
                "maxCardinality": 1 
            }, 
            { 
                "name": "endDateTime", 
                "description": "End date and end time of the call", 
                "configurable": true, 
                "valueType": "dateTime", 
                "minCardinality": 1, 
                "maxCardinality": 1 
            } 
        ] 
    } 
] 
 
Retrieve service usage specification 
  GET /serviceUsageSpecification/{id}?fields=...&{filtering} 
Description 
This operation retrieves a service usage specification entity. 
Attribute selection is enabled for all first level attributes. 
Filtering on sub-resources may be available depending on the compliance level supported by an implementation. 
 


Usage Samples 
A request for a specific ServiceUsageSpecification with an id 8b64-0cfd1a90c9ed 
 
Request 
 
GET /tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed 
Accept: application/json 
 
 
 
Response 
 
200 
 
{ 
    "id": "8b64-0cfd1a90c9ed", 
    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
    "description": "Specification of usage for voice calls", 
    "isBundle": false, 
    "lastUpdate": "2020-07-07T08:34:13.831Z", 
    "lifecycleStatus": "string", 
    "name": "Voice-Usage-Specification", 
    "version": "2.5", 
    "specCharacteristic": [ 
        { 
            "name": "Originating Country Code", 
            "description": "Country Code of the caller", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Originating Number", 
            "description": "Phone number of the caller", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Country Code", 
            "description": "Country Code of the recipient", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Number", 
            "description": "Phone number of the recipient", 
            "configurable": true, 


            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Duration", 
            "description": "Duration of the call in seconds", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "startDateTime", 
            "description": "Start date and start time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "endDateTime", 
            "description": "End date and end time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        } 
    ] 
} 
 
Create service usage specification 
  POST /serviceUsageSpecification 
Description 
This operation creates a service usage specification entity. 
Mandatory and Non Mandatory Attributes 
The following tables provide the list of mandatory and non mandatory attributes when creating a 
ServiceUsageSpecification, including any possible rule conditions and applicable default values. Notice that it is up 
to an implementer to add additional mandatory attributes. 
Mandatory Attributes 
Rule 
 
Non Mandatory Attributes 
Rule 
description 
 
isBundle 
 
lastUpdate 
 


lifecycleStatus 
 
name 
 
version 
 
@baseType 
 
@schemaLocation 
 
@type 
 
serviceSpecification 
 
serviceUsageSpecRelationship 
 
attachment 
 
constraint 
 
entitySpecRelationship 
 
relatedParty 
 
specCharacteristic 
 
targetEntitySchema 
 
validFor 
 
 
Usage Samples 
Create a ServiceUsageSpecification for a Voice call - the resulting resource id is 8b64-0cfd1a90c9ed 
 
Request 
 
POST /tmf-api/serviceUsage/v4/serviceUsageSpecification 
Content-Type: application/json 
 
{ 
    "description": "Specification of usage for voice calls", 
    "isBundle": false, 
    "lastUpdate": "2020-07-07T08:34:13.831Z", 
    "name": "Voice-Usage-Specification", 
    "version": "2.5", 
    "relatedServiceSpecification": [ 
        { 
            "href": "https://mycsp.com:8080/tmf-api/serviceCatalogManagement/v4/serviceSpecification/31", 
            "id": "31", 
            "@referredType": "VoiceServiceSpecification" 
        } 
    ], 
    "specCharacteristic": [ 
        { 
            "name": "Originating Country Code", 
            "description": "Country Code of the caller", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Originating Number", 
            "description": "Phone number of the caller", 
            "configurable": true, 


            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Country Code", 
            "description": "Country Code of the recipient", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Number", 
            "description": "Phone number of the recipient", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Duration", 
            "description": "Duration of the call in seconds", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "startDateTime", 
            "description": "Start date and start time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "endDateTime", 
            "description": "End date and end time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        } 
    ] 
} 
 
 
 
Response 
 
201 
 
{ 
    "id": "8b64-0cfd1a90c9ed", 


    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
    "description": "Specification of usage for voice calls", 
    "isBundle": false, 
    "lastUpdate": "2020-07-07T08:34:13.831Z", 
    "name": "Voice-Usage-Specification", 
    "version": "2.5", 
    "relatedServiceSpecification": [ 
        { 
            "href": "https://mycsp.com:8080/tmf-api/serviceCatalogManagement/v4/serviceSpecification/31", 
            "id": "31", 
            "@referredType": "VoiceServiceSpecification" 
        } 
    ], 
    "specCharacteristic": [ 
        { 
            "name": "Originating Country Code", 
            "description": "Country Code of the caller", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Originating Number", 
            "description": "Phone number of the caller", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Country Code", 
            "description": "Country Code of the recipient", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Number", 
            "description": "Phone number of the recipient", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Duration", 
            "description": "Duration of the call in seconds", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 


            "name": "startDateTime", 
            "description": "Start date and start time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "endDateTime", 
            "description": "End date and end time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        } 
    ] 
} 
 
Patch service usage specification 
  PATCH /serviceUsageSpecification/{id} 
Description 
This operation allows partial updates of a service usage specification entity. Support of json/merge 
(https://tools.ietf.org/html/rfc7386) is mandatory, support of json/patch (http://tools.ietf.org/html/rfc5789) is 
optional. 
 
Note: If the update operation yields to the creation of sub-resources or relationships, the same rules concerning 
mandatory sub-resource attributes and default value settings in the POST operation applies to the PATCH 
operation.  Hence these tables are not repeated here. 
Patchable and Non Patchable Attributes 
The tables below provide the list of patchable and non patchable attributes, including constraint rules on their 
usage. 
Patchable Attributes 
Rule 
description 
 
isBundle 
 
lastUpdate 
 
lifecycleStatus 
 
name 
 
version 
 
@baseType 
 
@schemaLocation 
 
@type 
 
serviceSpecification 
 
serviceUsageSpecRelationship 
 
attachment 
 


constraint 
 
entitySpecRelationship 
 
relatedParty 
 
specCharacteristic 
 
targetEntitySchema 
 
validFor 
 
 
Non Patchable Attributes 
Rule 
id 
 
href 
 
 
Usage Samples 
Changing the version of an existing ServiceUsageSpecification with an id of 8b64-0cfd1a90c9ed 
 
Request 
 
PATCH /tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed 
Content-Type: application/merge-patch+json 
 
{ 
    "version": "3.0" 
} 
 
 
 
Response 
 
200 
 
{ 
    "id": "8b64-0cfd1a90c9ed", 
    "href": "https://api.csp.com/tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed", 
    "isBundle": false, 
    "lastUpdate": "2020-07-07T08:34:13.831Z", 
    "name": "Voice-Usage-Specification", 
    "version": "3.0", 
    "specCharacteristic": [ 
        { 
            "name": "Originating Country Code", 
            "description": "Country Code of the caller", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Originating Number", 
            "description": "Phone number of the caller", 
            "configurable": true, 


            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Country Code", 
            "description": "Country Code of the recipient", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Destination Number", 
            "description": "Phone number of the recipient", 
            "configurable": true, 
            "valueType": "string", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "Duration", 
            "description": "Duration of the call in seconds", 
            "configurable": true, 
            "valueType": "number", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "startDateTime", 
            "description": "Start date and start time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        }, 
        { 
            "name": "endDateTime", 
            "description": "End date and end time of the call", 
            "configurable": true, 
            "valueType": "dateTime", 
            "minCardinality": 1, 
            "maxCardinality": 1 
        } 
    ] 
} 
 
Delete service usage specification 
  DELETE /serviceUsageSpecification/{id} 
Description 
This operation deletes a service usage specification entity. 


 
Usage Samples 
A request to delete an existing ServiceUsageSpecification with an id of 8b64-0cfd1a90c9ed 
 
Request 
 
DELETE /tmf-api/serviceUsage/v4/serviceUsageSpecification/8b64-0cfd1a90c9ed 
 
 
 
Response 
 
204 
 
 
 


API NOTIFICATIONS 
It is assumed that the Publish/Subscribe model uses the Register and UnRegister mechanisms described in the REST 
Guidelines. 
Register listener 
  POST /hub 
Description 
Sets the communication endpoint address the service instance must use to deliver information about its health 
state, execution state, failures and metrics. Subsequent POST calls will be rejected by the service if it does not 
support multiple listeners. In this case DELETE /api/hub/{id} must be called before an endpoint can be created 
again. 
Behavior 
Returns HTTP/1.1 status code 204 if the request was successful. 
Returns HTTP/1.1 status code 409 if request is not successful. 
Usage Samples 
Here's an example of a request for registering a listener. 
 
 
Request 
 
POST /api/hub 
Accept: application/json 
 
{"callback": "http://in.listener.com"} 
 
 
Response 
 
201 
Content-Type: application/json 
Location: /api/hub/42 
 
{"id":"42","callback":"http://in.listener.com","query":null} 
 
 
 
 


 
Unregister listener 
  DELETE /hub/{id} 
Description 
Clears the communication endpoint address that was set by creating the Hub.. 
Behavior 
Returns HTTP/1.1 status code 204 if the request was successful. 
Returns HTTP/1.1 status code 404 if the resource is not found. 
Usage Samples 
Here's an example of a request for un-registering a listener. 
 
Request 
 
DELETE /api/hub/42 
Accept: application/json 
 
 
Response 
 
204 
 
Publish Event to listener 
  POST /client/listener 
Description 
Clears the communication endpoint address that was set by creating the Hub. 
Provides to a registered listener the description of the event that was raised. The /client/listener url is the callback 
url passed when registering the listener. 
Behavior 
Returns HTTP/1.1 status code 201 if the service is able to set the configuration.  
Usage Samples 
Here's an example of a notification received by the listener. In this example “EVENT TYPE” should be replaced by 
one of the notification types supported by this API (see Notification resources Models section) and EVENT BODY 
refers to the data structure of the given notification type. 


 
Request 
 
POST /client/listener 
Accept: application/json 
 
{ 
    "event": {  
                EVENT BODY  
            }, 
    "eventType": "EVENT_TYPE" 
} 
 
 
Response 
 
201 
 
For detailed examples on the general TM Forum notification mechanism, see the TMF REST Design Guidelines. 
 
 
 


Acknowledgements 
 
Release History 
 
Release 
Number 
Date  
Release led by: 
Description  
Release 1.0 
10/08/2022 
Varun Nair (Telstra) 
Abdul Majid Hussain 
(Telstra) 
First version of the user guide for 
Service Usage management  
 
Contributors to Document 
 
Pierre Gauthier  
Chief Architect, TMForum 
 
 
 


